/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"App": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "js/" + ({}[chunkId]||chunkId) + "-" + {"0":"34939b07d809c82e42dc","1":"2ddf2a4566238ef0f046","2":"6d783cec07f939608f66","3":"930da2297dc18fbf928b","4":"a5ffee691dd71c11877c","5":"3f7d6db90ff075e13ac8","6":"1d9abaf55462fc8dd5f8","7":"7675c410fb4715fc6576","8":"f66471d41f268d3586b2","9":"91110c76640d81fcfeb7","10":"0321ca8bb069c837ceff","11":"a9baf0bfa560bc05afc0","12":"fcf6e67e3bd061eff581","13":"2abd8d3560db09795da7","14":"e402d44f285a6c2f4b5c","15":"c82de671bbd5ae4df1e0","16":"a2329f20135ab6c77995","17":"eb4b167af9dd38d9cee0","18":"6843ca1ef8465748415a","19":"bdb1e4478af717f09d30","20":"a64742e14b009917b498","21":"f09bd844fb9aa4627895","22":"fc2247d019456fafeed0","23":"7fceac9822cfed702bbd","24":"a376d457ae4886f61cbf","25":"1dd8d6d68114d01107cb","26":"a0b8308a72231b6c4073","27":"93c98c20a4cd0eb0a4ad","28":"a7b469c86e1b42251b75","29":"560004a91739dfb9018f"}[chunkId] + ".chunk.js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				// create error before stack unwound to get useful stacktrace later
/******/ 				var error = new Error();
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 							error.name = 'ChunkLoadError';
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/test-cordova/webpack/";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./app/javascript/entrypoints/App.tsx","vendor"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./app/assets/images/crazy-santa.png":
/*!*******************************************!*\
  !*** ./app/assets/images/crazy-santa.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = (Object({"NODE_ENV":"development","RAILS_ENV":"mobile_app"}).ASSET_HOST || '') + __webpack_require__.p + "media/images/crazy-santa-0d8ef8cb.png";

/***/ }),

/***/ "./app/assets/images/empty-avatar.png":
/*!********************************************!*\
  !*** ./app/assets/images/empty-avatar.png ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = (Object({"NODE_ENV":"development","RAILS_ENV":"mobile_app"}).ASSET_HOST || '') + __webpack_require__.p + "media/images/empty-avatar-f2fa1fd2.png";

/***/ }),

/***/ "./app/assets/images/empty-gift.png":
/*!******************************************!*\
  !*** ./app/assets/images/empty-gift.png ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = (Object({"NODE_ENV":"development","RAILS_ENV":"mobile_app"}).ASSET_HOST || '') + __webpack_require__.p + "media/images/empty-gift-36aad649.png";

/***/ }),

/***/ "./app/assets/images/man.png":
/*!***********************************!*\
  !*** ./app/assets/images/man.png ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = (Object({"NODE_ENV":"development","RAILS_ENV":"mobile_app"}).ASSET_HOST || '') + __webpack_require__.p + "media/images/man-5e3edd5a.png";

/***/ }),

/***/ "./app/assets/images/santa.png":
/*!*************************************!*\
  !*** ./app/assets/images/santa.png ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = (Object({"NODE_ENV":"development","RAILS_ENV":"mobile_app"}).ASSET_HOST || '') + __webpack_require__.p + "media/images/santa-09704d2b.png";

/***/ }),

/***/ "./app/assets/images/sprite.svg":
/*!**************************************!*\
  !*** ./app/assets/images/sprite.svg ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = (Object({"NODE_ENV":"development","RAILS_ENV":"mobile_app"}).ASSET_HOST || '') + __webpack_require__.p + "media/images/sprite-49c1d1ba.svg";

/***/ }),

/***/ "./app/assets/images/success.svg":
/*!***************************************!*\
  !*** ./app/assets/images/success.svg ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = (Object({"NODE_ENV":"development","RAILS_ENV":"mobile_app"}).ASSET_HOST || '') + __webpack_require__.p + "media/images/success-d1f5d08e.svg";

/***/ }),

/***/ "./app/assets/images/woman.png":
/*!*************************************!*\
  !*** ./app/assets/images/woman.png ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = (Object({"NODE_ENV":"development","RAILS_ENV":"mobile_app"}).ASSET_HOST || '') + __webpack_require__.p + "media/images/woman-db59af28.png";

/***/ }),

/***/ "./app/javascript/channels/BaseChannel.ts":
/*!************************************************!*\
  !*** ./app/javascript/channels/BaseChannel.ts ***!
  \************************************************/
/*! exports provided: BaseChannel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseChannel", function() { return BaseChannel; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _consumer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./consumer */ "./app/javascript/channels/consumer.ts");
/* harmony import */ var _Connection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Connection */ "./app/javascript/channels/Connection.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _rails_actioncable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @rails/actioncable */ "./node_modules/@rails/actioncable/app/assets/javascripts/action_cable.js");
/* harmony import */ var _rails_actioncable__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_rails_actioncable__WEBPACK_IMPORTED_MODULE_7__);




var _excluded = ["identifier"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }




var BaseChannel = /*#__PURE__*/function () {
  function BaseChannel() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, BaseChannel);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "name", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "_channel", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "_inactivityTimer", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "_connectionParams", {});
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "isConnected", false);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "connections", {});
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(BaseChannel, [{
    key: "getChannel",
    value: function getChannel() {
      return this._channel;
    }
  }, {
    key: "getChannelName",
    value: function getChannelName() {
      return this.name;
    }
  }, {
    key: "callOnConnections",
    value: function callOnConnections(method) {
      for (var _len = arguments.length, methodArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        methodArgs[_key - 1] = arguments[_key];
      }
      Object.values(this.connections).map(function (connection) {
        connection[method].apply(connection, methodArgs);
      });
    }
  }, {
    key: "createChannel",
    value: function createChannel() {
      var _this = this;
      var onConnect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      if (!this._channel) this._channel = _consumer__WEBPACK_IMPORTED_MODULE_4__["default"].subscriptions.create(_objectSpread({
        channel: this.getChannelName()
      }, this._connectionParams), {
        connected: function connected() {
          onConnect && onConnect();
          _this.isConnected = true;
          console.log("Connect to channel \"".concat(_this.getChannelName(), "\""));
        },
        disconnected: function disconnected() {
          _this.callOnConnections('fireEvents', 'disconnect');
        },
        received: function received(payload) {
          _this.callOnConnections('fireEvents', 'receive', payload);
        }
      });else {
        onConnect && onConnect();
      }
      return this._channel;
    }
  }, {
    key: "connect",
    value: function connect(_ref) {
      var events = _ref.events,
        connectParams = _ref.connectParams;
      this._connectionParams = _objectSpread({}, connectParams);
      var connection = new _Connection__WEBPACK_IMPORTED_MODULE_5__["Connection"]({
        channel: this,
        events: events
      });
      this.createChannel(function () {
        events.connect && events.connect();
        //this.startInactivityEvents();
      });

      // Redefine native send method
      if (events.nativeSend) this._channel.consumer.connection.send = function (data) {
        var identifier = data.identifier,
          otherData = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(data, _excluded);
        if (data.command != 'message' || events.nativeSend(_objectSpread(_objectSpread({}, otherData), {}, {
          identifier: JSON.parse(identifier)
        }))) return _rails_actioncable__WEBPACK_IMPORTED_MODULE_7__["Connection"].prototype.send.call(this, data);else return false;
      };
      this.connections[connection.id] = connection;
      return {
        channel: this,
        connection: connection
      };
    }
  }, {
    key: "closeConnection",
    value: function closeConnection(connection) {
      delete this.connections[connection.id];
      this.disconnect();
    }
  }, {
    key: "forceDisconnect",
    value: function forceDisconnect() {
      if (!this._channel) return;
      this.softDisconnect();
      this.connections = {};
      this.removeInactivityEvents();
    }
  }, {
    key: "softDisconnect",
    value: function softDisconnect() {
      if (!this._channel) return;
      this._channel.unsubscribe();
      //this._channel.consumer.disconnect();
      this._channel = null;
    }
  }, {
    key: "disconnect",
    value: function disconnect() {
      !Object.values(this.connections).length && this.forceDisconnect();
    }
  }, {
    key: "inactivityHandler",
    value: function inactivityHandler() {
      var _this2 = this;
      clearTimeout(this._inactivityTimer);
      this.createChannel();
      this._inactivityTimer = setTimeout(function () {
        if (!_this2.isConnected) return;
        _this2.softDisconnect();
        console.log("Disconnected from channel \"".concat(_this2.getChannelName(), "\" due to inactivity"));
      }, _core_constants__WEBPACK_IMPORTED_MODULE_6__["SOCKET_INACTIVITY_PERIOD_S"] * 1000);
    }
  }, {
    key: "startInactivityEvents",
    value: function startInactivityEvents() {
      var _this3 = this;
      this.inactivityHandler();
      BaseChannel.INACTIVITY_EVENTS.map(function (e) {
        return document.addEventListener(e, _this3.inactivityHandler.bind(_this3), false);
      });
    }
  }, {
    key: "removeInactivityEvents",
    value: function removeInactivityEvents() {
      var _this4 = this;
      BaseChannel.INACTIVITY_EVENTS.map(function (e) {
        return document.removeEventListener(e, _this4.inactivityHandler);
      });
    }
  }]);
  return BaseChannel;
}();
_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(BaseChannel, "INACTIVITY_EVENTS", ['mousemove', 'mousedown', 'keypress', 'touchmove']);

/***/ }),

/***/ "./app/javascript/channels/Connection.ts":
/*!***********************************************!*\
  !*** ./app/javascript/channels/Connection.ts ***!
  \***********************************************/
/*! exports provided: Connection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Connection", function() { return Connection; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);




var Connection = /*#__PURE__*/function () {
  function Connection(_ref) {
    var channel = _ref.channel,
      events = _ref.events;
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Connection);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "id", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "channel", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "events", []);
    this.channel = channel;
    this.id = '_' + Math.random().toString(36).substr(2, 9);
    events && this.handleEvents(events);
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Connection, [{
    key: "fireEvents",
    value: function fireEvents(name) {
      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      this.events.map(function (e) {
        e.name == name && e.handler(payload);
      });
    }
  }, {
    key: "handleEvents",
    value: function handleEvents(events) {
      var _this = this;
      Object.entries(events).map(function (_ref2) {
        var _ref3 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref2, 2),
          eventName = _ref3[0],
          eventHandler = _ref3[1];
        if (!eventHandler) return;
        _this.events.push({
          name: eventName,
          handler: eventHandler
        });
      });
    }
  }, {
    key: "close",
    value: function close() {
      this.channel && this.channel.closeConnection(this);
    }
  }]);
  return Connection;
}();

/***/ }),

/***/ "./app/javascript/channels/PageProgressBar.tsx":
/*!*****************************************************!*\
  !*** ./app/javascript/channels/PageProgressBar.tsx ***!
  \*****************************************************/
/*! exports provided: startLoading, endLoading, PageProgressBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startLoading", function() { return startLoading; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "endLoading", function() { return endLoading; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageProgressBar", function() { return PageProgressBar; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);



// @ts-ignore


function randomInt(low, high) {
  return Math.floor(Math.random() * (high - low) + low);
}
var startLoading = function startLoading() {},
  endLoading = function endLoading() {};

function PageProgressBar() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    isLoading = _useState2[0],
    setIsLoading = _useState2[1];
  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),
    isFinished = _useState4[0],
    setIsFinished = _useState4[1];
  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(0),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState5, 2),
    progress = _useState6[0],
    setProgress = _useState6[1];
  var progressInterval = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])(0);
  var finishedTimeout = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])(0);
  startLoading = function startLoading() {
    var random = randomInt(10, 20);
    setProgress(0);
    setTimeout(function () {
      setIsLoading(true);
      setIsFinished(false);
      setProgress(random);
      progressInterval.current = setInterval(function () {
        if (progress < 90) setProgress(function (i) {
          return i + randomInt(2, 5);
        });else clearInterval(progressInterval.current);
      }, 50);
    });
  };
  endLoading = function endLoading() {
    clearInterval(progressInterval.current);
    setProgress(100);
    setIsFinished(true);
  };
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    return function () {
      clearInterval(progressInterval.current);
      clearTimeout(finishedTimeout.current);
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('page-progress-bar', {
      'is-loading': isLoading,
      'is-finished': isFinished
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    style: {
      width: progress + '%'
    }
  }));
}

/***/ }),

/***/ "./app/javascript/channels/Room.tsx":
/*!******************************************!*\
  !*** ./app/javascript/channels/Room.tsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _BaseChannel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseChannel */ "./app/javascript/channels/BaseChannel.ts");







function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var RoomChannel = /*#__PURE__*/function (_BaseChannel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(RoomChannel, _BaseChannel);
  var _super = _createSuper(RoomChannel);
  function RoomChannel() {
    var _this;
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, RoomChannel);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), "name", 'RoomChannel');
    return _this;
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(RoomChannel, [{
    key: "sendMessage",
    value: function sendMessage(newMessageText) {
      var image = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
      this.getChannel().send({
        event: "new_message",
        data: _objectSpread({
          message: newMessageText
        }, image ? {
          image: image
        } : {})
      });
    }
  }, {
    key: "readMessage",
    value: function readMessage(messageId) {
      this.getChannel().send({
        event: "read_message",
        data: {
          messageId: messageId
        }
      });
    }
  }]);
  return RoomChannel;
}(_BaseChannel__WEBPACK_IMPORTED_MODULE_7__["BaseChannel"]);
var channel = new RoomChannel();
/* harmony default export */ __webpack_exports__["default"] = (channel);

/***/ }),

/***/ "./app/javascript/channels/RoomNotifications.tsx":
/*!*******************************************************!*\
  !*** ./app/javascript/channels/RoomNotifications.tsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _BaseChannel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseChannel */ "./app/javascript/channels/BaseChannel.ts");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var RoomNotificationsChannel = /*#__PURE__*/function (_BaseChannel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(RoomNotificationsChannel, _BaseChannel);
  var _super = _createSuper(RoomNotificationsChannel);
  function RoomNotificationsChannel() {
    var _this;
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, RoomNotificationsChannel);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), "name", 'RoomNotificationsChannel');
    return _this;
  }
  return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0___default()(RoomNotificationsChannel);
}(_BaseChannel__WEBPACK_IMPORTED_MODULE_7__["BaseChannel"]);
var channel = new RoomNotificationsChannel();
/* harmony default export */ __webpack_exports__["default"] = (channel);

/***/ }),

/***/ "./app/javascript/channels/consumer.ts":
/*!*********************************************!*\
  !*** ./app/javascript/channels/consumer.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _rails_actioncable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @rails/actioncable */ "./node_modules/@rails/actioncable/app/assets/javascripts/action_cable.js");
/* harmony import */ var _rails_actioncable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_rails_actioncable__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ __webpack_exports__["default"] = (Object(_rails_actioncable__WEBPACK_IMPORTED_MODULE_0__["createConsumer"])(function () {
  return "".concat(("https://vs.mysanta-dev.xyz" || false).replace(/https*/, 'wss').replace(/\/$/, ''), "/cable?token=").concat(localStorage.getItem('auth_token'));
}));

/***/ }),

/***/ "./app/javascript/components/ActiveStorage.tsx":
/*!*****************************************************!*\
  !*** ./app/javascript/components/ActiveStorage.tsx ***!
  \*****************************************************/
/*! exports provided: ActiveStorage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActiveStorage", function() { return ActiveStorage; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");




function ActiveStorage(_ref) {
  var onPreview = _ref.onPreview,
    onBeforeUpload = _ref.onBeforeUpload,
    onUploaded = _ref.onUploaded,
    onError = _ref.onError,
    onFinally = _ref.onFinally,
    inputProps = _ref.inputProps,
    rootProps = _ref.rootProps,
    customFile = _ref.customFile,
    children = _ref.children;
  var inputRef = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])(0);
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    isLoading = _useState2[0],
    setIsLoading = _useState2[1];
  var handleFile = function handleFile(file) {
    if (!file) return;
    var reader = new FileReader();
    reader.addEventListener("load", function (_ref2) {
      var target = _ref2.target;
      if (target && target.result) {
        onPreview && onPreview(file.name, target.result);
      }
    });
    reader.readAsDataURL(file);
    setIsLoading(true);
    onBeforeUpload && onBeforeUpload();
    Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_3__["activeStorageUpload"])(file).then(function (blob) {
      onUploaded(blob);
      inputRef.current.value = '';
    })["catch"](function (error) {
      return onError && onError(error);
    })["finally"](function () {
      onFinally && onFinally();
      setIsLoading(false);
    });
  };
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    handleFile(customFile);
  }, [customFile]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, isLoading ? {
    style: {
      pointerEvents: 'none'
    }
  } : {}, rootProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    disabled: isLoading,
    style: {
      width: 0,
      height: 0,
      position: 'absolute',
      left: 0,
      top: 0,
      opacity: 0
    },
    ref: inputRef,
    onChange: function onChange(e) {
      return handleFile(e.target.files[0]);
    },
    type: "file",
    accept: "image/jpeg,image/png"
  }, inputProps)), children);
}

/***/ }),

/***/ "./app/javascript/components/AddressSuggestion/FetchService.ts":
/*!*********************************************************************!*\
  !*** ./app/javascript/components/AddressSuggestion/FetchService.ts ***!
  \*********************************************************************/
/*! exports provided: FetchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FetchService", function() { return FetchService; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _sources_DaDataSource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sources/DaDataSource */ "./app/javascript/components/AddressSuggestion/sources/DaDataSource.ts");
/* harmony import */ var _sources_GooglePlacesSource__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sources/GooglePlacesSource */ "./app/javascript/components/AddressSuggestion/sources/GooglePlacesSource.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/constants */ "./app/javascript/core/constants.ts");






var FetchService = /*#__PURE__*/function () {
  function FetchService() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, FetchService);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "dadata", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "google", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "requestTimeout", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "data", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "activeFetchSource", void 0);
    this.dadata = new _sources_DaDataSource__WEBPACK_IMPORTED_MODULE_3__["DaDataSource"]();
    this.google = new _sources_GooglePlacesSource__WEBPACK_IMPORTED_MODULE_4__["GooglePlacesSource"]();
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FetchService, [{
    key: "fetch",
    value: function fetch(query) {
      var _this = this;
      return new Promise(function (resolve) {
        var dadata = _this.dadata,
          google = _this.google;
        var fetchSource = _core_constants__WEBPACK_IMPORTED_MODULE_5__["ADDRESS_SUGGESTIONS_GOOGLE_USE_REGEXP"].test(query) ? google : dadata;
        clearTimeout(_this.requestTimeout);
        _this.requestTimeout = setTimeout(function () {
          resolve(fetchSource.load(query).then(function (list) {
            _this.data = list;
            _this.activeFetchSource = fetchSource;
            return list;
          }));
        }, _core_constants__WEBPACK_IMPORTED_MODULE_5__["ADDRESS_SUGGESTIONS_REQUEST_TIMEOUT"]);
      });
    }
  }, {
    key: "onSelect",
    value: function onSelect(index) {
      return this.activeFetchSource.onSelect(index);
    }
  }]);
  return FetchService;
}();

/***/ }),

/***/ "./app/javascript/components/AddressSuggestion/index.tsx":
/*!***************************************************************!*\
  !*** ./app/javascript/components/AddressSuggestion/index.tsx ***!
  \***************************************************************/
/*! exports provided: AddressSuggestions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddressSuggestions", function() { return AddressSuggestions; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var shallowequal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
/* harmony import */ var shallowequal__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(shallowequal__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _HighlightWords__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../HighlightWords */ "./app/javascript/components/HighlightWords.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _Scrollbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Scrollbar */ "./app/javascript/components/Scrollbar.tsx");
/* harmony import */ var _FetchService__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FetchService */ "./app/javascript/components/AddressSuggestion/FetchService.ts");



var _excluded = ["inputProps"];







function AddressSuggestions(_ref) {
  var inputProps = _ref.inputProps,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var defaultQuery = props.defaultQuery,
    value = props.value;
  var valueQuery = value ? value.value : undefined;
  var inputEl = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(0),
    fetchService = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(new _FetchService__WEBPACK_IMPORTED_MODULE_9__["FetchService"]()),
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(defaultQuery || valueQuery || ''),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    query = _useState2[0],
    setQuery = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    displaySuggestions = _useState4[0],
    setDisplaySuggestions = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(defaultQuery || valueQuery || ''),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    inputQuery = _useState6[0],
    setInputQuery = _useState6[1],
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7, 2),
    isFocused = _useState8[0],
    setIsFocused = _useState8[1],
    _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])([]),
    _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState9, 2),
    suggestions = _useState10[0],
    setSuggestions = _useState10[1],
    _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(0),
    _useState12 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState11, 2),
    suggestionIndex = _useState12[0],
    setSuggestionIndex = _useState12[1],
    prevPropValue = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_7__["usePrevious"])(props.value);
  var fetchSuggestions = function fetchSuggestions() {
    fetchService.current.fetch(query).then(function (suggs) {
      return suggs && setSuggestions(suggs);
    });
  };
  var onFocus = function onFocus(e) {
    setIsFocused(true);
    suggestions.length === 0 && fetchSuggestions();
    inputProps && inputProps.onFocus && inputProps.onFocus(e);
  };
  var onFocusOut = function onFocusOut(e) {
    setIsFocused(false);
    suggestions.length === 0 && fetchSuggestions();
    inputProps && inputProps.onBlur && inputProps.onBlur(e);
  };
  var onChange = function onChange(e) {
    var value = e.target.value;
    setQuery(value);
    setInputQuery(value);
    setDisplaySuggestions(true);
    fetchSuggestions();
    inputProps && inputProps.onChange && inputProps.onChange(e);
  };
  var onKeyDown = function onKeyDown(e) {
    handleKeyboard(e);
    inputProps && inputProps.onKeyDown && inputProps.onKeyDown(e);
  };
  var onKeyPress = function onKeyPress(e) {
    handleKeyboard(e);
    inputProps && inputProps.onKeyPress && inputProps.onKeyPress(e);
  };
  var handleKeyboard = function handleKeyboard(e) {
    if (e.which === 40) {
      // Arrow down
      e.preventDefault();
      if (suggestionIndex < suggestions.length - 1) {
        var newSuggestionIndex = suggestionIndex + 1;
        var newInputQuery = suggestions[newSuggestionIndex].value;
        setSuggestionIndex(newSuggestionIndex);
        setQuery(newInputQuery);
      }
    } else if (e.which === 38) {
      // Arrow up
      e.preventDefault();
      if (suggestionIndex >= 0) {
        var _newSuggestionIndex = suggestionIndex - 1;
        var _newInputQuery = _newSuggestionIndex === -1 ? inputQuery : suggestions[_newSuggestionIndex].value;
        setSuggestionIndex(_newSuggestionIndex);
        setQuery(_newInputQuery);
      }
    } else if (e.which === 13) {
      // Enter
      e.preventDefault();
      suggestionIndex >= 0 && selectSuggestion(suggestionIndex);
    }
  };
  var selectSuggestion = function selectSuggestion(index) {
    if (suggestions.length >= index - 1) {
      fetchService.current.onSelect(index).then(function (suggestion) {
        setQuery(suggestion.value);
        setInputQuery(suggestion.value);
        setDisplaySuggestions(false);
        fetchSuggestions();
        setTimeout(function () {
          return setCursorToEnd(inputEl.current);
        });
        props.onChange && props.onChange(suggestion);
      });
    }
  };
  var setCursorToEnd = function setCursorToEnd(element) {
    if (!element) return;
    var valueLength = element.value.length;
    if (element.selectionStart || element.selectionStart === 0) {
      // eslint-disable-next-line no-param-reassign
      element.selectionStart = valueLength;
      // eslint-disable-next-line no-param-reassign
      element.selectionEnd = valueLength;
      element.focus();
    }
  };
  var getHighlightWords = function getHighlightWords() {
    var wordsToPass = ['', '', '', '-', '', '', '', '-', '', '', '', '', ''];
    var words = inputQuery.replace(',', '').split(' ');
    words = words.filter(function (word) {
      return wordsToPass.indexOf(word) < 0;
    });
    return words;
  };
  var getSuggestionKey = function getSuggestionKey(suggestion) {
    return suggestion.value;
  };
  var onSuggestionClick = function onSuggestionClick(index, event) {
    event.stopPropagation();
    selectSuggestion(index);
  };
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    var value = props.value;
    if (!shallowequal__WEBPACK_IMPORTED_MODULE_4___default()(prevPropValue, value)) {
      var newQuery = value ? value.value : '';
      if (query !== newQuery || inputQuery !== newQuery) {
        setQuery(newQuery);
        setInputQuery(newQuery);
      }
    }
  }, [props.value]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "address-suggestions"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "address-suggestions__input"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    autoComplete: "off",
    className: "input",
    value: query,
    ref: inputEl,
    onChange: onChange,
    onKeyPress: onKeyPress,
    onKeyDown: onKeyDown,
    onFocus: onFocus,
    onBlur: onFocusOut
  }, inputProps))), isFocused && suggestions && displaySuggestions && suggestions.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "address-suggestions__list"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Scrollbar__WEBPACK_IMPORTED_MODULE_8__["default"], {
    style: {
      maxHeight: '300px'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, suggestions.map(function (suggestion, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      key: getSuggestionKey(suggestion),
      onMouseDown: function onMouseDown(e) {
        return onSuggestionClick(index, e);
      },
      className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('address-suggestions__item', {
        'is-current': index === suggestionIndex
      })
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_HighlightWords__WEBPACK_IMPORTED_MODULE_6__["HighlightWords"], {
      highlightClassName: "address-suggestions__highlighted",
      words: getHighlightWords(),
      text: suggestion.value
    }));
  })))));
}

/***/ }),

/***/ "./app/javascript/components/AddressSuggestion/sources/BaseSource.ts":
/*!***************************************************************************!*\
  !*** ./app/javascript/components/AddressSuggestion/sources/BaseSource.ts ***!
  \***************************************************************************/
/*! exports provided: BaseSource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseSource", function() { return BaseSource; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);



var BaseSource = /*#__PURE__*/function () {
  function BaseSource() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, BaseSource);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "sourceList", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "formattedList", void 0);
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(BaseSource, [{
    key: "load",
    value: function load(query) {}
  }, {
    key: "itemFormatter",
    value: function itemFormatter(sourceItem) {
      return {
        value: '',
        extra: {
          postal_code: '',
          flat: '',
          lat: '',
          lng: ''
        },
        source: sourceItem
      };
    }
  }, {
    key: "processList",
    value: function processList(list) {
      this.sourceList = list;
      this.formattedList = list.map(this.itemFormatter);
      return this.formattedList;
    }
  }, {
    key: "onSelect",
    value: function onSelect(suggestionIndex) {
      var _this = this;
      return new Promise(function (resolve) {
        return resolve(_this.formattedList[suggestionIndex]);
      });
    }
  }]);
  return BaseSource;
}();

/***/ }),

/***/ "./app/javascript/components/AddressSuggestion/sources/DaDataSource.ts":
/*!*****************************************************************************!*\
  !*** ./app/javascript/components/AddressSuggestion/sources/DaDataSource.ts ***!
  \*****************************************************************************/
/*! exports provided: DaDataSource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DaDataSource", function() { return DaDataSource; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../helpers/ky */ "./app/javascript/helpers/ky.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _BaseSource__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BaseSource */ "./app/javascript/components/AddressSuggestion/sources/BaseSource.ts");







function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var DaDataSource = /*#__PURE__*/function (_BaseSource) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(DaDataSource, _BaseSource);
  var _super = _createSuper(DaDataSource);
  function DaDataSource() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, DaDataSource);
    return _super.apply(this, arguments);
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(DaDataSource, [{
    key: "itemFormatter",
    value: function itemFormatter(sourceItem) {
      var extraMapper = {
        'postal_code': 'postal_code',
        'flat': 'flat',
        'geo_lat': 'lat',
        'geo_lon': 'lng',
        'country': 'country',
        'settlement': 'city',
        'city': 'city',
        'region': 'region',
        'street': 'street',
        'house': 'building'
      };
      var extra = {};
      Object.entries(sourceItem.data).map(function (_ref) {
        var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref, 2),
          dataKey = _ref2[0],
          dataValue = _ref2[1];
        if (extraMapper[dataKey] && dataValue) extra[extraMapper[dataKey]] = dataValue;
      });
      if (extra.region == extra.city) delete extra.region;
      return _objectSpread(_objectSpread({
        value: sourceItem.value
      }, sourceItem.data ? {
        extra: extra
      } : {}), {}, {
        source: sourceItem
      });
    }
  }, {
    key: "load",
    value: function load(query) {
      var _this = this;
      return _helpers_ky__WEBPACK_IMPORTED_MODULE_7__["default"].post('https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address', {
        headers: {
          Authorization: "Token ".concat(_core_constants__WEBPACK_IMPORTED_MODULE_8__["DADATA_TOKEN"])
        },
        json: {
          query: query,
          count: 10,
          locations: [{
            country: '*'
          }]
        }
      }).json().then(function (response) {
        return response.suggestions ? _this.processList(response.suggestions) : [];
      });
    }
  }]);
  return DaDataSource;
}(_BaseSource__WEBPACK_IMPORTED_MODULE_9__["BaseSource"]);

/***/ }),

/***/ "./app/javascript/components/AddressSuggestion/sources/GooglePlacesSource.ts":
/*!***********************************************************************************!*\
  !*** ./app/javascript/components/AddressSuggestion/sources/GooglePlacesSource.ts ***!
  \***********************************************************************************/
/*! exports provided: GooglePlacesSource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GooglePlacesSource", function() { return GooglePlacesSource; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _BaseSource__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BaseSource */ "./app/javascript/components/AddressSuggestion/sources/BaseSource.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");








function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var geocodeByPlaceId = function geocodeByPlaceId(placeId) {
  var geocoder = new window.google.maps.Geocoder();
  return new Promise(function (resolve, reject) {
    geocoder.geocode({
      placeId: placeId
    }, function (results, status) {
      status !== window.google.maps.GeocoderStatus.OK ? reject(status) : resolve(results);
    });
  });
};
var GooglePlacesSource = /*#__PURE__*/function (_BaseSource) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(GooglePlacesSource, _BaseSource);
  var _super = _createSuper(GooglePlacesSource);
  function GooglePlacesSource() {
    var _this;
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, GooglePlacesSource);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), "autocompleteService", void 0);
    return _this;
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(GooglePlacesSource, [{
    key: "requireAPI",
    value: function requireAPI() {
      var _this2 = this;
      return new Promise(function (resolve) {
        var callbackName = 'googleMapsInit';
        //@ts-ignore
        var isPlacesLoaded = window.google && window.google.maps && window.google.maps.places;
        if (!isPlacesLoaded) {
          //@ts-ignore
          Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_9__["importExternal"])("https://maps.googleapis.com/maps/api/js?key=".concat(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_9__["isDevelopmentEnv"])() ? _core_constants__WEBPACK_IMPORTED_MODULE_10__["GOOGLE_MAPS_KEY_DEV"] : _core_constants__WEBPACK_IMPORTED_MODULE_10__["GOOGLE_MAPS_KEY"], "&libraries=places&language=").concat(i18next__WEBPACK_IMPORTED_MODULE_11__["default"].language, "&callback=").concat(callbackName));
          window[callbackName] = _this2.initCallback.bind(_this2, resolve);
        } else _this2.initCallback(resolve);
      });
    }
  }, {
    key: "initCallback",
    value: function initCallback(resolve) {
      //@ts-ignore
      this.autocompleteService = new window.google.maps.places.AutocompleteService();
      resolve();
    }
  }, {
    key: "itemFormatter",
    value: function itemFormatter(sourceItem) {
      return {
        value: sourceItem.description,
        source: sourceItem
      };
    }
  }, {
    key: "load",
    value: function load(query) {
      var _this3 = this;
      return new Promise(function (resolve) {
        _this3.requireAPI().then(function () {
          if (!_this3.autocompleteService) return resolve();
          _this3.autocompleteService.getPlacePredictions({
            input: query,
            types: ['geocode']
          }, function (predictions, status) {
            _this3.sourceList = predictions;

            //@ts-ignore
            if (status !== window.google.maps.places.PlacesServiceStatus.OK) return;
            resolve(_this3.processList(predictions));
          });
        });
      });
    }
  }, {
    key: "onSelect",
    value: function onSelect(suggestionIndex) {
      var _this4 = this;
      return new Promise(function (resolve) {
        var suggestion = _this4.formattedList[suggestionIndex];
        var dataMapper = {
          'country': 'country',
          'locality': 'city',
          'postal_town': 'city',
          'administrative_area_level_1': 'region',
          'route': 'street',
          'street_number': 'building',
          'postal_code': 'postal_code'
        };
        geocodeByPlaceId(suggestion.source.place_id).then(function (_ref) {
          var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref, 1),
            result = _ref2[0];
          var extra = {};
          result.address_components.map(function (component) {
            Object.entries(dataMapper).map(function (_ref3) {
              var _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref3, 2),
                sourceKey = _ref4[0],
                suggestionKey = _ref4[1];
              if (component.types.includes(sourceKey)) extra[suggestionKey] = component.long_name;
            });
          });
          resolve(_objectSpread(_objectSpread({}, suggestion), {}, {
            extra: _objectSpread(_objectSpread({}, extra), {}, {
              lat: result.geometry.location.lat(),
              lng: result.geometry.location.lng()
            })
          }));
        });
      });
    }
  }]);
  return GooglePlacesSource;
}(_BaseSource__WEBPACK_IMPORTED_MODULE_8__["BaseSource"]);

/***/ }),

/***/ "./app/javascript/components/AddressSuggestionFormik.tsx":
/*!***************************************************************!*\
  !*** ./app/javascript/components/AddressSuggestionFormik.tsx ***!
  \***************************************************************/
/*! exports provided: AddressSuggestionFormik */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddressSuggestionFormik", function() { return AddressSuggestionFormik; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _AddressSuggestion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AddressSuggestion */ "./app/javascript/components/AddressSuggestion/index.tsx");




var _excluded = ["name", "onSuggestion", "isValid"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }




function AddressSuggestionFormik(_ref) {
  var name = _ref.name,
    onSuggestion = _ref.onSuggestion,
    inputIsValid = _ref.isValid,
    nativeInputProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref, _excluded);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__["Field"], {
    name: name
  }, function (_ref2) {
    var field = _ref2.field,
      meta = _ref2.meta,
      form = _ref2.form;
    var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(inputIsValid),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
      isValid = _useState2[0],
      setIsValid = _useState2[1];
    var setField = Object(react__WEBPACK_IMPORTED_MODULE_4__["useCallback"])(function (payload) {
      var isSuggestion = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(payload) === 'object';
      form.setFieldValue(name, isSuggestion ? payload.value : payload);
      isSuggestion && onSuggestion && onSuggestion(payload);
    }, []);
    Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
      return setIsValid(inputIsValid);
    }, [inputIsValid]);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_6__["InputBoilerplate"], {
      isValid: isValid,
      meta: meta,
      form: form,
      validateable: true
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_AddressSuggestion__WEBPACK_IMPORTED_MODULE_7__["AddressSuggestions"], {
      defaultQuery: field.value,
      inputProps: _objectSpread({
        onKeyUp: function onKeyUp(e) {
          return setField(e.target.value);
        }
      }, nativeInputProps),
      onChange: function onChange(suggestion) {
        setField(suggestion);
        //setIsValid(!!suggestion.extra.building);
      }
    }));
  });
}

/***/ }),

/***/ "./app/javascript/components/ArrayInput.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/components/ArrayInput.tsx ***!
  \**************************************************/
/*! exports provided: ArrayInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArrayInput", function() { return ArrayInput; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");





var _excluded = ["name", "limit", "validationSchema", "showFilter", "dataMapper", "onAdd", "parentProps"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }





function ArrayInput(_ref) {
  var name = _ref.name,
    limit = _ref.limit,
    validationSchema = _ref.validationSchema,
    showFilter = _ref.showFilter,
    dataMapper = _ref.dataMapper,
    onAdd = _ref.onAdd,
    parentProps = _ref.parentProps,
    nativeInputProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4___default()(_ref, _excluded);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_6__["Field"], {
    name: name
  }, function (_ref2) {
    var field = _ref2.field,
      meta = _ref2.meta,
      form = _ref2.form;
    var _useState = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(''),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState, 2),
      currentValue = _useState2[0],
      setCurrentValue = _useState2[1],
      _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(false),
      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState3, 2),
      deleteMode = _useState4[0],
      setDeleteMode = _useState4[1],
      _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])([]),
      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState5, 2),
      values = _useState6[0],
      setValues = _useState6[1],
      inputEl = Object(react__WEBPACK_IMPORTED_MODULE_5__["useRef"])(0),
      _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_9__["useTranslation"])(),
      t = _useTranslation.t;
    var setNewValues = function setNewValues(newValues) {
      setValues(newValues);
      form.setFieldValue(name, newValues);
    };
    var add = function add(value) {
      if (validationSchema) {
        try {
          validationSchema.validateSync(value);
        } catch (e) {
          form.setFieldError(name, e.message);
          return;
        }
      }
      var addItem = onAdd ? onAdd({
        value: value
      }) : {
        value: value
      };
      var newValues = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(values), [addItem]);
      setNewValues(newValues);
      form.setFieldError(name, '');
      setCurrentValue('');
      inputEl.current.value = '';
    };
    var handleKeyUp = function handleKeyUp(e) {
      if (e.key === 'Enter' || e.keyCode === 13) {
        var value = e.target.value;
        if (!value.trim().length) return;
        add(value);
      }
    };
    var handleKeyDown = function handleKeyDown(e) {
      var value = e.target.value,
        key = e.keyCode || e.charCode;
      setDeleteMode(false);

      // Prevent form submit
      if (e.key === 'Enter' || key === 13) e.preventDefault();
      if (!value.trim().length && (key == 8 || key == 46)) {
        setDeleteMode(!deleteMode);
        deleteMode && removeItem(values.length - 1);
      }
    };
    var removeItem = function removeItem(index) {
      var tempValues = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(values);
      tempValues.splice(index, 1);
      setNewValues(tempValues);
    };
    Object(react__WEBPACK_IMPORTED_MODULE_5__["useEffect"])(function () {
      Array.isArray(field.value) && setValues(field.value.map(function (i) {
        if (dataMapper && !i._raw && i[dataMapper.id]) {
          var newItem = {
            _raw: i
          };
          Object.entries(dataMapper).forEach(function (_ref3) {
            var _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_ref3, 2),
              key = _ref4[0],
              val = _ref4[1];
            newItem[key] = i[val];
          });
          i = newItem;
        }
        return i;
      }));
    }, [field.value]);
    var isShowTooltip = currentValue && !meta.error;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_7__["InputBoilerplate"], _objectSpread({
      meta: meta,
      form: form
    }, _objectSpread(_objectSpread({}, parentProps), {}, {
      elWrapperClassName: isShowTooltip ? 'm-b-25' : ''
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "array-input"
    }, !!values.length && values.map(function (item, index) {
      if (!(!showFilter || showFilter && showFilter(item))) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
        key: item + '_' + index,
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()('badge', {
          'badge--to-delete': index == values.length - 1 && deleteMode
        })
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", null, item.value || item), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button", {
        onClick: function onClick() {
          return removeItem(index);
        },
        className: "badge__remove",
        type: "button"
      }));
    }), limit && values.length < limit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "array-input__input"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, nativeInputProps, {
      onBlur: function onBlur() {
        inputEl.current.value && add(inputEl.current.value);
      },
      onChange: function onChange(e) {
        return setCurrentValue(e.target.value);
      },
      ref: inputEl,
      className: "input",
      onKeyUp: handleKeyUp,
      onKeyDown: handleKeyDown
    }))), isShowTooltip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
      className: "array-input__tooltip"
    }, t('array_input_tooltip')))));
  });
}

/***/ }),

/***/ "./app/javascript/components/Aside/Aside.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/components/Aside/Aside.tsx ***!
  \***************************************************/
/*! exports provided: Aside */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Aside", function() { return Aside; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _PngIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index */ "./app/javascript/components/Aside/index.tsx");
/* harmony import */ var _partials_Logo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../partials/Logo */ "./app/javascript/partials/Logo.tsx");
/* harmony import */ var _partials_GamesMenu__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../partials/GamesMenu */ "./app/javascript/partials/GamesMenu.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Button */ "./app/javascript/components/Aside/Button.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _Scrollbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../Scrollbar */ "./app/javascript/components/Scrollbar.tsx");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../redux/slices/games */ "./app/javascript/redux/slices/games.ts");
/* harmony import */ var _MakeLogin__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../MakeLogin */ "./app/javascript/components/MakeLogin.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");


















function Aside(props) {
  var gameId = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_13__["useParseGameId"])(),
    authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_2__["getAuthUser"]),
    _useLocation = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["useLocation"])(),
    path = _useLocation.pathname,
    _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_12__["useTranslation"])(),
    t = _useTranslation.t,
    storageKey = 'openAside',
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(localStorage.getItem(storageKey) == '1' || localStorage.getItem(storageKey) === null),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    isOpen = _useState2[0],
    setIsOpen = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),
    isMobileOpen = _useState4[0],
    setIsMobileOpen = _useState4[1],
    isMobileBreakpoint = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_13__["useIsMobileSidebar"])(),
    mergedGamesStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_15__["getMergedGamesStatus"]),
    el = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(0),
    scrollbar = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(0);

  // Close mobile sidebar when url was changed
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    return setIsMobileOpen(false);
  }, [path]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    !gameId && scrollbar.current && (scrollbar.current.scrollTop = 0);
  }, [gameId]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    if (!el.current || !scrollbar.current || mergedGamesStatus != 'succeeded') return;
    var openedEl = el.current.querySelector('[aria-expanded="true"]'),
      s = scrollbar.current;
    openedEl && s.scrollIntoView(openedEl, {
      offsetTop: (s.containerEl.clientHeight - openedEl.clientHeight) / 2
    });
  }, [mergedGamesStatus]);
  var toggle = function toggle(e) {
    e.preventDefault();
    if (!isMobileBreakpoint) {
      setIsOpen(!isOpen);
      localStorage.setItem(storageKey, "".concat(+!isOpen));
    } else {
      setIsMobileOpen(!isMobileOpen);
      Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_17__["bodyScrollLock"])(!isMobileOpen);
    }
  };
  var userMenu = [{
    "if": authUser.info_was_given == true,
    url: _routes__WEBPACK_IMPORTED_MODULE_3__["URLS"].UserEditInfo,
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_7__["PngIcon"], {
      name: "gear"
    }),
    label: t('settings'),
    rowClassName: 'aside__user-settings'
  }, {
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_7__["PngIcon"], {
      name: "sneaker"
    }),
    label: t('log_off'),
    rowClassName: 'aside__user-exit',
    onClick: function onClick(e) {
      e.preventDefault();
      Object(_MakeLogin__WEBPACK_IMPORTED_MODULE_16__["logOut"])(authUser, t);
    }
  }];
  var AsideInn = isMobileBreakpoint ? 'div' : _Scrollbar__WEBPACK_IMPORTED_MODULE_14__["default"];
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('aside', {
      'aside--inverse': path == _routes__WEBPACK_IMPORTED_MODULE_3__["URLS"].Game(),
      'is-collapsed': !isOpen,
      'is-mobile-open': isMobileOpen
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
    className: "aside__collapse",
    onClick: toggle
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(AsideInn, {
    scrollInstanceRef: scrollbar,
    className: "aside__inn",
    elRef: el
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "aside__inn-offset"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "aside__logo"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_partials_Logo__WEBPACK_IMPORTED_MODULE_9__["Logo"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("ul", {
    className: "aside__menu"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_8__["Row"], {
    isAlwaysOpen: isMobileBreakpoint,
    rowClassName: "aside__user",
    label: authUser.getDisplayName(),
    truncate: true,
    icon: authUser.avatar ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "round-sm-image"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("img", {
      src: authUser.avatar
    })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_7__["PngIcon"], {
      name: "eyes"
    }),
    isHide: ![_routes__WEBPACK_IMPORTED_MODULE_3__["URLS"].UserEditInfo, _routes__WEBPACK_IMPORTED_MODULE_3__["URLS"].GameCreate].includes(path) && !isMobileBreakpoint
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_8__["Submenu"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_8__["GeneratedAsideTree"], {
    currentUrl: path,
    data: userMenu
  }))), authUser.info_was_given === true && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_8__["Row"], {
    label: t('wishlist'),
    url: _routes__WEBPACK_IMPORTED_MODULE_3__["URLS"].Wishlist,
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_7__["PngIcon"], {
      name: "shop"
    })
  }), props.children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_partials_GamesMenu__WEBPACK_IMPORTED_MODULE_10__["GamesMenu"], null), authUser.info_was_given === true && _routes__WEBPACK_IMPORTED_MODULE_3__["URLS"].GameCreate != path && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_11__["Button"], {
    label: t('create_game'),
    rowClassName: 'aside__create',
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_7__["PngIcon"], {
      name: "present"
    }),
    url: _routes__WEBPACK_IMPORTED_MODULE_3__["URLS"].GameCreate
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_8__["Row"], {
    label: t('support'),
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_7__["PngIcon"], {
      name: "heart"
    }),
    onClick: _helpers_utils__WEBPACK_IMPORTED_MODULE_17__["openSupport"]
  })))));
}

/***/ }),

/***/ "./app/javascript/components/Aside/Button.tsx":
/*!****************************************************!*\
  !*** ./app/javascript/components/Aside/Button.tsx ***!
  \****************************************************/
/*! exports provided: Button */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return Button; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");



function Button(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('aside__row aside__row--sm', props.rowClassName)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
    to: props.url,
    className: "aside__button"
  }, props.icon, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, props.label))));
}

/***/ }),

/***/ "./app/javascript/components/Aside/Divider.tsx":
/*!*****************************************************!*\
  !*** ./app/javascript/components/Aside/Divider.tsx ***!
  \*****************************************************/
/*! exports provided: Divider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Divider", function() { return Divider; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function Divider() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "aside__divider"
  });
}

/***/ }),

/***/ "./app/javascript/components/Aside/Item.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/components/Aside/Item.tsx ***!
  \**************************************************/
/*! exports provided: Item */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Item", function() { return Item; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);




function Item(props) {
  var itemInner = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, props.icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "aside__item-icon"
  }, props.icon), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, props.label));
  var componentProps = {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('aside__item', props.className, {
      'aside__item--notification': props.notification,
      'aside__item--dropdown': props.dropdown,
      'ph-text': props.placeholder,
      'is-truncate': props.truncate,
      'is-active': props.active,
      'is-disabled': props.disabled,
      'is-clickable': !!props.onClick
    })
  };
  if (props.customComponent && props.url) {
    var Component = props.customComponent;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Component, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      to: props.url
    }, componentProps), itemInner);
  }
  if (props.url) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, componentProps, {
    to: props.url || ''
  }), itemInner);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, componentProps, {
    onClick: function onClick(e) {
      return props.onClick && props.onClick(e);
    }
  }), itemInner);
}

/***/ }),

/***/ "./app/javascript/components/Aside/Row.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/components/Aside/Row.tsx ***!
  \*************************************************/
/*! exports provided: Row */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Row", function() { return Row; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _Item__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Item */ "./app/javascript/components/Aside/Item.tsx");





function Row(props) {
  var isDropdown = react__WEBPACK_IMPORTED_MODULE_2___default.a.Children.count(props.children) > 0;
  var storageKey = 'dropdown_' + props.name + '_hide';
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(props.isHide !== undefined ? props.isHide : props.name ? localStorage.getItem(storageKey) == '1' : false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    isDropdownHide = _useState2[0],
    setIsDropdownHide = _useState2[1];
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    props.isHide !== undefined && setIsDropdownHide(typeof props.isHide == 'boolean' ? props.isHide : props.isHide > 0);
  }, [props.isHide]);
  var handleClick = function handleClick(e) {
    props.onClick && props.onClick(e);
    if (isDropdown) {
      e.preventDefault();

      // If dropdown is openable
      if (!props.isAlwaysOpen) {
        setIsDropdownHide(!isDropdownHide);
        localStorage.setItem(storageKey, !isDropdownHide ? '1' : '0');
      }
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li", {
    "data-key": props.dataKey,
    "aria-expanded": isDropdown && !isDropdownHide,
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('aside__row', props.rowClassName)
  }, isDropdown && !isDropdownHide && props.children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Item__WEBPACK_IMPORTED_MODULE_4__["Item"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
    dropdown: isDropdown,
    onClick: handleClick
  })));
}

/***/ }),

/***/ "./app/javascript/components/Aside/Submenu.tsx":
/*!*****************************************************!*\
  !*** ./app/javascript/components/Aside/Submenu.tsx ***!
  \*****************************************************/
/*! exports provided: Submenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Submenu", function() { return Submenu; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function Submenu(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
    className: "aside__sub"
  }, props.children);
}

/***/ }),

/***/ "./app/javascript/components/Aside/index.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/components/Aside/index.tsx ***!
  \***************************************************/
/*! exports provided: Divider, Item, Row, Submenu, Aside, GeneratedAsideTree */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeneratedAsideTree", function() { return GeneratedAsideTree; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Divider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Divider */ "./app/javascript/components/Aside/Divider.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Divider", function() { return _Divider__WEBPACK_IMPORTED_MODULE_3__["Divider"]; });

/* harmony import */ var _Aside__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Aside */ "./app/javascript/components/Aside/Aside.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Aside", function() { return _Aside__WEBPACK_IMPORTED_MODULE_4__["Aside"]; });

/* harmony import */ var _Item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Item */ "./app/javascript/components/Aside/Item.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Item", function() { return _Item__WEBPACK_IMPORTED_MODULE_5__["Item"]; });

/* harmony import */ var _Row__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Row */ "./app/javascript/components/Aside/Row.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Row", function() { return _Row__WEBPACK_IMPORTED_MODULE_6__["Row"]; });

/* harmony import */ var _Submenu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Submenu */ "./app/javascript/components/Aside/Submenu.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Submenu", function() { return _Submenu__WEBPACK_IMPORTED_MODULE_7__["Submenu"]; });

/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Button */ "./app/javascript/components/Aside/Button.tsx");


var _excluded = ["currentUrl"];








function GeneratedAsideTree(_ref) {
  var currentUrl = _ref.currentUrl,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, props.prepend || null, props.data.map(function (item, index) {
    if (!item || item["if"] === false) return null;
    if (item.placeholder) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li", {
      key: index,
      className: "aside__row"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "ph-text"
    }));
    if (item.divider) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Divider__WEBPACK_IMPORTED_MODULE_3__["Divider"], {
      key: index
    });
    if (item.button) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_8__["Button"], item);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Row__WEBPACK_IMPORTED_MODULE_6__["Row"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      key: item.key || item.url || index
    }, item, {
      active: item.active || item.url && (Array.isArray(currentUrl) ? currentUrl.includes(item.url) : currentUrl == item.url)
    }), item.child && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Submenu__WEBPACK_IMPORTED_MODULE_7__["Submenu"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(GeneratedAsideTree, {
      currentUrl: currentUrl,
      data: item.child
    })));
  }), props.append || null);
}

/***/ }),

/***/ "./app/javascript/components/AttachImage.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/components/AttachImage.tsx ***!
  \***************************************************/
/*! exports provided: AttachImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttachImage", function() { return AttachImage; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _ActiveStorage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ActiveStorage */ "./app/javascript/components/ActiveStorage.tsx");


var _excluded = ["name", "appendButton", "inputPreview"];




function AttachImage(_ref) {
  var name = _ref.name,
    appendButton = _ref.appendButton,
    inputPreview = _ref.inputPreview,
    nativeInputProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_4__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_3__["Field"], {
    name: name
  }, function (_ref2) {
    var field = _ref2.field,
      form = _ref2.form,
      meta = _ref2.meta;
    var _ref3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(inputPreview || ''),
      _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref3, 2),
      preview = _ref4[0],
      setPreview = _ref4[1],
      _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(''),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
      fileName = _useState2[0],
      setFileName = _useState2[1];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, preview && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "img-border"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
      alt: fileName,
      src: preview
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "row row--xs"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-xxs-auto col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_ActiveStorage__WEBPACK_IMPORTED_MODULE_5__["ActiveStorage"], {
      rootProps: {
        className: "btn btn--block btn--outline"
      },
      inputProps: nativeInputProps,
      onPreview: function onPreview(fileName, fileBaseEncoded) {
        setFileName(fileName);
        setPreview(fileBaseEncoded);
      },
      onUploaded: function onUploaded(blob) {
        return form.setFieldValue(field.name, blob.signed_id);
      },
      onError: function onError(reason) {
        return form.setFieldError(field.name, reason);
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, t(preview ? 'change_image' : 'attach_image')))), appendButton));
  });
}

/***/ }),

/***/ "./app/javascript/components/Button.tsx":
/*!**********************************************!*\
  !*** ./app/javascript/components/Button.tsx ***!
  \**********************************************/
/*! exports provided: Button */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return Button; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);


var _excluded = ["mod", "icon", "label", "isLoading"];


function Button(props) {
  var mod = props.mod,
    icon = props.icon,
    label = props.label,
    isLoading = props.isLoading,
    attr = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(props, _excluded);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    type: "button"
  }, attr, {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('btn', props.className, {
      'is-loading': isLoading
    }, Array.isArray(props.mod) && props.mod.filter(function (i) {
      return i;
    }).map(function (i) {
      return 'btn--' + i;
    }))
  }), props.children || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, icon, label && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, label)));
}

/***/ }),

/***/ "./app/javascript/components/Channel.tsx":
/*!***********************************************!*\
  !*** ./app/javascript/components/Channel.tsx ***!
  \***********************************************/
/*! exports provided: Channel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Channel", function() { return Channel; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _channels_RoomNotifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../channels/RoomNotifications */ "./app/javascript/channels/RoomNotifications.tsx");
/* harmony import */ var _channels_Room__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../channels/Room */ "./app/javascript/channels/Room.tsx");
/* harmony import */ var use_deep_compare_effect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! use-deep-compare-effect */ "./node_modules/use-deep-compare-effect/dist/use-deep-compare-effect.esm.js");




var channels = {
  RoomNotifications: _channels_RoomNotifications__WEBPACK_IMPORTED_MODULE_1__["default"],
  Room: _channels_Room__WEBPACK_IMPORTED_MODULE_2__["default"]
};
function Channel(_ref) {
  var name = _ref.name,
    refInstance = _ref.refInstance,
    connectParams = _ref.connectParams,
    connect = _ref.onConnect,
    receive = _ref.onReceive,
    disconnect = _ref.onDisconnect,
    nativeSend = _ref.nativeSend;
  var connectionRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(0);
  var closeConnection = function closeConnection() {
    return connectionRef.current && connectionRef.current.close();
  };
  Object(use_deep_compare_effect__WEBPACK_IMPORTED_MODULE_3__["default"])(function () {
    closeConnection();
    var _channels$name$connec = channels[name].connect({
        connectParams: connectParams || {},
        events: {
          connect: connect,
          receive: receive,
          disconnect: disconnect,
          nativeSend: nativeSend
        }
      }),
      channel = _channels$name$connec.channel,
      channelConnection = _channels$name$connec.connection;
    if (refInstance && channel) refInstance.current = channel;
    connectionRef.current = channelConnection;
    return function () {
      closeConnection();
    };
  }, [connectParams || {}]);
  return null;
}

/***/ }),

/***/ "./app/javascript/components/Chat/Message.tsx":
/*!****************************************************!*\
  !*** ./app/javascript/components/Chat/Message.tsx ***!
  \****************************************************/
/*! exports provided: Message */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Message", function() { return Message; });
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _ConfirmAlert__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _Fancybox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Fancybox */ "./app/javascript/components/Fancybox.tsx");




var _excluded = ["id", "name", "text", "time", "self", "readable", "avatar", "scrollInstance", "onRead", "isNew", "deleteRequest", "fallbackAvatar", "showAvatarCondition", "attachments"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }









function Message(_ref) {
  var id = _ref.id,
    name = _ref.name,
    text = _ref.text,
    time = _ref.time,
    self = _ref.self,
    readable = _ref.readable,
    avatar = _ref.avatar,
    scrollInstance = _ref.scrollInstance,
    onRead = _ref.onRead,
    isNew = _ref.isNew,
    deleteRequest = _ref.deleteRequest,
    fallbackAvatar = _ref.fallbackAvatar,
    showAvatarCondition = _ref.showAvatarCondition,
    attachments = _ref.attachments,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_8__["useTranslation"])(),
    t = _useTranslation.t,
    APPEAR_TIME = 300,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_10__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_11__["getGame"]),
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_9__["useApi"])(deleteRequest),
    deleteR = _useApi.request,
    isDeleteLoading = _useApi.isLoading,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(props.read),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    isRead = _useState2[0],
    setIsRead = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(true),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
    isAbsolute = _useState4[0],
    setIsAbsolute = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])({}),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5, 2),
    styles = _useState6[0],
    setStyles = _useState6[1],
    el = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(0);
  var deleteMessage = function deleteMessage() {
    Object(_ConfirmAlert__WEBPACK_IMPORTED_MODULE_7__["confirmAlert"])(t('chat_delete_message_confirm_text'), {}).then(function () {
      deleteR({
        id: id,
        gameId: game.id
      });
    });
  };
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    if (!readable || !scrollInstance) return function () {};
    var checkAndRead = function checkAndRead() {
      requestAnimationFrame(function () {
        if (el.current && scrollInstance.isVisible(el.current) && !self && !props.read) {
          scrollInstance.removeListener(checkAndRead);
          onRead && onRead(id);
        }
      });
    };
    setTimeout(checkAndRead);
    scrollInstance.addListener(checkAndRead);
    return function () {
      return scrollInstance.removeListener(checkAndRead);
    };
  }, [scrollInstance]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    return setIsRead(props.read);
  }, [props.read]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    var requestAnimationHandleId;
    var scrollBottom = function scrollBottom() {
      return requestAnimationFrame(function () {
        scrollInstance.update();
        scrollInstance.setPosition(0, 999999999);
        requestAnimationHandleId = scrollBottom();
      });
    };
    if (isNew) {
      setTimeout(function () {
        var height = el.current.clientHeight;
        setStyles({
          height: 0
        });
        setIsAbsolute(false);
        setTimeout(function () {
          requestAnimationHandleId = scrollBottom();
          setStyles({
            height: height
          });
        }, 50);
        setTimeout(function () {
          setStyles({});
          scrollInstance.update();
          cancelAnimationFrame(requestAnimationHandleId);
        }, APPEAR_TIME + 50);
      });
    }
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    ref: el,
    style: _objectSpread({
      transitionDuration: "".concat(APPEAR_TIME, "ms")
    }, styles),
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('message', {
      'message--self': self,
      'message--no-avatar': showAvatarCondition === false,
      'message--absolute': isNew && isAbsolute,
      'message--new': isNew
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    style: {
      animationDuration: "".concat(APPEAR_TIME, "ms")
    },
    className: "message__inn"
  }, showAvatarCondition === true && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("figure", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('message__avatar', {
      'message__avatar--cover': avatar
    })
  }, _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(avatar) === 'object' ? avatar : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("img", {
    alt: name,
    src: avatar || fallbackAvatar
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "message__right"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "message__box"
  }, text && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('message__text', {
      'm-b-10': attachments.length
    })
  }, text), !!attachments.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Fancybox__WEBPACK_IMPORTED_MODULE_12__["Fancybox"], {
    selector: ".message__attachment"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "row row--xs"
  }, attachments.map(function (attachment, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      key: index,
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      className: "message__attachment",
      href: attachment
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("img", {
      src: attachment
    })));
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "message__meta"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("time", {
    className: "message__time"
  }, time.getHours() + ':' + ((time.getMinutes() <= 9 ? '0' : '') + time.getMinutes())), self && readable && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('message__read', {
      'is-done': isRead
    })
  }, isRead ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_6__["SvgIcon"], {
    name: "check-double"
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_6__["SvgIcon"], {
    name: "check"
  }))))), self && deleteRequest && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "message__actions"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
    onClick: deleteMessage,
    className: "message__actions-item"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_6__["SvgIcon"], {
    name: "trash"
  })))), name && !self && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "message__name"
  }, name));
}

/***/ }),

/***/ "./app/javascript/components/Chat/MessageBox.tsx":
/*!*******************************************************!*\
  !*** ./app/javascript/components/Chat/MessageBox.tsx ***!
  \*******************************************************/
/*! exports provided: MessageBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageBox", function() { return MessageBox; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _MessageForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MessageForm */ "./app/javascript/components/Chat/MessageForm.tsx");
/* harmony import */ var _Message__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Message */ "./app/javascript/components/Chat/Message.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var images_santa_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! images/santa.png */ "./app/assets/images/santa.png");
/* harmony import */ var images_santa_png__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(images_santa_png__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var images_man_png__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! images/man.png */ "./app/assets/images/man.png");
/* harmony import */ var images_man_png__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(images_man_png__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var images_woman_png__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! images/woman.png */ "./app/assets/images/woman.png");
/* harmony import */ var images_woman_png__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(images_woman_png__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _MessageDate__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./MessageDate */ "./app/javascript/components/Chat/MessageDate.tsx");
/* harmony import */ var _CloseableAlert__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../CloseableAlert */ "./app/javascript/components/CloseableAlert.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _Scrollbar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../Scrollbar */ "./app/javascript/components/Scrollbar.tsx");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _Channel__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../Channel */ "./app/javascript/components/Channel.tsx");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");




function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }



















var messagesListInitialState = {
  offset: 0,
  isEnd: false
};
function MessageBox(_ref) {
  var fetchListRequest = _ref.fetchListRequest,
    deleteMessageRequest = _ref.deleteMessageRequest,
    title = _ref.title,
    mode = _ref.mode;
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useDispatch"])(),
    isMobile = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_17__["useIsMobile"])(),
    windowHeight = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_17__["useWindowHeight"])(),
    isMobileSidebar = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_17__["useIsMobileSidebar"])(),
    isStoredGameSameWithRoute = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_17__["useIsStoredGameSameWithRoute"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_8__["getGame"]),
    authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_12__["getAuthUser"]),
    _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_16__["useTranslation"])(),
    t = _useTranslation.t,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(0),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState, 2),
    rootHeight = _useState2[0],
    setRootHeight = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(0),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState3, 2),
    listHeight = _useState4[0],
    setListHeight = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])([]),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState5, 2),
    messageList = _useState6[0],
    setMessagesList = _useState6[1],
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState7, 2),
    isSocketConnected = _useState8[0],
    setIsSocketConnected = _useState8[1],
    _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState9, 2),
    isInputFocusActive = _useState10[0],
    setIsInputFocusActive = _useState10[1],
    areaEl = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(0),
    titleEl = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(0),
    formEl = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(0),
    isAtTheBottom = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(true),
    messagesListValues = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(_objectSpread({}, messagesListInitialState)),
    scrollbar = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(0),
    chatChannel = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(0);
  var _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_17__["useApi"])(fetchListRequest),
    listRequest = _useApi.request,
    abortMessagesRequest = _useApi.cancel,
    isListLoading = _useApi.isLoading,
    isListLoadingActual = _useApi.isLoadingActual,
    isInitialLoading = isListLoading && !messageList.length || !isStoredGameSameWithRoute,
    isMessagesEmpty = !isListLoading && (!messageList || !messageList.length);
  var isSelfMessage = function isSelfMessage(message) {
    var _message$user;
    return message.from == game.getParticipating('chatId') || ((_message$user = message.user) === null || _message$user === void 0 ? void 0 : _message$user.id) == authUser.id;
  };
  var fetchMessages = function fetchMessages() {
    if (isListLoadingActual()) return;
    return listRequest({
      game_id: game.id,
      user_in_game_id: game.getParticipating('id'),
      count: _core_constants__WEBPACK_IMPORTED_MODULE_19__["CHAT_MESSAGES_LOAD_COUNT"],
      offset: messagesListValues.current.offset
    }).then(function (response) {
      if (!Array.isArray(response)) return;
      setMessagesList(function (list) {
        // detect end of messages
        if (!response.length || response.length > 0 && response.length < _core_constants__WEBPACK_IMPORTED_MODULE_19__["CHAT_MESSAGES_LOAD_COUNT"]) messagesListValues.current.isEnd = true;
        messagesListValues.current.offset += response.length;
        return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(response), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(list));
      });
    });
  };
  var scrollToBottom = function scrollToBottom() {
    if (!scrollbar.current) return;
    scrollbar.current.update();
    scrollbar.current.setPosition(0, 999999999);
  };
  var handleSubmit = function handleSubmit(newMessageText, image) {
    chatChannel.current.sendMessage(newMessageText, image);
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_15__["gtm"])("Chat - ".concat(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_22__["uppercaseFirstLetter"])(mode), " - Sent"));
  };
  var onReadMessage = function onReadMessage(messageId) {
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_15__["gtm"])("Chat - ".concat(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_22__["uppercaseFirstLetter"])(mode), " - Received"));
    chatChannel.current.readMessage(messageId);
    dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_8__["setGameInfo"])({
      unread_messages_count: game.unread_messages_count - 1
    }));
  };
  var onInitScrollbar = function onInitScrollbar(scrollInstance) {
    var saveScrollPosition = function saveScrollPosition(oldScrollLimit) {
        scrollInstance.update();
        scrollInstance.setPosition(0, scrollInstance.offset.y + (scrollInstance.limit.y - oldScrollLimit));
      },
      listenBottomAttach = function listenBottomAttach() {
        return isAtTheBottom.current = scrollInstance.offset.y == scrollInstance.limit.y;
      },
      loadMessagesAtScroll = function loadMessagesAtScroll() {
        if (!messageList.length || scrollInstance.offset.y >= 200 || isListLoadingActual() || messagesListValues.current.isEnd || isAtTheBottom.current) return;
        fetchMessages().then(function () {
          return saveScrollPosition(scrollInstance.limit.y);
        });
      };
    if (scrollInstance) {
      scrollInstance.addListener(listenBottomAttach);
      mode == 'all' && scrollInstance.addListener(loadMessagesAtScroll);
    }
  };
  var onFormInputFocus = function onFormInputFocus() {
    setIsInputFocusActive(true);
    isMobile && setTimeout(function () {
      return scrollToBottom();
    }, 100);
  };
  var onFormInputFocusOut = function onFormInputFocusOut() {
    setIsInputFocusActive(false);
  };
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    var html = document.querySelector('html');
    html === null || html === void 0 ? void 0 : html.classList.add('message-box-root');
    return function () {
      html.classList.remove('message-box-root');
    };
  }, []);

  // Listen height change
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    var asideHeight = isMobileSidebar ? document.querySelector('.aside').scrollHeight : 0;
    var rootHeight = windowHeight - asideHeight - (navigator.userAgent.indexOf("iPhone OS 15") != -1 ? 44 : 0);
    setRootHeight(rootHeight);
    setListHeight(rootHeight - (titleEl.current.offsetHeight + formEl.current.offsetHeight));
  }, [windowHeight, isMobileSidebar, isInputFocusActive]);

  // Reset scroll position on root height change
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    setTimeout(scrollToBottom);
  }, [rootHeight]);
  var socketParams = {
    refInstance: chatChannel,
    connectParams: {
      id: game.id,
      mode: mode
    },
    onConnect: function onConnect() {
      return setIsSocketConnected(true);
    },
    onDisconnect: function onDisconnect() {
      return setIsSocketConnected(false);
    },
    onReceive: function onReceive(_ref2) {
      var event = _ref2.event,
        data = _ref2.data;
      switch (event) {
        case 'new_message':
          setMessagesList(function (list) {
            return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(list), [_objectSpread(_objectSpread({}, data), {}, {
              "new": true
            })]);
          });
          break;
        case 'read_message':
          setMessagesList(function (list) {
            return list.map(function (message) {
              if (message.id == data.messageId) message.read = true;
              return message;
            });
          });
          break;
        case "message_deleted":
          setMessagesList(function (list) {
            return list.filter(function (m) {
              return m.id != data.message_id;
            });
          });
          break;
      }
    },
    nativeSend: function nativeSend(data) {
      if (data.identifier.mode != mode) {
        _helpers_toastify__WEBPACK_IMPORTED_MODULE_21__["toastify"].error('  .   ');
        return false;
      }
      return true;
    }
  };
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    messagesListValues.current = _objectSpread({}, messagesListInitialState);
    abortMessagesRequest();
    if (isStoredGameSameWithRoute) {
      var _fetchMessages;
      setMessagesList([]);
      (_fetchMessages = fetchMessages()) === null || _fetchMessages === void 0 ? void 0 : _fetchMessages.then(function () {
        return scrollToBottom();
      });
    }
  }, [mode, isStoredGameSameWithRoute]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    // Scroll to bottom each time when messages was change
    isAtTheBottom.current && scrollToBottom();
  }, [messageList]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "message-box",
    style: {
      height: rootHeight
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Channel__WEBPACK_IMPORTED_MODULE_20__["Channel"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    name: "Room"
  }, socketParams)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    ref: titleEl,
    className: "message-box__title"
  }, title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    ref: areaEl,
    className: "message-box__area"
  }, isInitialLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "loader"
  }) : isMessagesEmpty ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "placeholder-block"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", null, t('chat_no_messages'))) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Scrollbar__WEBPACK_IMPORTED_MODULE_18__["default"], {
    className: "message-box__list",
    scrollInstanceRef: scrollbar,
    onInit: onInitScrollbar,
    style: _objectSpread({
      height: listHeight ? "".concat(listHeight, "px") : 'auto'
    }, isMessagesEmpty || isInitialLoading ? {
      position: 'absolute',
      visibility: 'hidden',
      opacity: '0',
      pointerEvents: 'none'
    } : {})
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, messageList.map(function (message, index) {
    var _nextMessage$user, _message$user2, _message$user3, _message$user4;
    var nextMessage = messageList[index + 1],
      prevMessage = messageList[index - 1],
      messageDateInstance = new Date(message.created_at),
      isNextMessageDifferent = !nextMessage || nextMessage && (isSelfMessage(nextMessage) != isSelfMessage(message) || mode == 'all' && ((_nextMessage$user = nextMessage.user) === null || _nextMessage$user === void 0 ? void 0 : _nextMessage$user.id) != ((_message$user2 = message.user) === null || _message$user2 === void 0 ? void 0 : _message$user2.id)),
      isShowDate = !prevMessage || prevMessage && new Date(prevMessage.created_at).getDate() != messageDateInstance.getDate();
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, {
      key: message.id
    }, isShowDate && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_MessageDate__WEBPACK_IMPORTED_MODULE_13__["MessageDate"], {
      date: messageDateInstance
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Message__WEBPACK_IMPORTED_MODULE_6__["Message"], {
      id: message.id,
      self: isSelfMessage(message),
      text: message.message,
      attachments: message.image_url ? [message.image_url] : [],
      time: messageDateInstance,
      name: isNextMessageDifferent ? mode == 'all' ? (_message$user3 = message.user) === null || _message$user3 === void 0 ? void 0 : _message$user3.display_name : mode == 'santa' ? t('secret_santa') : mode == 'recipient' ? t('receiver') : '' : '',
      showAvatarCondition: isNextMessageDifferent,
      avatar: (_message$user4 = message.user) === null || _message$user4 === void 0 ? void 0 : _message$user4.avatar,
      fallbackAvatar: mode == 'all' ? message.user.gender == 'female' ? images_woman_png__WEBPACK_IMPORTED_MODULE_11___default.a : images_man_png__WEBPACK_IMPORTED_MODULE_10___default.a : mode == 'santa' ? isSelfMessage(message) ? authUser.gender == 'female' ? images_woman_png__WEBPACK_IMPORTED_MODULE_11___default.a : images_man_png__WEBPACK_IMPORTED_MODULE_10___default.a : images_santa_png__WEBPACK_IMPORTED_MODULE_9___default.a : mode == 'recipient' ? isSelfMessage(message) ? images_santa_png__WEBPACK_IMPORTED_MODULE_9___default.a : images_man_png__WEBPACK_IMPORTED_MODULE_10___default.a : '',
      scrollInstance: scrollbar.current,
      readable: mode != 'all',
      read: message.read,
      onRead: onReadMessage,
      isNew: message["new"],
      deleteRequest: deleteMessageRequest
    }));
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    ref: formEl,
    style: {
      opacity: +isSocketConnected
    },
    className: "message-box__form"
  }, mode != 'all' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_CloseableAlert__WEBPACK_IMPORTED_MODULE_14__["CloseableAlert"], {
    name: "chat_warning",
    className: "message-box__hint"
  }, t('chat_hint')), game.isJoinedGame() || game.is_admin && mode == 'all' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_MessageForm__WEBPACK_IMPORTED_MODULE_5__["MessageForm"], {
    onFocus: onFormInputFocus,
    onFocusOut: onFormInputFocusOut,
    onSubmit: handleSubmit
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "text-center font-gray",
    style: {
      fontSize: '15px',
      padding: '10px 0'
    }
  }, t('chat_only_players'))));
}

/***/ }),

/***/ "./app/javascript/components/Chat/MessageDate.tsx":
/*!********************************************************!*\
  !*** ./app/javascript/components/Chat/MessageDate.tsx ***!
  \********************************************************/
/*! exports provided: MessageDate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageDate", function() { return MessageDate; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");




function MessageDate(_ref) {
  var date = _ref.date;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_3__["useTranslation"])(),
    t = _useTranslation.t;
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(''),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    label = _useState2[0],
    setLabel = _useState2[1];
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    var today = new Date();
    if (date.getDate() == today.getDate() && date.getMonth() == today.getMonth() && date.getFullYear() == today.getFullYear()) {
      setLabel(t('today'));
    } else if (today.getDate() - date.getDate() == 1 && date.getMonth() == today.getMonth() && date.getFullYear() == today.getFullYear()) {
      setLabel(t('yesterday'));
    } else setLabel(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_2__["formatDate"])(date, t));
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "message-box__date"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, label));
}

/***/ }),

/***/ "./app/javascript/components/Chat/MessageForm.tsx":
/*!********************************************************!*\
  !*** ./app/javascript/components/Chat/MessageForm.tsx ***!
  \********************************************************/
/*! exports provided: MessageForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageForm", function() { return MessageForm; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _ActiveStorage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ActiveStorage */ "./app/javascript/components/ActiveStorage.tsx");


var _excluded = ["values"];







function MessageForm(props) {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_7__["useTranslation"])(),
    t = _useTranslation.t;
  var inputEl = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])(0);
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    isAttachmentLoading = _useState2[0],
    setIsAttachmentLoading = _useState2[1];
  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(''),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    attachmentPreview = _useState4[0],
    setAttachmentPreview = _useState4[1];
  var handleSubmit = function handleSubmit(values, actions) {
    var message = values.message.trim();
    inputEl.current.focus();
    if (!message && !values.image) return;
    props.onSubmit(message, values.image);
    setAttachmentPreview('');
    actions.setFieldValue('message', '');
    actions.setFieldValue('image', '');
  };
  var onFocus = function onFocus(e) {
    props.onFocus && props.onFocus(e);
  };
  var onFocusOut = function onFocusOut(e) {
    props.onFocusOut && props.onFocusOut(e);
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "message-form"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_3__["Form"], {
    onSubmit: handleSubmit,
    initialValues: {
      message: '',
      image: ''
    },
    className: "row row--xs"
  }, function (_ref) {
    var values = _ref.values,
      formikProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, _excluded);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "message-form__input-wrapper"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_4__["Input"], {
      onFocus: onFocus,
      onBlur: onFocusOut,
      id: "chat_message",
      onMount: function onMount(el) {
        return inputEl.current = el;
      },
      name: "message",
      autoComplete: "off",
      placeholder: t('your_message')
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "message-form__attachment"
    }, attachmentPreview && !isAttachmentLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "message-form__attachment-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      onClick: function onClick() {
        setAttachmentPreview('');
        formikProps.setFieldValue('image', '');
      },
      type: "button",
      className: "message-form__attachment-delete"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_6__["SvgIcon"], {
      name: "close"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
      src: attachmentPreview
    })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_ActiveStorage__WEBPACK_IMPORTED_MODULE_8__["ActiveStorage"], {
      rootProps: {
        className: "message-form__attachment-trigger"
      },
      onPreview: function onPreview(fileName, fileBaseEncoded) {
        return setAttachmentPreview(fileBaseEncoded);
      },
      onUploaded: function onUploaded(blob) {
        return formikProps.setFieldValue('image', blob.signed_id);
      },
      onBeforeUpload: function onBeforeUpload() {
        return setIsAttachmentLoading(true);
      },
      onFinally: function onFinally() {
        return setIsAttachmentLoading(false);
      }
    }, isAttachmentLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "loader"
    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_6__["SvgIcon"], {
      name: "clip"
    }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
      id: "chat_submit",
      type: "submit",
      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
        className: "d-xxs-inline d-none"
      }, t('send')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
        className: "d-xxs-none"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_6__["SvgIcon"], {
        name: "send"
      })))
    })));
  }));
}

/***/ }),

/***/ "./app/javascript/components/Chat/Notifications.tsx":
/*!**********************************************************!*\
  !*** ./app/javascript/components/Chat/Notifications.tsx ***!
  \**********************************************************/
/*! exports provided: Notifications */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Notifications", function() { return Notifications; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var react_toastify__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-toastify */ "./node_modules/react-toastify/dist/react-toastify.esm.js");
/* harmony import */ var images_santa_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! images/santa.png */ "./app/assets/images/santa.png");
/* harmony import */ var images_santa_png__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(images_santa_png__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var images_man_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! images/man.png */ "./app/assets/images/man.png");
/* harmony import */ var images_man_png__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(images_man_png__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var images_woman_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! images/woman.png */ "./app/assets/images/woman.png");
/* harmony import */ var images_woman_png__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(images_woman_png__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _PngIcon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_lines_ellipsis__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-lines-ellipsis */ "./node_modules/react-lines-ellipsis/lib/index.modern.mjs");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../redux/slices/games */ "./app/javascript/redux/slices/games.ts");
/* harmony import */ var _TransProxy__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _Channel__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../Channel */ "./app/javascript/components/Channel.tsx");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }




















function Notification(_ref) {
  var message = _ref.message,
    user = _ref.user,
    game = _ref.game,
    mode = _ref.mode;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_15__["useTranslation"])(),
    t = _useTranslation.t;
  var Game = function Game(_ref2) {
    var className = _ref2.className;
    return game ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: classnames__WEBPACK_IMPORTED_MODULE_13___default()('message-notify__game', className)
    }, game.avatar ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "round-sm-image"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
      alt: game.name,
      style: {
        maxWidth: '10px'
      },
      src: game.avatar
    })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_9__["PngIcon"], {
      name: "ball"
    }), Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_14__["truncateText"])(game.name, 50)) : null;
  };
  var MessagePreview = mode == 'all' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
    alt: user.name,
    src: user.avatar || (user.gender == 'female' ? images_woman_png__WEBPACK_IMPORTED_MODULE_8___default.a : images_man_png__WEBPACK_IMPORTED_MODULE_7___default.a)
  }) : mode == 'santa' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
    alt: t('secret_santa'),
    src: images_santa_png__WEBPACK_IMPORTED_MODULE_6___default.a
  }) : mode == 'recipient' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
    alt: t('receiver'),
    src: images_man_png__WEBPACK_IMPORTED_MODULE_7___default.a
  }) : mode == 'unread_at_init' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_18__["SvgIcon"], {
    name: "email"
  }) : null;
  var MessageFrom = mode == 'all' ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_14__["truncateText"])(user.name, 50) : mode == 'santa' ? t('chat_your_santa') : mode == 'recipient' ? t('chat_your_receiver') : null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_13___default()('message-notify', {
      'message-notify--with-game': !!game
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Game, {
    className: "d-none d-xs-block"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "message-notify__inn"
  }, MessagePreview && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "message-notify__icon"
  }, MessagePreview), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "message-notify__body"
  }, MessageFrom && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "message-notify__head"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "message-notify__from"
  }, MessageFrom), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "d-xs-none"
  }, t('chat_in_game')), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Game, {
    className: "d-xs-none"
  }), " ", t('chat_wrote'), ":"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "message-notify__text"
  }, typeof message == 'function' ? message() : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_lines_ellipsis__WEBPACK_IMPORTED_MODULE_12__["default"], {
    text: message,
    maxLine: "3",
    ellipsis: "...",
    trimRight: true,
    basedOn: "letters"
  })))));
}
function Notifications() {
  var navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_10__["useNavigate"])(),
    location = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_10__["useLocation"])(),
    authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["getAuthUser"]),
    mergedGamesStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_16__["getMergedGamesStatus"]),
    mergedGames = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_16__["getMergedGames"]),
    toasts = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])({}),
    shownAtInit = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])(false),
    saveToStorage = function saveToStorage(t, containerId) {
      var toastsTemp = _objectSpread({}, toasts.current);
      if (!toastsTemp[containerId]) toastsTemp[containerId] = [];
      toastsTemp[containerId].push(t);
      toasts.current = toastsTemp;
    },
    isAuth = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["isLogged"]),
    _useLocalesLoaded = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_19__["useLocalesLoaded"])(),
    localesLoaded = _useLocalesLoaded.localesLoaded,
    isDisableNotifications = function isDisableNotifications() {
      return !authUser.id || authUser.chat_notifications === false;
    };
  var showToast = function showToast(payload) {
    var toastOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    return Object(react_toastify__WEBPACK_IMPORTED_MODULE_5__["toast"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Notification, payload), _objectSpread(_objectSpread({}, _helpers_toastify__WEBPACK_IMPORTED_MODULE_4__["defaultOptions"]), {}, {
      className: 'message-notify-wrapper',
      transition: react_toastify__WEBPACK_IMPORTED_MODULE_5__["Bounce"]
    }, toastOptions));
  };
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    var STORAGE_KEY = 'chat_sum_notifications_appearance';
    var lastAppearance = localStorage.getItem(STORAGE_KEY);
    if (localesLoaded && mergedGamesStatus == 'succeeded' && !shownAtInit.current && (!lastAppearance || Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_14__["getTimestamp"])() - lastAppearance >= 86400)) {
      var unreadMessages = mergedGames.reduce(function (accum, game) {
        return accum + game.unread_messages_count;
      }, 0);
      if (unreadMessages) {
        showToast({
          mode: 'unread_at_init',
          message: function message() {
            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_17__["TransProxy"], {
              i18nKey: "chat_unread_messages",
              values: {
                count: unreadMessages
              }
            });
          }
        });
        localStorage.setItem(STORAGE_KEY, Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_14__["getTimestamp"])().toString());
      }
      shownAtInit.current = true;
    }
  }, [mergedGamesStatus, localesLoaded]);
  var onReceiveNotifications = function onReceiveNotifications(payload) {
    if (!payload.message) return;
    var mode = payload.mode,
      game = payload.game,
      containerId = "".concat(mode, "_").concat(game.id);

    //dispatch(updateListGameInfo( { id: game.id, unread_messages_count: game.unread_messages_count - 1 } ))

    if (isDisableNotifications() || new RegExp('(' + [_routes__WEBPACK_IMPORTED_MODULE_11__["URLS"].Game('chat/santa', game), _routes__WEBPACK_IMPORTED_MODULE_11__["URLS"].Game('chat/recipient', game), _routes__WEBPACK_IMPORTED_MODULE_11__["URLS"].Game('chat', game)].join('|') + ')$', 'i').test(document.URL)) return;
    saveToStorage(showToast(payload, {
      //containerId: containerId,
      closeOnClick: false,
      onClick: function onClick() {
        navigate(_routes__WEBPACK_IMPORTED_MODULE_11__["URLS"].Game("chat".concat(mode == 'all' ? '' : "/".concat(mode)), game));
        toasts.current[containerId].map(function (t) {
          return react_toastify__WEBPACK_IMPORTED_MODULE_5__["toast"].dismiss(t);
        });
      }
    }), containerId);
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, isAuth && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Channel__WEBPACK_IMPORTED_MODULE_20__["Channel"], {
    name: "RoomNotifications",
    onReceive: onReceiveNotifications
  }));
}

/***/ }),

/***/ "./app/javascript/components/Chat/index.ts":
/*!*************************************************!*\
  !*** ./app/javascript/components/Chat/index.ts ***!
  \*************************************************/
/*! exports provided: Notifications, Message, MessageBox, MessageDate, MessageForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Notifications */ "./app/javascript/components/Chat/Notifications.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Notifications", function() { return _Notifications__WEBPACK_IMPORTED_MODULE_0__["Notifications"]; });

/* harmony import */ var _Message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Message */ "./app/javascript/components/Chat/Message.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Message", function() { return _Message__WEBPACK_IMPORTED_MODULE_1__["Message"]; });

/* harmony import */ var _MessageBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MessageBox */ "./app/javascript/components/Chat/MessageBox.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MessageBox", function() { return _MessageBox__WEBPACK_IMPORTED_MODULE_2__["MessageBox"]; });

/* harmony import */ var _MessageDate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MessageDate */ "./app/javascript/components/Chat/MessageDate.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MessageDate", function() { return _MessageDate__WEBPACK_IMPORTED_MODULE_3__["MessageDate"]; });

/* harmony import */ var _MessageForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MessageForm */ "./app/javascript/components/Chat/MessageForm.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MessageForm", function() { return _MessageForm__WEBPACK_IMPORTED_MODULE_4__["MessageForm"]; });








/***/ }),

/***/ "./app/javascript/components/Checkbox.tsx":
/*!************************************************!*\
  !*** ./app/javascript/components/Checkbox.tsx ***!
  \************************************************/
/*! exports provided: CheckboxBoilerplate, CheckboxList, Checkbox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckboxBoilerplate", function() { return CheckboxBoilerplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckboxList", function() { return CheckboxList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Checkbox", function() { return Checkbox; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SvgIcon */ "./app/javascript/components/SvgIcon.tsx");




var _excluded = ["field", "meta", "form", "label", "hint", "mods", "type", "onChange"],
  _excluded2 = ["name", "className", "data", "id"],
  _excluded3 = ["name"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }




function CheckboxBoilerplate(_ref) {
  var field = _ref.field,
    meta = _ref.meta,
    form = _ref.form,
    label = _ref.label,
    hint = _ref.hint,
    mods = _ref.mods,
    type = _ref.type,
    _onChange = _ref.onChange,
    nativeInputProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref, _excluded);
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    checked = _useState2[0],
    setChecked = _useState2[1];
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("label", {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()('checkbox', {
      'checkbox--hint': hint,
      'checkbox--disabled': nativeInputProps.disabled,
      'checkbox--radio': type == 'radio',
      'checkbox--error': meta && meta.touched && meta.error
    }, mods && mods.map(function (m) {
      return 'checkbox--' + m;
    }))
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, _objectSpread(_objectSpread({}, field), nativeInputProps), {
    onChange: function onChange(e) {
      if (field) field.onChange(e);else setChecked(e.target.checked);
      _onChange && _onChange(e);
    },
    checked: field ? field.value == nativeInputProps.value || field.value === true : checked,
    type: type || 'checkbox'
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "checkbox__i"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_7__["SvgIcon"], {
    name: "check-1"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "checkbox__text"
  }, label, hint && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
    className: "checkbox__hint"
  }, hint)));
}
function CheckboxList(_ref2) {
  var name = _ref2.name,
    className = _ref2.className,
    data = _ref2.data,
    id = _ref2.id,
    checkboxProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref2, _excluded2);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__["Field"], {
    name: name
  }, function (_ref3) {
    var field = _ref3.field,
      meta = _ref3.meta;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      id: id,
      className: classnames__WEBPACK_IMPORTED_MODULE_6___default()('checkboxes', className)
    }, data.map(function (item, index) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(CheckboxBoilerplate, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        key: index
      }, _objectSpread(_objectSpread(_objectSpread({}, {
        field: field,
        meta: meta
      }), checkboxProps), item)));
    })), meta.touched && meta.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "input-error"
    }, meta.error));
  });
}
function Checkbox(_ref4) {
  var name = _ref4.name,
    checkboxProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref4, _excluded3);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__["Field"], {
    name: name
  }, function (fieldChildProps) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(CheckboxBoilerplate, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, checkboxProps, fieldChildProps));
  });
}

/***/ }),

/***/ "./app/javascript/components/CloseableAlert.tsx":
/*!******************************************************!*\
  !*** ./app/javascript/components/CloseableAlert.tsx ***!
  \******************************************************/
/*! exports provided: CloseableAlert */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CloseableAlert", function() { return CloseableAlert; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);



var _excluded = ["name", "children", "closeButtonClassName", "closeButtonInner", "className"];



function CloseableAlert(_ref) {
  var name = _ref.name,
    children = _ref.children,
    closeButtonClassName = _ref.closeButtonClassName,
    closeButtonInner = _ref.closeButtonInner,
    className = _ref.className,
    elemProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var storageKey = "alert_".concat(name, "_hidden");
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(localStorage.getItem(storageKey) == '1'),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    isHidden = _useState2[0],
    setIsHidden = _useState2[1];
  var hide = function hide(e) {
    e.preventDefault();
    setIsHidden(true);
    localStorage.setItem(storageKey, '1');
  };
  return isHidden ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('closeable-alert', className)
  }, elemProps), children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
    onClick: hide,
    className: closeButtonClassName || 'closeable-alert__close'
  }, closeButtonInner || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_4__["SvgIcon"], {
    name: "close"
  })));
}

/***/ }),

/***/ "./app/javascript/components/ConfirmAlert.tsx":
/*!****************************************************!*\
  !*** ./app/javascript/components/ConfirmAlert.tsx ***!
  \****************************************************/
/*! exports provided: closeConfirm, ConfirmAlertContainer, confirmAlert */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "closeConfirm", function() { return closeConfirm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmAlertContainer", function() { return ConfirmAlertContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "confirmAlert", function() { return confirmAlert; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _core_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/i18n */ "./app/javascript/core/i18n.tsx");
/* harmony import */ var _helpers_EventsManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/EventsManager */ "./app/javascript/helpers/EventsManager.ts");




var _excluded = ["title", "message", "buttons"],
  _excluded2 = ["onClick"];




var eventManager = new _helpers_EventsManager__WEBPACK_IMPORTED_MODULE_6__["EventsManager"]();
function closeConfirm() {
  document.body.classList.remove('react-confirm-alert-body-element');
  eventManager.fire('close');
}
function ConfirmAlertContainer() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(null),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState, 2),
    alert = _useState2[0],
    setAlert = _useState2[1];
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    eventManager.on('show', function (props) {
      setAlert(props);
    });
    eventManager.on('close', function () {
      setAlert(null);
    });
    return function () {
      eventManager.off('show').off('close');
    };
  });
  return alert ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ReactConfirmAlert, alert) : null;
}
function ReactConfirmAlert(_ref) {
  var title = _ref.title,
    message = _ref.message,
    buttons = _ref.buttons,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var overlay = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(null);
  var handleClickButton = function handleClickButton(manualOnClick) {
    manualOnClick && manualOnClick();
    closeConfirm();
  };
  var handleClickOverlay = function handleClickOverlay(e) {
    return e.target === overlay.current && closeConfirm();
  };
  var keyboardClose = function keyboardClose(e) {
    return e.keyCode === 27 && closeConfirm();
  };
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    document.addEventListener('keydown', keyboardClose, false);
    return function () {
      document.removeEventListener('keydown', keyboardClose, false);
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "react-confirm-alert-overlay",
    ref: overlay,
    onClick: handleClickOverlay
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "react-confirm-alert"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "react-confirm-alert-body"
  }, title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", null, title), message, !!buttons.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "react-confirm-alert-button-group"
  }, buttons.map(function (_ref2, i) {
    var _onClick = _ref2.onClick,
      button = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref2, _excluded2);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({
      key: i
    }, button, {
      onClick: function onClick() {
        return handleClickButton(_onClick);
      },
      className: button.className
    }), button.label);
  })))));
}
var confirmAlert = function confirmAlert(message, options) {
  return new Promise(function (resolve, reject) {
    document.body.classList.add('react-confirm-alert-body-element');
    document.body.children[0].classList.add('react-confirm-alert-blur');
    eventManager.fire('show', {
      title: options.title || _core_i18n__WEBPACK_IMPORTED_MODULE_5__["default"].t('confirm_default_title'),
      message: message,
      buttons: !options.withoutButtons ? [{
        id: 'confirm_alert_accept',
        label: options.buttonText || 'OK',
        onClick: function onClick() {
          return resolve();
        }
      }].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(!options.withoutCancel ? [{
        id: 'confirm_alert_cancel',
        label: options.cancelButtonText || _core_i18n__WEBPACK_IMPORTED_MODULE_5__["default"].t('cancel')
      }] : [])) : []
    });
  });
};


/***/ }),

/***/ "./app/javascript/components/ConfirmExample.tsx":
/*!******************************************************!*\
  !*** ./app/javascript/components/ConfirmExample.tsx ***!
  \******************************************************/
/*! exports provided: ConfirmExample */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmExample", function() { return ConfirmExample; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _ConfirmAlert__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");







function ConfirmExample(_ref) {
  var onSubmit = _ref.onSubmit,
    submitText = _ref.submitText;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_1__["useTranslation"])(),
    t = _useTranslation.t;
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(0),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    firstChar = _useState2[0],
    setFirstChar = _useState2[1];
  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(''),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),
    userAnswer = _useState4[0],
    setUserAnswer = _useState4[1];
  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_3__["generateRandom"])(10, 20)),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState5, 1),
    answer = _useState6[0];
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    setFirstChar(answer - Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_3__["generateRandom"])(1, Math.round(answer / 2)));
  }, []);
  var handleClick = function handleClick() {
    onSubmit().then(function () {
      Object(_ConfirmAlert__WEBPACK_IMPORTED_MODULE_6__["closeConfirm"])();
    });
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "row row--xs align-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "col-auto"
  }, firstChar, " + ", parseInt(answer) - firstChar, " = "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_4__["InputBoilerplate"], {
    type: "number",
    wrapperClassName: "complex-input--xs",
    style: {
      width: '60px'
    },
    onChange: function onChange(e) {
      return setUserAnswer(e.target.value);
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "m-t-20"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "row row--sm"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
    onClick: handleClick,
    label: submitText,
    mod: ['block'],
    disabled: userAnswer != answer
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], {
    onClick: _ConfirmAlert__WEBPACK_IMPORTED_MODULE_6__["closeConfirm"],
    mod: ['no-border', 'outline', 'block'],
    label: t('cancel')
  })))));
}

/***/ }),

/***/ "./app/javascript/components/CourierLogo.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/components/CourierLogo.tsx ***!
  \***************************************************/
/*! exports provided: CourierLogo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CourierLogo", function() { return CourierLogo; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);



var _excluded = ["courier", "parcel", "width", "style"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function CourierLogo(_ref) {
  var courier = _ref.courier,
    parcel = _ref.parcel,
    width = _ref.width,
    style = _ref.style,
    nativeProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var courierSlug = parcel ? parcel.service_slug || parcel.service : courier;
  return courierSlug ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    style: _objectSpread(_objectSpread({}, style), {}, {
      width: width + 'px'
    }),
    className: "courier-logo"
  }, nativeProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("img", {
    alt: "Courier logo",
    src: "https://static.mysanta.ru/couriers-logo/".concat(courierSlug, ".svg")
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null);
}

/***/ }),

/***/ "./app/javascript/components/Datepicker.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/components/Datepicker.tsx ***!
  \**************************************************/
/*! exports provided: DatepickerBoilerplate, Datepicker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatepickerBoilerplate", function() { return DatepickerBoilerplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Datepicker", function() { return Datepicker; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! date-fns/locale/ru */ "./node_modules/date-fns/esm/locale/ru/index.js");
/* harmony import */ var date_fns_locale_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! date-fns/locale/es */ "./node_modules/date-fns/esm/locale/es/index.js");
/* harmony import */ var react_datepicker_dist_react_datepicker_css__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-datepicker/dist/react-datepicker.css */ "./node_modules/react-datepicker/dist/react-datepicker.css");
/* harmony import */ var react_datepicker_dist_react_datepicker_css__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_datepicker_dist_react_datepicker_css__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");





var _excluded = ["field", "meta", "form", "id", "time", "placeholder", "startDate"],
  _excluded2 = ["name"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }







var DatePicker = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_6__["lazy"])( /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default.a.mark(function _callee() {
  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default.a.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return Promise.all(/*! import() */[__webpack_require__.e(0), __webpack_require__.e(3)]).then(__webpack_require__.t.bind(null, /*! react-datepicker */ "./node_modules/react-datepicker/dist/react-datepicker.min.js", 7)).then(function (_ref2) {
            var registerLocale = _ref2.registerLocale;
            Object.entries({
              ru: date_fns_locale_ru__WEBPACK_IMPORTED_MODULE_8__["default"],
              es: date_fns_locale_es__WEBPACK_IMPORTED_MODULE_9__["default"]
            }).map(function (_ref3) {
              var _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_ref3, 2),
                localeKey = _ref4[0],
                localeData = _ref4[1];
              return registerLocale(localeKey, _objectSpread(_objectSpread({}, localeData), {}, {
                options: {
                  weekStartsOn: 1,
                  firstWeekContainsDate: 1
                }
              }));
            });
          });
        case 2:
          return _context.abrupt("return", Promise.all(/*! import() */[__webpack_require__.e(0), __webpack_require__.e(3)]).then(__webpack_require__.t.bind(null, /*! react-datepicker */ "./node_modules/react-datepicker/dist/react-datepicker.min.js", 7)));
        case 3:
        case "end":
          return _context.stop();
      }
    }
  }, _callee);
})));
function DatepickerBoilerplate(_ref5) {
  var field = _ref5.field,
    meta = _ref5.meta,
    form = _ref5.form,
    id = _ref5.id,
    time = _ref5.time,
    placeholder = _ref5.placeholder,
    startDate = _ref5.startDate,
    componentOptions = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref5, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_12__["useTranslation"])(),
    t = _useTranslation.t,
    i18n = _useTranslation.i18n;
  var DatepickerCustomInput = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_6__["forwardRef"])(function (_ref6, ref) {
    var value = _ref6.value,
      onClick = _ref6.onClick;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_7__["InputBoilerplate"], {
      placeholder: placeholder,
      meta: meta,
      value: value,
      onClick: onClick,
      refInstance: ref,
      readOnly: true,
      icon: "calendar"
    });
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, _objectSpread(_objectSpread({}, field), {}, {
    id: id
  }), {
    type: "hidden"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6__["Suspense"], {
    fallback: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(DatepickerCustomInput, null)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(DatePicker, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    locale: i18n.language,
    showTimeSelect: !!time,
    dateFormat: "d MMMM yyyy",
    onChange: function onChange(date) {
      field && form.setFieldValue(field.name, date);
    },
    customInput: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(DatepickerCustomInput, null)
  }, field.value ? {
    selected: typeof field.value == 'string' ? new Date(field.value) : field.value
  } : {}, componentOptions))));
}
function Datepicker(_ref7) {
  var name = _ref7.name,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref7, _excluded2);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__["Field"], {
    name: name
  }, function (fieldProps) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(DatepickerBoilerplate, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, fieldProps, props));
  });
}

/***/ }),

/***/ "./app/javascript/components/DragDropImage.tsx":
/*!*****************************************************!*\
  !*** ./app/javascript/components/DragDropImage.tsx ***!
  \*****************************************************/
/*! exports provided: DragDropImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DragDropImage", function() { return DragDropImage; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _ActiveStorage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ActiveStorage */ "./app/javascript/components/ActiveStorage.tsx");


var _excluded = ["name", "preview"];






function DragDropImage(_ref) {
  var name = _ref.name,
    inputPreview = _ref.preview,
    inputAttr = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var isTouch = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_6__["useIsTouch"])();
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_4__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_3__["Field"], {
    name: name
  }, function (_ref2) {
    var field = _ref2.field,
      form = _ref2.form,
      meta = _ref2.meta;
    var dropAreaEl = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])(0),
      _ref3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(''),
      _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref3, 2),
      preview = _ref4[0],
      setPreview = _ref4[1],
      _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(0),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
      dropFile = _useState2[0],
      setDropFile = _useState2[1],
      _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),
      isDragActive = _useState4[0],
      setIsDragActive = _useState4[1],
      _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState5, 2),
      isLoading = _useState6[0],
      setIsLoading = _useState6[1];
    Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
      inputPreview && setPreview(inputPreview);
    }, [inputPreview]);
    Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
      /^http[s]*:\/\//i.test(field.value) && setPreview(field.value);
    }, [field.value]);
    Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
      ['dragenter', 'dragover', 'dragleave', 'drop'].map(function (i) {
        return dropAreaEl.current.addEventListener(i, function (e) {
          e.preventDefault();
          e.stopPropagation();
        }, false);
      });
      ['dragenter', 'dragover'].map(function (i) {
        return dropAreaEl.current.addEventListener(i, function (e) {
          return setIsDragActive(true);
        }, false);
      });
      ['dragleave', 'drop'].map(function (i) {
        return dropAreaEl.current.addEventListener(i, function (e) {
          return setIsDragActive(false);
        }, false);
      });
      dropAreaEl.current.addEventListener('drop', function (e) {
        return setDropFile(e.dataTransfer.files[0]);
      }, false);
    }, []);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_ActiveStorage__WEBPACK_IMPORTED_MODULE_7__["ActiveStorage"], {
      rootProps: {
        className: "drag-drop"
      },
      inputProps: inputAttr,
      customFile: dropFile,
      onBeforeUpload: function onBeforeUpload() {
        return setIsLoading(true);
      },
      onPreview: function onPreview(fileName, fileBaseEncoded) {
        return setPreview(fileBaseEncoded);
      },
      onUploaded: function onUploaded(blob) {
        return form.setFieldValue(field.name, blob.signed_id);
      },
      onFinally: function onFinally() {
        return setIsLoading(false);
      },
      onError: function onError(reason) {
        return form.setFieldError(field.name, reason);
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      ref: dropAreaEl,
      className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('drag-drop__area', {
        'is-drag-active': isDragActive,
        'is-inactive': preview && !isDragActive && !isLoading,
        'is-loading': isLoading
      })
    }, isLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "loader"
    }) : preview && !isDragActive ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
      alt: "Preview",
      src: preview
    }) : t("drag_drop_label".concat(isTouch ? '_mobile' : ''))));
  });
}

/***/ }),

/***/ "./app/javascript/components/Fancybox.tsx":
/*!************************************************!*\
  !*** ./app/javascript/components/Fancybox.tsx ***!
  \************************************************/
/*! exports provided: Fancybox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Fancybox", function() { return Fancybox; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _fancyapps_ui_dist_fancybox_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @fancyapps/ui/dist/fancybox.esm.js */ "./node_modules/@fancyapps/ui/dist/fancybox.esm.js");
/* harmony import */ var _fancyapps_ui_dist_fancybox_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @fancyapps/ui/dist/fancybox.css */ "./node_modules/@fancyapps/ui/dist/fancybox.css");
/* harmony import */ var _fancyapps_ui_dist_fancybox_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_fancyapps_ui_dist_fancybox_css__WEBPACK_IMPORTED_MODULE_2__);



function Fancybox(props) {
  var delegate = props.selector || "[data-fancybox]";
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    _fancyapps_ui_dist_fancybox_esm_js__WEBPACK_IMPORTED_MODULE_1__["Fancybox"].bind(delegate, props.options);
    return function () {
      _fancyapps_ui_dist_fancybox_esm_js__WEBPACK_IMPORTED_MODULE_1__["Fancybox"].destroy();
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, props.children);
}

/***/ }),

/***/ "./app/javascript/components/Form.tsx":
/*!********************************************!*\
  !*** ./app/javascript/components/Form.tsx ***!
  \********************************************/
/*! exports provided: FormLabel, FormRow, FormSubmit, Form, FormValuesDependingOnI18n */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormLabel", function() { return FormLabel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormRow", function() { return FormRow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormSubmit", function() { return FormSubmit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Form", function() { return Form; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormValuesDependingOnI18n", function() { return FormValuesDependingOnI18n; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var _core_i18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/i18n */ "./app/javascript/core/i18n.tsx");



var _excluded = ["className", "disabled"],
  _excluded2 = ["className", "children", "onChange", "refInstance"],
  _excluded3 = ["values"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }





function FormLabel(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, props.label && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("label", {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('form__label', {
      'form__label--required': props.required,
      'form__label--disabled': props.disabled
    })
  }, props.label), props.hint && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "form__hint"
  }, props.hint), props.children);
}
function FormRow(_ref) {
  var className = _ref.className,
    disabled = _ref.disabled,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var Tippy = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_3__["lazy"])(function () {
    return Promise.all(/*! import() */[__webpack_require__.e(0), __webpack_require__.e(5)]).then(__webpack_require__.bind(null, /*! @tippyjs/react */ "./node_modules/@tippyjs/react/dist/tippy-react.esm.js"));
  });
  var Inner = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, props, {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('form__row', className, {
      'form__row--disabled': !!disabled
    }, props.mod && props.mod.map(function (i) {
      return 'form__row--' + i;
    }))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(FormLabel, props));
  return typeof disabled == 'string' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3__["Suspense"], {
    fallback: Inner
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Tippy, {
    placement: "top-start",
    arrow: false,
    content: disabled
  }, Inner)) : Inner;
}
function FormSubmit(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_5__["Button"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({
    type: "submit"
  }, props));
}
var FocusError = function FocusError() {
  var _useFormikContext = Object(formik__WEBPACK_IMPORTED_MODULE_6__["useFormikContext"])(),
    errors = _useFormikContext.errors,
    isSubmitting = _useFormikContext.isSubmitting,
    isValidating = _useFormikContext.isValidating;
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (isSubmitting && !isValidating) {
      var keys = Object.keys(errors);
      if (keys[0] && Object.values(errors)[0]) {
        var selector = "[name=".concat(keys[0], "]");
        var errorElement = document.querySelector(selector);
        errorElement && errorElement.focus();
      }
    }
  }, [errors, isSubmitting, isValidating]);
  return null;
};
function Form(_ref2) {
  var className = _ref2.className,
    children = _ref2.children,
    onChange = _ref2.onChange,
    refInstance = _ref2.refInstance,
    formikProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref2, _excluded2);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_6__["Formik"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, formikProps, {
    validateOnChange: false,
    validateOnBlur: false
  }), function (_ref3) {
    var values = _ref3.values,
      props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref3, _excluded3);
    Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
      onChange && onChange(values);
    }, [values]);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_6__["Form"], {
      ref: refInstance,
      className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('form', className)
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(FocusError, null), typeof children == 'function' ? children(_objectSpread({
      values: values
    }, props)) : children);
  });
}
function FormValuesDependingOnI18n(_ref4) {
  var handler = _ref4.handler;
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    var langChangeEventDestroyer = Object(_core_i18n__WEBPACK_IMPORTED_MODULE_7__["onLanguageChange"])(handler);
    return function () {
      return langChangeEventDestroyer();
    };
  }, []);
  return null;
}

/***/ }),

/***/ "./app/javascript/components/GridAction.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/components/GridAction.tsx ***!
  \**************************************************/
/*! exports provided: GridAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridAction", function() { return GridAction; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);



function GridAction(_ref) {
  var to = _ref.to,
    icon = _ref.icon,
    label = _ref.label,
    children = _ref.children,
    onClick = _ref.onClick,
    wrapperClassName = _ref.wrapperClassName;
  var Component = to ? react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"] : 'div';
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('grid-action-wrapper', wrapperClassName)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, {
    to: to,
    onClick: onClick,
    className: "grid-action"
  }, children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "grid-action__inn"
  }, icon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "grid-action__label"
  }, label))));
}

/***/ }),

/***/ "./app/javascript/components/HighlightWords.tsx":
/*!******************************************************!*\
  !*** ./app/javascript/components/HighlightWords.tsx ***!
  \******************************************************/
/*! exports provided: HighlightWords */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HighlightWords", function() { return HighlightWords; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var highlight_words__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! highlight-words */ "./node_modules/highlight-words/dist/highlight-words.mjs");


function HighlightWords(_ref) {
  var text = _ref.text,
    words = _ref.words,
    highlightClassName = _ref.highlightClassName,
    _ref$tagName = _ref.tagName,
    tagName = _ref$tagName === void 0 ? 'span' : _ref$tagName;
  var query = typeof words === 'string' ? words : words.join(' ');
  var chunks = Object(highlight_words__WEBPACK_IMPORTED_MODULE_1__["default"])({
    text: text,
    query: query
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, chunks.map(function (chunk) {
    if (!chunk.match) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        key: chunk.key
      }, chunk.text);
    }
    var Component = tagName;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, {
      key: chunk.key,
      className: highlightClassName
    }, chunk.text);
  }));
}

/***/ }),

/***/ "./app/javascript/components/InfoPanel.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/components/InfoPanel.tsx ***!
  \*************************************************/
/*! exports provided: InfoPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoPanel", function() { return InfoPanel; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);




function InfoPanel(_ref) {
  var icon = _ref.icon,
    label = _ref.label,
    value = _ref.value,
    additional = _ref.additional,
    mods = _ref.mods,
    more = _ref.more;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_2__["useTranslation"])(),
    t = _useTranslation.t;
  var ComponentLink = more && more.link ? react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"] : 'div';
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('info-panel', mods && mods.map(function (i) {
      return 'info-panel--' + i;
    }))
  }, icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "info-panel__icon"
  }, icon), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "info-panel__inn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "info-panel__top"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "info-panel__label"
  }, label), value && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "info-panel__value"
  }, value)), additional && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "info-panel__additional"
  }, additional), more && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "info-panel__bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "info-panel__link"
  }, (more.link || more.onClick) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ComponentLink, {
    onClick: more.onClick,
    to: more.link,
    className: "link"
  }, more.label || t('more')) || more.component))));
}

/***/ }),

/***/ "./app/javascript/components/Input.tsx":
/*!*********************************************!*\
  !*** ./app/javascript/components/Input.tsx ***!
  \*********************************************/
/*! exports provided: InputBoilerplate, Input */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InputBoilerplate", function() { return InputBoilerplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Input", function() { return Input; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var autosize__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! autosize */ "./node_modules/autosize/dist/autosize.esm.js");
/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Tooltip */ "./app/javascript/components/Tooltip.tsx");
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _core_i18n__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../core/i18n */ "./app/javascript/core/i18n.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");









var _excluded = ["isTextarea", "icon", "isCopiable", "isLoading", "isValid", "children", "mask", "field", "meta", "form", "onMount", "onCopied", "prefix", "postfix", "error", "validateable", "wrapperClassName", "type", "placeholder", "visiblePlaceholder", "refInstance", "i18nValue", "hint", "elWrapperClassName"],
  _excluded2 = ["name"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












function setNativeValue(element, value) {
  var valueSetter = Object.getOwnPropertyDescriptor(element, 'value').set;
  var prototype = Object.getPrototypeOf(element);
  var prototypeValueSetter = Object.getOwnPropertyDescriptor(prototype, 'value').set;
  if (valueSetter && valueSetter !== prototypeValueSetter) {
    prototypeValueSetter.call(element, value);
  } else {
    valueSetter.call(element, value);
  }
}
var BaseMask = /*#__PURE__*/function () {
  function BaseMask(input, options) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this, BaseMask);
    this.input = input;
    this.options = options;
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8___default()(BaseMask, [{
    key: "init",
    value: function init(startValue) {}
  }, {
    key: "update",
    value: function update(value) {}
  }]);
  return BaseMask;
}();
var DateMask = /*#__PURE__*/function (_BaseMask) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(DateMask, _BaseMask);
  var _super = _createSuper(DateMask);
  function DateMask() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this, DateMask);
    return _super.apply(this, arguments);
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_8___default()(DateMask, [{
    key: "init",
    value: function init(startValue) {
      var _this = this;
      var handleKeyPress = function handleKeyPress(e) {
        var format = _this.options.format,
          delimiter = format.match(/\W/)[0],
          input = e.target,
          printedChar = parseInt(String.fromCharCode(e.keyCode)),
          len = input.value.length,
          cursorPosition = input.selectionStart,
          charAtCursor = input.value[cursorPosition - 1],
          _ref = [format.indexOf('d'), format.indexOf('m'), format.indexOf('y')],
          startIndexDay = _ref[0],
          startIndexMonth = _ref[1],
          startIndexYear = _ref[2];

        // check valid date format
        if (
        // first num of day
        cursorPosition === startIndexDay && printedChar > 3 ||
        // last num of day

        cursorPosition === startIndexDay + 1 && (printedChar > 9 || charAtCursor == 3 && printedChar > 1) ||
        // first num of month
        cursorPosition === startIndexMonth && printedChar > 1 ||
        // last num of month
        cursorPosition === startIndexMonth + 1 && charAtCursor == 1 && printedChar > 2 ||
        // prevent 00 in a day/month
        // 2 is the last nums of day and month, 1 - delimiter
        cursorPosition < startIndexDay + startIndexMonth + 2 + 1 && charAtCursor == 0 && printedChar == 0) return e.preventDefault();
        if (len == format.length && cursorPosition < format.length) {
          var inputValue = input.value;
          var newCursorPosition = cursorPosition;
          if (inputValue[cursorPosition] == delimiter) newCursorPosition++;
          e.preventDefault();
          setNativeValue(input, [inputValue.slice(0, newCursorPosition), printedChar, inputValue.slice(newCursorPosition + 1)].join(''));
          input.selectionEnd = newCursorPosition + 1;
          input.dispatchEvent(new Event('change', {
            "bubbles": true
          }));
          return;
        }
        if (
        // only numbers
        e.keyCode < 47 || e.keyCode > 57 ||
        // If we're at a particular place, let the user type the slash
        // i.e., 12/12/1212
        (len !== startIndexDay + 1 || len !== startIndexMonth + 1) && e.keyCode == 47 || len >= format.length) e.preventDefault();
        setTimeout(function () {
          var len = input.value.length;
          if (len === startIndexDay + 2 || len === startIndexMonth + 2) input.value += delimiter;
        });
      };
      var onFocus = function onFocus() {
        _this.input.setAttribute('pattern', '\\d*');
      };
      var onFocusOut = function onFocusOut() {
        _this.input.removeAttribute('pattern');
      };
      this.input.addEventListener('keypress', handleKeyPress);
      this.input.addEventListener('focusin', onFocus);
      this.input.addEventListener('focusout', onFocusOut);

      // format at init
      this.update(startValue);
      return function () {
        _this.input.removeEventListener('keypress', handleKeyPress);
        _this.input.removeEventListener('focusin', onFocus);
        _this.input.removeEventListener('focusout', onFocusOut);
      };
    }
  }, {
    key: "update",
    value: function update(value) {
      if (!value) return;
      setNativeValue(this.input, Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_17__["formatDateCustomFormat"])(value, this.options.format));
      this.input.dispatchEvent(new Event('change', {
        "bubbles": true
      }));
    }
  }]);
  return DateMask;
}(BaseMask);
function InputBoilerplate(_ref2) {
  var isTextarea = _ref2.isTextarea,
    icon = _ref2.icon,
    isCopiable = _ref2.isCopiable,
    isLoading = _ref2.isLoading,
    isValid = _ref2.isValid,
    children = _ref2.children,
    mask = _ref2.mask,
    field = _ref2.field,
    meta = _ref2.meta,
    form = _ref2.form,
    onMount = _ref2.onMount,
    onCopied = _ref2.onCopied,
    prefix = _ref2.prefix,
    postfix = _ref2.postfix,
    error = _ref2.error,
    validateable = _ref2.validateable,
    wrapperClassName = _ref2.wrapperClassName,
    type = _ref2.type,
    placeholder = _ref2.placeholder,
    visiblePlaceholder = _ref2.visiblePlaceholder,
    refInstance = _ref2.refInstance,
    i18nValue = _ref2.i18nValue,
    hint = _ref2.hint,
    elWrapperClassName = _ref2.elWrapperClassName,
    nativeInputProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref2, _excluded);
  var el = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])(0),
    maskInstance = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])(0),
    _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_15__["useTranslation"])(),
    t = _useTranslation.t,
    i18n = _useTranslation.i18n,
    _useLocalesLoaded = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_19__["useLocalesLoaded"])(),
    localesLoaded = _useLocalesLoaded.localesLoaded,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    isFocus = _useState2[0],
    setIsFocus = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(type || 'text'),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
    inputType = _useState4[0],
    setInputType = _useState4[1],
    computedError = error ? error : meta && meta.error ? meta.error : '';
  Object(react__WEBPACK_IMPORTED_MODULE_9__["useEffect"])(function () {
    var autosizeInitializerTimeout = setTimeout(function () {
      return isTextarea && Object(autosize__WEBPACK_IMPORTED_MODULE_12__["default"])(el.current);
    });
    return function () {
      clearTimeout(autosizeInitializerTimeout);
      isTextarea && autosize__WEBPACK_IMPORTED_MODULE_12__["default"].destroy(el.current);
    };
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_9__["useEffect"])(function () {
    var maskDestroyer = null;
    var valuesDependingOnI18n = function valuesDependingOnI18n() {
      if (!localesLoaded) return;
      var masksMapper = {
        date: function date() {
          return [DateMask, {
            format: t('date_format')
          }];
        }
      };
      if (mask && el.current) {
        var maskClass = masksMapper[mask]()[0],
          //@ts-ignore
          maskInst = new maskClass(el.current, masksMapper[mask]()[1]);
        el.current.value = '';
        maskDestroyer = maskInst.init(field.value);
        maskInstance.current = maskInst;
      }
      i18nValue && form.setFieldValue(field.name, i18nValue);
    };
    var langChangeEventDestroyer = Object(_core_i18n__WEBPACK_IMPORTED_MODULE_18__["onLanguageChange"])(function () {
      maskDestroyer && maskDestroyer();
      valuesDependingOnI18n();
    });
    valuesDependingOnI18n();
    return function () {
      maskDestroyer && maskDestroyer();
      langChangeEventDestroyer();
    };
  }, [localesLoaded]);
  var copy = function copy() {
    Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_17__["copyToClipboard"])(el.current.value).then(function () {
      _helpers_toastify__WEBPACK_IMPORTED_MODULE_16__["toastify"].success(t('copied'));
      onCopied && onCopied(el.current.value);
    })["catch"](function () {
      return _helpers_toastify__WEBPACK_IMPORTED_MODULE_16__["toastify"].success(t('copied_error'));
    });
  };
  var togglePasswordVisibility = function togglePasswordVisibility(e) {
    e.preventDefault();
    setInputType(inputType == 'password' ? 'text' : 'password');
    el.current.focus();
    setTimeout(function () {
      el.current.setSelectionRange(el.current.value.length, el.current.value.length);
    });
  };
  var inputProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, field), refInstance ? {
    ref: refInstance
  } : {}), {}, {
    onFocus: function onFocus() {
      return setIsFocus(true);
    },
    onBlur: function onBlur() {
      return setIsFocus(false);
    },
    onChange: function onChange(e) {
      if (field) {
        field.onChange(e);
        // Reset the error after input has been change
        form.setFieldError(field.name, '');
      }
    },
    className: 'input',
    ref: function ref(_ref3) {
      el.current = _ref3;
      onMount && onMount(el.current);
    }
  }, type == 'number' ? {
    min: 0,
    inputmode: 'numeric',
    pattern: '[0-9]*'
  } : {}), nativeInputProps);
  var generatedPlaceholder = !visiblePlaceholder && typeof placeholder == 'string' ? placeholder : '';
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()('complex-input', wrapperClassName, {
      'is-error': !!computedError,
      'is-filled': field && !!field.value,
      'complex-input--validateable': validateable,
      'is-valid': isValid,
      'is-focus': isFocus,
      'is-disabled': nativeInputProps.disabled,
      'complex-input--icon': icon || isCopiable
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()("complex-input__el", elWrapperClassName)
  }, visiblePlaceholder && placeholder && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("span", {
    className: "complex-input__placeholder"
  }, placeholder), prefix && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("span", {
    className: "complex-input__prefix"
  }, prefix), isLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("div", {
    className: "loader"
  }), children ? children : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"](react__WEBPACK_IMPORTED_MODULE_9__["Fragment"], null, icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"](_SvgIcon__WEBPACK_IMPORTED_MODULE_10__["SvgIcon"], {
    name: icon
  }), isTextarea ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"](react__WEBPACK_IMPORTED_MODULE_9__["Fragment"], null, (!field.value || !field.value.length) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("div", {
    className: "complex-input__textarea-placeholder",
    style: nativeInputProps.style
  }, Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_17__["nl2br"])(generatedPlaceholder)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("textarea", inputProps)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    type: inputType
  }, _objectSpread(_objectSpread({}, inputProps), {}, {
    placeholder: generatedPlaceholder
  }))), isCopiable && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"](_Tooltip__WEBPACK_IMPORTED_MODULE_13__["Tooltip"], {
    content: t('copy'),
    interactive: false
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("button", {
    onClick: copy,
    className: "complex-input__icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"](_SvgIcon__WEBPACK_IMPORTED_MODULE_10__["SvgIcon"], {
    name: "copy"
  })))), type == 'password' && !!el.current && el.current.value.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("a", {
    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()('complex-input__toggle-password', {
      'is-active': inputType == 'text'
    }),
    onClick: togglePasswordVisibility,
    tabIndex: -1,
    href: "#"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"](_SvgIcon__WEBPACK_IMPORTED_MODULE_10__["SvgIcon"], {
    name: inputType == 'password' ? 'eye' : 'eye-hide'
  })), postfix && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("div", {
    className: "complex-input__postfix"
  }, postfix)), hint && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("div", {
    className: "complex-input__hint"
  }, hint), !!computedError && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"]("span", {
    className: "input-error"
  }, computedError));
}
function Input(_ref4) {
  var name = _ref4.name,
    inputProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref4, _excluded2);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"](formik__WEBPACK_IMPORTED_MODULE_14__["Field"], {
    name: name
  }, function (_ref5) {
    var field = _ref5.field,
      meta = _ref5.meta,
      form = _ref5.form;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9__["createElement"](InputBoilerplate, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      field: field,
      meta: meta,
      form: form
    }, inputProps));
  });
}

/***/ }),

/***/ "./app/javascript/components/LangSwitcher.tsx":
/*!****************************************************!*\
  !*** ./app/javascript/components/LangSwitcher.tsx ***!
  \****************************************************/
/*! exports provided: LangSwitcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LangSwitcher", function() { return LangSwitcher; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _core_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/i18n */ "./app/javascript/core/i18n.tsx");






function LangSwitcher() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_2__["useTranslation"])(),
    i18n = _useTranslation.i18n,
    t = _useTranslation.t;
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    isOpen = _useState2[0],
    setIsOpen = _useState2[1];
  var getFlagClassName = function getFlagClassName(lng) {
    return lng == 'en' ? 'us' : lng;
  };
  var changeLang = function changeLang(lang) {
    Object(_core_i18n__WEBPACK_IMPORTED_MODULE_5__["changeUserLanguage"])(lang).then(function () {
      return setIsOpen(false);
    });
  };
  var select = function select(lng) {
    return changeLang(lng);
  };
  var onClick = function onClick(_ref) {
    var el = _ref.target;
    if (el && !el.closest('.lang-switcher') && !el.classList.contains('flag')) setIsOpen(false);
  };
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    document.addEventListener('click', onClick);
    return function () {
      document.removeEventListener('click', onClick);
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    onClick: function onClick() {
      return setIsOpen(true);
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('lang-switcher', {
      'is-open': isOpen
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "lang-switcher__label"
  }, t('change_language')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "lang-switcher__current"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('flag', getFlagClassName(i18n.language))
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul", {
    className: "lang-switcher__list"
  }, Object(_core_constants__WEBPACK_IMPORTED_MODULE_4__["LANGUAGES_LIST"])()[i18n.language] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", {
    className: "lang-switcher__item"
  }, Object(_core_constants__WEBPACK_IMPORTED_MODULE_4__["LANGUAGES_LIST"])()[i18n.language], /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    style: {
      opacity: 0
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('flag', getFlagClassName(i18n.language))
  })), Object.entries(Object(_core_constants__WEBPACK_IMPORTED_MODULE_4__["LANGUAGES_LIST"])()).filter(function (_ref2) {
    var _ref3 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref2, 1),
      lng = _ref3[0];
    return lng != i18n.language;
  }).map(function (_ref4, index) {
    var _ref5 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref4, 2),
      lng = _ref5[0],
      lngLabel = _ref5[1];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", {
      onClick: function onClick(e) {
        return select(lng);
      },
      className: "lang-switcher__item",
      key: index
    }, lngLabel, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('flag', getFlagClassName(lng))
    }));
  })));
}

/***/ }),

/***/ "./app/javascript/components/LoginForm.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/components/LoginForm.tsx ***!
  \*************************************************/
/*! exports provided: LoginForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginForm", function() { return LoginForm; });
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_MakeLogin__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/MakeLogin */ "./app/javascript/components/MakeLogin.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../helpers/gtm */ "./app/javascript/helpers/gtm.ts");



var _excluded = ["onLogin", "onError", "ButtonsRow", "onBeforeRequest"],
  _excluded2 = ["values"];















function LoginForm(_ref) {
  var onLogin = _ref.onLogin,
    onError = _ref.onError,
    ButtonsRow = _ref.ButtonsRow,
    onBeforeRequest = _ref.onBeforeRequest,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_13__["useTranslation"])(),
    t = _useTranslation.t,
    tempEmail = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_9__["getTempEmail"]),
    _useLocation = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["useLocation"])(),
    redirectState = _useLocation.state,
    tempPassword = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_9__["getTempPassword"]),
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(''),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    error = _useState2[0],
    setError = _useState2[1],
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_16__["Api"].users.signIn, {
      infiniteLoading: true,
      throwExceptions: true
    }),
    request = _useApi.request,
    isLoading = _useApi.isLoading,
    setIsLoading = _useApi.setIsLoading,
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    activateLogin = _useState4[0],
    setActivateLogin = _useState4[1];
  var formProps = {
    initialValues: {
      email: tempEmail,
      password: tempPassword || ''
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_11__["object"]().shape({
      email: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_12__["emailValidation"],
      password: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_12__["passwordValidation"]
    }),
    onSubmit: function onSubmit(values, actions) {
      onBeforeRequest && onBeforeRequest();
      request(values).then( /*#__PURE__*/function () {
        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(response) {
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  if (response.error) {
                    onError && onError();
                    setError(response.error);
                    setIsLoading(false);
                  } else setActivateLogin(true);
                case 1:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }));
        return function (_x) {
          return _ref2.apply(this, arguments);
        };
      }())["catch"](function (e) {
        if (e.response.status == 401) setError(t('login_error'));
      });
    }
  };
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    // send gtm event if email passed
    tempEmail && Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_17__["gtm"])('Auth - start', 'web');
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_10__["Form"], formProps, function (_ref3) {
    var values = _ref3.values,
      formikBag = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref3, _excluded2);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_MakeLogin__WEBPACK_IMPORTED_MODULE_14__["MakeLogin"], {
      activateLogin: activateLogin,
      values: values,
      formikBag: formikBag,
      onLogin: onLogin
    }, !tempEmail && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_10__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      id: "signin_email",
      placeholder: "example@gmail.com",
      name: "email"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_10__["FormRow"], {
      mod: error ? ['sm'] : []
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      id: "signin_password",
      postfix: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["Link"], {
        to: _routes__WEBPACK_IMPORTED_MODULE_7__["URLS"].ForgotPassword,
        className: "link"
      }, t('forget_password')),
      autoFocus: tempEmail,
      type: "password",
      placeholder: t('your_password'),
      name: "password"
    })), error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_10__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "alert alert--danger"
    }, error)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_10__["FormRow"], {
      style: {
        maxWidth: '100%'
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "row row--sm align-items-center"
    }, ButtonsRow ? ButtonsRow : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "col-xxs-auto col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_10__["FormSubmit"], {
      id: "signin_submit",
      isLoading: isLoading,
      label: t('login_enter')
    })), redirectState && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "col-xxs-auto col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["Link"], {
      to: redirectState.from,
      className: "link"
    }, t('back')))))));
  });
}

/***/ }),

/***/ "./app/javascript/components/MakeLogin.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/components/MakeLogin.tsx ***!
  \*************************************************/
/*! exports provided: logOut, MakeLogin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logOut", function() { return logOut; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MakeLogin", function() { return MakeLogin; });
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _ConfirmAlert__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/src/js.cookie.js");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");













function logOut(user, t) {
  Object(_ConfirmAlert__WEBPACK_IMPORTED_MODULE_8__["confirmAlert"])(t('logout_confirm'), {
    buttonText: t('log_off'),
    title: t('logout_confirm_title')
  }).then(function () {
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_9__["gtm"])('Log Out', user);
    _core_api__WEBPACK_IMPORTED_MODULE_11__["Api"].users.logOut()().then(function () {
      js_cookie__WEBPACK_IMPORTED_MODULE_10___default.a.remove(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["tempGameIdCookieName"]);
      localStorage.setItem('logout_time', Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_12__["getTimestamp"])().toString());
      localStorage.removeItem('auth_token');
      window.location.href = _routes__WEBPACK_IMPORTED_MODULE_6__["URLS"].Home;
    });
  });
}
function MakeLogin(_ref) {
  var activateLogin = _ref.activateLogin,
    values = _ref.values,
    formikBag = _ref.formikBag,
    children = _ref.children,
    onLogin = _ref.onLogin;
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useDispatch"])(),
    tempGameId = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["getTempGameId"]),
    authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["getAuthUser"]),
    navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_7__["useNavigate"])();
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    if (!activateLogin) return;
    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
      var _yield$dispatch, userData;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["setJustLogged"])());
              _context.next = 3;
              return dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["updateUser"])());
            case 3:
              _yield$dispatch = _context.sent;
              userData = _yield$dispatch.payload;
              _context.t0 = tempGameId;
              if (!_context.t0) {
                _context.next = 9;
                break;
              }
              _context.next = 9;
              return dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["fetchGame"])(tempGameId));
            case 9:
              // callback
              if (onLogin) onLogin(userData);else {
                if (userData.info_was_given == false) {
                  // send gtm event before the user starts filling data
                  Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_9__["plainGtm"])({
                    event: 'user_init',
                    user_info: userData
                  });
                  navigate(_routes__WEBPACK_IMPORTED_MODULE_6__["URLS"].UserEditInfo);
                } else navigate(tempGameId ? _routes__WEBPACK_IMPORTED_MODULE_6__["URLS"].Game('', tempGameId) : _routes__WEBPACK_IMPORTED_MODULE_6__["URLS"].Home);
              }
            case 10:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }))();
  }, [activateLogin]);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    var gmailReplacesRegExp = /(gmail\.ru|gmai\.com)/gi;
    if (values && gmailReplacesRegExp.test(values.email)) formikBag.setFieldValue('email', values.email.replace(gmailReplacesRegExp, 'gmail.com'));
  }, [values.email]);
  return children || null;
}

/***/ }),

/***/ "./app/javascript/components/MobileAccordion.tsx":
/*!*******************************************************!*\
  !*** ./app/javascript/components/MobileAccordion.tsx ***!
  \*******************************************************/
/*! exports provided: MobileAccordion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MobileAccordion", function() { return MobileAccordion; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);



function MobileAccordion(_ref) {
  var title = _ref.title,
    description = _ref.description,
    open = _ref.open,
    children = _ref.children;
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(open),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    isOpen = _useState2[0],
    setIsOpen = _useState2[1];
  var handleClick = function handleClick() {
    //setIsOpen(i => !i);
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('mobile-accordion', {
      'is-open': isOpen
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    onClick: handleClick,
    className: "mobile-accordion__head"
  }, title, description && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "mobile-accordion__description"
  }, description)), isOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "mobile-accordion__body"
  }, children));
}

/***/ }),

/***/ "./app/javascript/components/PageTitle.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/components/PageTitle.tsx ***!
  \*************************************************/
/*! exports provided: PageTitle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageTitle", function() { return PageTitle; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function PageTitle(props) {
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    props.title && (document.title = props.title);
  }, [props.title]);
  return null;
}

/***/ }),

/***/ "./app/javascript/components/Pagination.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/components/Pagination.tsx ***!
  \**************************************************/
/*! exports provided: Pagination */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pagination", function() { return Pagination; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_paginate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-paginate */ "./node_modules/react-paginate/dist/react-paginate.js");
/* harmony import */ var react_paginate__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_paginate__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);




function Pagination(_ref) {
  var itemsPerPage = _ref.itemsPerPage,
    totalItems = _ref.totalItems,
    onPageChange = _ref.onPageChange,
    forcePage = _ref.forcePage,
    paginationStateRef = _ref.paginationStateRef,
    className = _ref.className;
  var pageCount = Math.ceil(totalItems / itemsPerPage);
  var updateState = function updateState(page) {
    var newOffset = page * itemsPerPage % totalItems;
    var nextPage = Math.min(pageCount, page + 1);
    paginationStateRef.current = {
      page: page,
      offset: newOffset,
      nextOffset: nextPage * itemsPerPage % totalItems,
      nextPage: nextPage,
      isEnd: nextPage >= pageCount
    };
    console.log(paginationStateRef.current);
  };
  var handlePageClick = function handlePageClick(event) {
    var newOffset = event.selected * itemsPerPage % totalItems;
    onPageChange && onPageChange(event.selected, newOffset);
    updateState(event.selected);
  };
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    updateState(forcePage);
  }, [forcePage, totalItems, itemsPerPage]);
  return pageCount > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_paginate__WEBPACK_IMPORTED_MODULE_1___default.a, {
    forcePage: forcePage,
    breakLabel: "...",
    onPageChange: handlePageClick,
    pageRangeDisplayed: 5,
    pageCount: pageCount,
    renderOnZeroPageCount: null,
    containerClassName: classnames__WEBPACK_IMPORTED_MODULE_3___default()('pagination', className),
    activeLinkClassName: "is-active",
    nextClassName: "pagination__item",
    previousClassName: "pagination__item",
    pageClassName: "pagination__item",
    pageLinkClassName: "pagination__link",
    nextLinkClassName: "pagination__link pagination__next",
    previousLinkClassName: "pagination__link pagination__prev",
    disabledLinkClassName: "is-disabled",
    previousLabel: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_2__["SvgIcon"], {
      name: "chevron-left"
    }),
    nextLabel: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_2__["SvgIcon"], {
      name: "chevron-right"
    })
  });
}

/***/ }),

/***/ "./app/javascript/components/PhoneInput.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/components/PhoneInput.tsx ***!
  \**************************************************/
/*! exports provided: PhoneInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PhoneInput", function() { return PhoneInput; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");


var _excluded = ["name"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }





var ReactPhoneInput = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_2__["lazy"])(function () {
  return __webpack_require__.e(/*! import() */ 13).then(__webpack_require__.t.bind(null, /*! react-phone-input-2 */ "./node_modules/react-phone-input-2/lib/lib.js", 7));
});
function PhoneInput(_ref) {
  var name = _ref.name,
    nativeInputProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["useTranslation"])(),
    i18n = _useTranslation.i18n;
  var locale = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])(false);
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    __webpack_require__("./node_modules/react-phone-input-2/lang lazy recursive ^\\.\\/.*\\.json$")("./".concat(i18n.language, ".json")).then(function (_ref2) {
      var l = _ref2["default"];
      locale.current = l;
    })["catch"](function () {});
  }, [i18n.language]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_3__["Field"], {
    name: name
  }, function (_ref3) {
    var field = _ref3.field,
      meta = _ref3.meta,
      form = _ref3.form;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_4__["InputBoilerplate"], {
      meta: meta,
      form: form
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2__["Suspense"], {
      fallback: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null)
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ReactPhoneInput, {
      country: _helpers_initialState__WEBPACK_IMPORTED_MODULE_5__["initialState"].suggested_country ? _helpers_initialState__WEBPACK_IMPORTED_MODULE_5__["initialState"].suggested_country.toLowerCase() : 'ru',
      preferredCountries: ['ru', 'ua', 'by', 'kz'],
      value: field.value,
      onChange: function onChange(phone) {
        return form.setFieldValue(name, phone);
      },
      inputProps: _objectSpread(_objectSpread({}, nativeInputProps), {}, {
        className: 'input'
      })
    })));
  });
}

/***/ }),

/***/ "./app/javascript/components/PhotoUpload.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/components/PhotoUpload.tsx ***!
  \***************************************************/
/*! exports provided: PhotoUpload */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PhotoUpload", function() { return PhotoUpload; });
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var _ProgressCircle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ProgressCircle */ "./app/javascript/components/ProgressCircle.tsx");
/* harmony import */ var _ActiveStorage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ActiveStorage */ "./app/javascript/components/ActiveStorage.tsx");



var _excluded = ["name", "preview", "onSelected", "onBeforeUpload", "onUploaded", "children"];





function PhotoUpload(_ref) {
  var name = _ref.name,
    inputPreview = _ref.preview,
    onSelected = _ref.onSelected,
    _onBeforeUpload = _ref.onBeforeUpload,
    _onUploaded = _ref.onUploaded,
    children = _ref.children,
    nativeInputProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__["Field"], {
    name: name
  }, function (_ref2) {
    var field = _ref2.field,
      form = _ref2.form,
      meta = _ref2.meta;
    var _ref3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])((_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(inputPreview) == 'object' && inputPreview ? inputPreview.url : inputPreview) || ''),
      _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref3, 2),
      preview = _ref4[0],
      setPreview = _ref4[1];
    var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
      activateProgress = _useState2[0],
      setActivateProgress = _useState2[1];
    Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
      if (inputPreview && inputPreview.signed_id) form.setFieldValue(field.name, inputPreview.signed_id);
    }, []);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "photo-upload"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_ActiveStorage__WEBPACK_IMPORTED_MODULE_7__["ActiveStorage"], {
      rootProps: {
        className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('photo-upload__handler', {
          'is-handled': !!preview
        })
      },
      inputProps: nativeInputProps,
      onPreview: function onPreview(fileName, fileBaseEncoded) {
        onSelected && onSelected(fileBaseEncoded);
        setPreview(fileBaseEncoded);
      },
      onBeforeUpload: function onBeforeUpload() {
        _onBeforeUpload && _onBeforeUpload();
        setActivateProgress(true);
      },
      onUploaded: function onUploaded(blob) {
        setActivateProgress(false);
        form.setFieldValue(field.name, blob.signed_id);
        _onUploaded && _onUploaded();
      },
      onError: function onError(reason) {
        return form.setFieldError(field.name, reason);
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_ProgressCircle__WEBPACK_IMPORTED_MODULE_6__["ProgressCircle"], {
      activate: activateProgress
    }), preview && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("figure", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("img", {
      alt: "Photo upload",
      src: preview
    })), meta.touched && meta.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "input-error"
    }, meta.error)), children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "photo-upload__info"
    }, children));
  });
}

/***/ }),

/***/ "./app/javascript/components/Placeholders.tsx":
/*!****************************************************!*\
  !*** ./app/javascript/components/Placeholders.tsx ***!
  \****************************************************/
/*! exports provided: PlaceholderText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaceholderText", function() { return PlaceholderText; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);


var _excluded = ["inner"];

function PlaceholderText(_ref) {
  var inner = _ref.inner,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    style: {
      display: 'inline-block',
      verticalAlign: 'top'
    },
    className: "ph-text"
  }, props), inner || '.....');
}

/***/ }),

/***/ "./app/javascript/components/Player.tsx":
/*!**********************************************!*\
  !*** ./app/javascript/components/Player.tsx ***!
  \**********************************************/
/*! exports provided: PlayerPlaceholder, SantaPlayer, Player */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlayerPlaceholder", function() { return PlayerPlaceholder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SantaPlayer", function() { return SantaPlayer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Player", function() { return Player; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _User__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./User */ "./app/javascript/components/User.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _PngIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _ConfirmAlert__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _PremiumFunctionality__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./PremiumFunctionality */ "./app/javascript/components/PremiumFunctionality.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _modals_BaseModal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../modals/BaseModal */ "./app/javascript/modals/BaseModal.tsx");



var _excluded = ["data", "sendTo"],
  _excluded2 = ["data"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
















function PlayerPlaceholder() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player__inn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player__user col-sm-4 col-6"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    style: {
      width: '100%'
    },
    className: "user"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "user__img ph-round-image"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    style: {
      flexGrow: 1
    },
    className: "ph-text"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-3 col-sm-4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    style: {
      maxWidth: '200px'
    },
    className: "ph-text"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-3 col-sm-4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    style: {
      maxWidth: '200px'
    },
    className: "ph-text"
  }))));
}
function SantaPlayer(_ref) {
  var playerData = _ref.data,
    sendToInit = _ref.sendTo,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_14__["useTranslation"])(),
    t = _useTranslation.t;
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(props.showSendTo),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    showSendTo = _useState2[0],
    setShowSendTo = _useState2[1];
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getGame"]);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    setShowSendTo(props.showSendTo);
  }, [props.showSendTo]);
  var sendTo = sendToInit || playerData;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player__inn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player__user col-xs-3 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_User__WEBPACK_IMPORTED_MODULE_4__["User"], {
    name: playerData.display_name.trim() || playerData.email,
    avatar: playerData.avatar,
    onClick: game.is_admin ? function () {
      return _modals_BaseModal__WEBPACK_IMPORTED_MODULE_18__["ModalContainer"].open(null, 'Player', playerData);
    } : null
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player__arrow col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_12__["SvgIcon"], {
    name: "long-arrow"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player__user col-xs-3 col-12"
  }, showSendTo ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_User__WEBPACK_IMPORTED_MODULE_4__["User"], {
    onClick: game.is_admin ? function () {
      return _modals_BaseModal__WEBPACK_IMPORTED_MODULE_18__["ModalContainer"].open(null, 'Player', sendTo);
    } : null,
    avatar: sendTo.avatar,
    name: sendTo.display_name.trim() || sendTo.email
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_PremiumFunctionality__WEBPACK_IMPORTED_MODULE_13__["PremiumFunctionality"], {
    tag: "button",
    onClick: function onClick() {
      return setShowSendTo(true);
    },
    className: "btn btn--sm"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, t('show')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "text-right col"
  }, sendTo.present_received ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-green"
  }, t('gift_received')) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-red"
  }, t('gift_not_received')))));
}
function Player(_ref2) {
  var playerData = _ref2.data,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref2, _excluded2);
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useDispatch"])();
  var _useTranslation2 = Object(react_i18next__WEBPACK_IMPORTED_MODULE_14__["useTranslation"])(),
    t = _useTranslation2.t;
  var isMobile = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useIsMobileSidebar"])();
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getGame"]);
  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(playerData.status),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    playerStatus = _useState4[0],
    setPlayerStatus = _useState4[1];
  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])({
      approve: false,
      reject: false,
      remove: false,
      cancel: false
    }),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    loadings = _useState6[0],
    setLoadings = _useState6[1];
  var _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_17__["Api"].usersInGame.approve),
    approveRequest = _useApi.request,
    _useApi2 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_17__["Api"].usersInGame.reject),
    rejectRequest = _useApi2.request;
  var requestAction = function requestAction(e, action) {
    e.preventDefault();
    if (loadings[action]) return;
    function process() {
      setLoadings(_objectSpread(_objectSpread({}, loadings), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, action, true)));
      var request = null;
      switch (action) {
        case "approve":
        case "cancel":
          request = approveRequest;
          break;
        case "reject":
        case "remove":
          request = rejectRequest;
      }
      request(playerData.user_in_game_id).then(function (response) {
        if (response.message) {
          _helpers_toastify__WEBPACK_IMPORTED_MODULE_16__["toastify"].error(response.message);
        } else {
          Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_10__["gtm"])("Gamer status - ".concat(action));
          setPlayerStatus(response.status);
          props.onStatusChange && props.onStatusChange(response.status);
          dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["updateGame"])());
        }
        setLoadings(_objectSpread(_objectSpread({}, loadings), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, action, false)));
      });
    }
    var confirmText = '';
    var confirmButtonText = '';
    if (action == 'cancel' && (confirmText = t('player_cancel_confirm', {
      user: playerData.display_name
    })) && (confirmButtonText = t('return')) || action == 'remove' && (confirmText = t('player_remove_confirm', {
      user: playerData.display_name
    })) && (confirmButtonText = t('remove')) || action == 'reject' && (confirmText = t('player_reject_confirm', {
      user: playerData.display_name
    })) && (confirmButtonText = t('reject'))) Object(_ConfirmAlert__WEBPACK_IMPORTED_MODULE_11__["confirmAlert"])(confirmText, {
      buttonText: confirmButtonText
    }).then(process);else process();
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player__inn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "player__user col-sm-4 col-6"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_User__WEBPACK_IMPORTED_MODULE_4__["User"], {
    onClick: game.is_admin ? function () {
      return _modals_BaseModal__WEBPACK_IMPORTED_MODULE_18__["ModalContainer"].open(null, 'Player', playerData);
    } : null,
    hideAvatar: isMobile,
    avatar: playerData.avatar,
    name: playerData.display_name.trim() || playerData.email
  })), (!game.isTossCompleted() || game.is_admin) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_9___default()('col-3', playerStatus == 'pending' ? 'col-xxs-auto' : 'col-sm-4')
  }, game.isTossCompleted() && playerStatus != 'rejected' ? playerData.present_sended ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-green"
  }, t('gift_sent')) : playerData.present_bought ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-orange"
  }, t('gift_bought')) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-red"
  }, t('gift_not_bought')) : playerStatus == 'approved' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-orange"
  }, t('wait_toss')) || playerStatus == 'pending' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-gray"
  }, t('moderate')) || playerStatus == 'rejected' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-red"
  }, t('rejected'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_9___default()('col-3', playerStatus == 'pending' ? 'col-sm' : 'col-sm-4')
  }, game.isTossCompleted() && playerStatus != 'rejected' && (playerData.present_received ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-green"
  }, t('gift_received')) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-red"
  }, t('gift_not_received'))), !game.isTossCompleted() && props.withControls && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "row row--xs justify-content-end"
  }, ['approved'].includes(playerStatus) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_8__["Button"], {
    isLoading: loadings.remove,
    onClick: function onClick(e) {
      return requestAction(e, 'remove');
    },
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_7__["PngIcon"], {
      name: "trash"
    }),
    mod: ['light', 'sm', 'gray']
  })), playerStatus == 'rejected' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_8__["Button"], {
    isLoading: loadings.cancel,
    onClick: function onClick(e) {
      return requestAction(e, 'cancel');
    },
    mod: ['light', 'sm', 'gray']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_7__["PngIcon"], {
    name: "refresh"
  }))), playerStatus == 'pending' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_8__["Button"], {
    isLoading: loadings.approve,
    onClick: function onClick(e) {
      return requestAction(e, 'approve');
    },
    mod: ['light', 'sm', 'green']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_7__["PngIcon"], {
    name: "check-small"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_8__["Button"], {
    isLoading: loadings.reject,
    onClick: function onClick(e) {
      return requestAction(e, 'reject');
    },
    mod: ['light', 'sm', 'red']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_7__["PngIcon"], {
    name: "cancel-small"
  }))))))));
}

/***/ }),

/***/ "./app/javascript/components/PngIcon.tsx":
/*!***********************************************!*\
  !*** ./app/javascript/components/PngIcon.tsx ***!
  \***********************************************/
/*! exports provided: PngIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PngIcon", function() { return PngIcon; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);


var _excluded = ["name", "className"];


function PngIcon(_ref) {
  var name = _ref.name,
    className = _ref.className,
    htmlProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, htmlProps, {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()("picon picon-".concat(name), className)
  }));
}

/***/ }),

/***/ "./app/javascript/components/PremiumFunctionality.tsx":
/*!************************************************************!*\
  !*** ./app/javascript/components/PremiumFunctionality.tsx ***!
  \************************************************************/
/*! exports provided: PremiumFunctionality */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PremiumFunctionality", function() { return PremiumFunctionality; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _ConfirmAlert__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");


var _excluded = ["tag", "children", "onClick"];






function PremiumFunctionality(_ref) {
  var tag = _ref.tag,
    children = _ref.children,
    onClick = _ref.onClick,
    nativeProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_7__["useTranslation"])(),
    t = _useTranslation.t;
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]);
  var navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useNavigate"])();
  var handleClick = function handleClick(e) {
    if (!game.isPro()) {
      e.preventDefault();
      e.stopPropagation();
      Object(_ConfirmAlert__WEBPACK_IMPORTED_MODULE_6__["confirmAlert"])(t('premium_confirm'), {
        buttonText: t('premium_yes'),
        title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__["Trans"], {
          i18nKey: "premium_title",
          components: {
            pro: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
              style: {
                marginTop: '0.35em'
              },
              className: "pro"
            })
          }
        })
      }).then(function () {
        navigate(game.getUrl('purchase'));
      });
    } else {
      onClick && onClick(e);
    }
  };
  var CustomTag = tag || 'div';
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(CustomTag, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    onClick: handleClick
  }, nativeProps), children);
}

/***/ }),

/***/ "./app/javascript/components/PresentForMeStatus.tsx":
/*!**********************************************************!*\
  !*** ./app/javascript/components/PresentForMeStatus.tsx ***!
  \**********************************************************/
/*! exports provided: PresentForMeStatusIcon, PresentForMeStatusLabel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PresentForMeStatusIcon", function() { return PresentForMeStatusIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PresentForMeStatusLabel", function() { return PresentForMeStatusLabel; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _TransProxy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _PngIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/slices/game */ "./app/javascript/redux/slices/game.ts");






function PresentForMeStatusIcon() {
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_3__["PngIcon"], {
    name: game.isPresentReceivedForMe() ? 'gift' : game.isPresentDeliveredToMe() ? 'box' : game.isPresentBoughtToMe() ? 'gift' : 'loupe'
  });
}
function PresentForMeStatusLabel(props) {
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_2__["TransProxy"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    i18nKey: game.isPresentReceivedForMe() ? 'player_tossed_status_received' : game.isPresentDeliveredToMe() ? 'player_tossed_status_delivered' : game.isPresentBoughtToMe() ? 'player_tossed_status_bought' : 'player_tossed_status_unknown'
  }, props));
}

/***/ }),

/***/ "./app/javascript/components/PresentsShop/Filters.tsx":
/*!************************************************************!*\
  !*** ./app/javascript/components/PresentsShop/Filters.tsx ***!
  \************************************************************/
/*! exports provided: Filters */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Filters", function() { return Filters; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");


var _excluded = ["values"];











function Filters(props) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    isSearchLoading = _useState2[0],
    setIsSearchLoading = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    selectedPriceFilter = _useState4[0],
    setSelectedPriceFilter = _useState4[1],
    _useSuggestedCurrency = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_8__["useSuggestedCurrency"])(),
    suggestedCurrency = _useSuggestedCurrency.currency,
    isCurrencyLoading = _useSuggestedCurrency.isCurrencyLoading,
    formattedCurrency = _useSuggestedCurrency.formattedCurrency,
    _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_7__["useTranslation"])(),
    t = _useTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_11__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_12__["getGame"]),
    priceGrid = _core_constants__WEBPACK_IMPORTED_MODULE_10__["WISHLIST_FILTER_PRICES_GRID"][suggestedCurrency],
    getOnlyNumber = function getOnlyNumber(n) {
      return parseInt(n.toString().replace(/\D+/, ''));
    },
    isOverPrice = function isOverPrice(n) {
      return n.toString().includes('>');
    };
  var formProps = {
    initialValues: {
      search_pattern: '',
      lower_limit: '',
      upper_limit: ''
    },
    onSubmit: function onSubmit(values) {
      if (isSearchLoading) return;
      var filteredValues = Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["removeEmpty"])(values);
      setIsSearchLoading(true);
      props.onSubmit(filteredValues)["finally"](function () {
        setIsSearchLoading(false);
      });
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_5__["Form"], formProps, function (_ref) {
    var values = _ref.values,
      formikProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, _excluded);
    var selectPrice = function selectPrice(priceIndex) {
      var price = priceGrid[priceIndex],
        priceNumber = getOnlyNumber(price);
      if (selectedPriceFilter === priceIndex) {
        formikProps.setFieldValue('lower_limit', '');
        formikProps.setFieldValue('upper_limit', '');
        return setSelectedPriceFilter(false);
      }

      // handle more than
      if (isOverPrice(price)) {
        formikProps.setFieldValue('lower_limit', priceNumber);
        formikProps.setFieldValue('upper_limit', '');
      } else {
        priceGrid[priceIndex - 1] && formikProps.setFieldValue('lower_limit', priceGrid[priceIndex - 1]);
        formikProps.setFieldValue('upper_limit', price);
      }
      setSelectedPriceFilter(priceIndex);
      formikProps.submitForm();
    };
    Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
      game.shop_default_price_filter && (priceGrid || []).map(function (price, priceIndex) {
        var priceNumber = getOnlyNumber(price);
        if (priceNumber == game.shop_default_price_filter) {
          priceGrid[priceIndex - 1] && formikProps.setFieldValue('lower_limit', priceGrid[priceIndex - 1]);
          formikProps.setFieldValue('upper_limit', price);
          setSelectedPriceFilter(priceIndex);
          formikProps.submitForm();
        }
      });
    }, [game.shop_default_price_filter, suggestedCurrency]);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "shop__search"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "shop__search-input"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "row"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-xs col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_3__["Input"], {
      name: "search_pattern",
      placeholder: t('enter_name')
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__["Button"], {
      isLoading: isSearchLoading,
      type: "submit",
      label: t('find')
    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "row row--xs shop__prices"
    }, (isCurrencyLoading ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["fillArray"])(priceGrid.length, 9999) : priceGrid || []).map(function (i, index) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
        key: index,
        className: "col-auto"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
        type: "button",
        style: {
          fontSize: '16px'
        },
        onClick: function onClick() {
          return selectPrice(index);
        },
        className: classnames__WEBPACK_IMPORTED_MODULE_9___default()('shop__prices-btn', {
          'is-active': selectedPriceFilter === index
        })
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
        className: classnames__WEBPACK_IMPORTED_MODULE_9___default()({
          'ph-text': isCurrencyLoading
        })
      }, "".concat(t(isOverPrice(i) ? 'from' : 'to'), " ").concat(getOnlyNumber(i), " ").concat(formattedCurrency))));
    })));
  });
}

/***/ }),

/***/ "./app/javascript/components/PresentsShop/Item.tsx":
/*!*********************************************************!*\
  !*** ./app/javascript/components/PresentsShop/Item.tsx ***!
  \*********************************************************/
/*! exports provided: Item */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Item", function() { return Item; });
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../helpers/ky */ "./app/javascript/helpers/ky.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var react_lines_ellipsis__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-lines-ellipsis */ "./node_modules/react-lines-ellipsis/lib/index.modern.mjs");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var images_empty_gift_png__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! images/empty-gift.png */ "./app/assets/images/empty-gift.png");
/* harmony import */ var images_empty_gift_png__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(images_empty_gift_png__WEBPACK_IMPORTED_MODULE_16__);



var _excluded = ["mod"];














function Item(_ref) {
  var mod = _ref.mod,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var HIDE_DURATION = 500,
    LIKE_DURATION = 500,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_13__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_14__["getGame"]),
    _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_8__["useTranslation"])(),
    t = _useTranslation.t,
    gtmData = {
      id: props.id,
      name: props.name
    },
    _useSuggestedCurrency = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useSuggestedCurrency"])(),
    suggestedCurrency = _useSuggestedCurrency.currency,
    formattedSuggestedCurrency = _useSuggestedCurrency.formattedCurrency,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(props.like ? props.like.id : ''),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    likeId = _useState2[0],
    setLikeId = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    isClicked = _useState4[0],
    setIsClicked = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(!!props.like),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    isFavourite = _useState6[0],
    setIsFavourite = _useState6[1];
  var image = props.images && props.images[0] ? props.images[0] : props.external_image_url ? {
    url: props.external_image_url
  } : null;
  var onClick = function onClick(e) {
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_5__["gtm"])('Present - Click', gtmData);
  };
  var like = function like(e) {
    e.preventDefault();
    setIsClicked(true);

    // Is liked
    if (isFavourite)
      // Then unlike
      _helpers_ky__WEBPACK_IMPORTED_MODULE_6__["default"]["delete"]("likes/".concat(likeId)).json().then( /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                setIsFavourite(false);
                _context.t0 = props.onUnlike;
                if (!_context.t0) {
                  _context.next = 5;
                  break;
                }
                _context.next = 5;
                return props.onUnlike(props.index);
              case 5:
                setTimeout(function () {
                  return props === null || props === void 0 ? void 0 : props.onHidden(props.index);
                }, HIDE_DURATION + LIKE_DURATION + 1);
                Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_5__["gtm"])('Present - Unlike', gtmData);
              case 7:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      })));else {
      // Like
      _helpers_ky__WEBPACK_IMPORTED_MODULE_6__["default"].post('likes', {
        json: {
          game_id: game.id,
          present_id: props.id
        }
      }).json().then( /*#__PURE__*/function () {
        var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(response) {
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  if (response.id) {
                    _context2.next = 2;
                    break;
                  }
                  return _context2.abrupt("return", _helpers_toastify__WEBPACK_IMPORTED_MODULE_9__["toastify"].error(t('error_try_again')));
                case 2:
                  _context2.t0 = props.onLike;
                  if (!_context2.t0) {
                    _context2.next = 6;
                    break;
                  }
                  _context2.next = 6;
                  return props.onLike(props.index, response.id);
                case 6:
                  setTimeout(function () {
                    return props === null || props === void 0 ? void 0 : props.onHidden(props.index, response.id);
                  }, HIDE_DURATION + LIKE_DURATION + 1);
                  setIsFavourite(true);
                  Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_5__["gtm"])('Present - Like', gtmData);
                  setLikeId(response.id);
                case 10:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2);
        }));
        return function (_x) {
          return _ref3.apply(this, arguments);
        };
      }());
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    style: {
      animationDuration: "".concat(HIDE_DURATION, "ms"),
      animationDelay: "".concat(LIKE_DURATION, "ms")
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_7___default()('present', {
      'is-animation': props.hideAnimation,
      'is-disabled': props.available === false,
      'is-clicked': isClicked,
      'is-added': isFavourite
    }, mod && mod.map(function (i) {
      return 'present--' + i;
    }))
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "present__inn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
    target: "_blank",
    onClick: onClick,
    href: props.url,
    className: "present__img"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("img", {
    className: classnames__WEBPACK_IMPORTED_MODULE_7___default()({
      'is-empty': !image
    }),
    alt: props.name,
    onError: function onError() {
      this.src = images_empty_gift_png__WEBPACK_IMPORTED_MODULE_16___default.a;
      this.className = 'is-empty';
    },
    src: image ? image.url : images_empty_gift_png__WEBPACK_IMPORTED_MODULE_16___default.a
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "present__info"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
    onClick: onClick,
    target: "_blank",
    href: props.url,
    className: "present__name"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_lines_ellipsis__WEBPACK_IMPORTED_MODULE_10__["default"], {
    text: props.name,
    maxLine: "2",
    ellipsis: "...",
    trimRight: true,
    basedOn: "letters"
  })), !props.withoutBottom && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "present__bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "present__bottom-left"
  }, props.old_price && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
    className: "present__price--old"
  }, props.old_price, " ", Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["formatCurrency"])(props.currency) || formattedSuggestedCurrency), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
    className: "present__price"
  }, props.price, " ", Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["formatCurrency"])(props.currency) || formattedSuggestedCurrency)), props.withLike && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "present__action"
  }, !isFavourite ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
    style: {
      transitionDuration: "".concat(LIKE_DURATION - 200, "ms")
    },
    onClick: like,
    href: "#",
    className: "present__button present__button--add"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_12__["SvgIcon"], {
    name: "doc-plus"
  }), " ", t('shop_add_gift')) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
    style: {
      transitionDuration: "".concat(LIKE_DURATION - 200, "ms")
    },
    onClick: like,
    href: "#",
    className: "present__button present__button--remove"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_12__["SvgIcon"], {
    name: "trash"
  }), " ", t('shop_remove_gift')))))));
}

/***/ }),

/***/ "./app/javascript/components/PresentsShop/ItemPlaceholder.tsx":
/*!********************************************************************!*\
  !*** ./app/javascript/components/PresentsShop/ItemPlaceholder.tsx ***!
  \********************************************************************/
/*! exports provided: ItemPlaceholder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItemPlaceholder", function() { return ItemPlaceholder; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);


var _excluded = ["withoutBottom", "noAnimation", "withLike", "className"];


function ItemPlaceholder(_ref) {
  var withoutBottom = _ref.withoutBottom,
    noAnimation = _ref.noAnimation,
    withLike = _ref.withLike,
    className = _ref.className,
    divProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, divProps, {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('present', className, {
      'ph-no-animation': noAnimation
    })
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "present__inn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "present__img"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    style: {
      width: '150px',
      borderRadius: '10px'
    },
    className: "ph-round-image"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "present__info"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    style: {
      maxWidth: '200px',
      marginBottom: '5px'
    },
    className: "present__name ph-text"
  }), !withoutBottom && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "present__bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    style: {
      maxWidth: '100px',
      width: '100%'
    },
    className: "present__price ph-text"
  }), withLike && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "present__action"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
    href: "#",
    className: "present__button ph-button"
  }), " :")))));
}

/***/ }),

/***/ "./app/javascript/components/PresentsShop/ItemsGrid.tsx":
/*!**************************************************************!*\
  !*** ./app/javascript/components/PresentsShop/ItemsGrid.tsx ***!
  \**************************************************************/
/*! exports provided: ItemsGrid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItemsGrid", function() { return ItemsGrid; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Item */ "./app/javascript/components/PresentsShop/Item.tsx");
/* harmony import */ var _ItemPlaceholder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ItemPlaceholder */ "./app/javascript/components/PresentsShop/ItemPlaceholder.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);





function ItemsGrid(_ref) {
  var list = _ref.list,
    isListLoading = _ref.isListLoading,
    mode = _ref.mode,
    prepend = _ref.prepend,
    append = _ref.append,
    columnGrid = _ref.columnGrid,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('row', className)
  }, prepend, list.map(function (item, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      key: item.id ? 'present_' + item.id : index,
      className: columnGrid ? columnGrid : 'col-lg-4 col-6'
    }, item.placeholder || item.placeholder_no_animation ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ItemPlaceholder__WEBPACK_IMPORTED_MODULE_3__["ItemPlaceholder"], {
      noAnimation: item.placeholder_no_animation,
      withoutBottom: item.withoutBottom
    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Item__WEBPACK_IMPORTED_MODULE_2__["Item"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      index: index,
      hideAnimation: ['like', 'liked'].includes(mode),
      withLike: ['like', 'liked'].includes(mode)
    }, item)));
  }), append, isListLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-12 text-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "loader"
  })));
}

/***/ }),

/***/ "./app/javascript/components/PresentsShop/Shop.tsx":
/*!*********************************************************!*\
  !*** ./app/javascript/components/PresentsShop/Shop.tsx ***!
  \*********************************************************/
/*! exports provided: getRequest, Shop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRequest", function() { return getRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Shop", function() { return Shop; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../helpers/ky */ "./app/javascript/helpers/ky.ts");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _User__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../User */ "./app/javascript/components/User.tsx");
/* harmony import */ var _Filters__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Filters */ "./app/javascript/components/PresentsShop/Filters.tsx");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _TransProxy__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _modals_BaseModal__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../modals/BaseModal */ "./app/javascript/modals/BaseModal.tsx");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _ItemsGrid__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./ItemsGrid */ "./app/javascript/components/PresentsShop/ItemsGrid.tsx");
/* harmony import */ var _modals_NewWishlistGift__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../modals/NewWishlistGift */ "./app/javascript/modals/NewWishlistGift.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _ItemPlaceholder__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./ItemPlaceholder */ "./app/javascript/components/PresentsShop/ItemPlaceholder.tsx");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var _GridAction__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../GridAction */ "./app/javascript/components/GridAction.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");






var _excluded = ["useFor", "userId", "YaMarket", "infiniteScroll", "count", "limit"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
























var apiEndpoints = {
  'liked': 'to_like',
  'like': 'to_like',
  'shop': 'to_like',
  'shop_frame': 'public',
  'give': 'to_give',
  'share': 'wishlist',
  'user_wishlist': 'wishlist',
  'user_wishlist_mini': 'wishlist'
};
var listModeInitialState = function listModeInitialState() {
  var a = {};
  Object.keys(apiEndpoints).map(function (i) {
    a[i] = {
      offset: 0,
      isEnd: false
    };
  });
  return a;
};
function getRequest(mode) {
  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return _helpers_ky__WEBPACK_IMPORTED_MODULE_11__["default"].get("presents/".concat(apiEndpoints[mode]), {
    searchParams: params
  }).json();
}
function Shop(_ref) {
  var useFor = _ref.useFor,
    userId = _ref.userId,
    YaMarket = _ref.YaMarket,
    infiniteScroll = _ref.infiniteScroll,
    customCount = _ref.count,
    inputLimit = _ref.limit,
    divAttributes = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_5___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_18__["useTranslation"])(),
    t = _useTranslation.t,
    _useSuggestedCurrency = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_22__["useSuggestedCurrency"])(),
    suggestedCurrency = _useSuggestedCurrency.currency;
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_10__["getGame"]),
    user = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_17__["getAuthUser"]);
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])([]),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState, 2),
    presents = _useState2[0],
    setPresents = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])([]),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState3, 2),
    likedPresents = _useState4[0],
    setLikedPresents = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(false),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState5, 2),
    isPresentsLoading = _useState6[0],
    setIsPresentsLoading = _useState6[1],
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(false),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState7, 2),
    isListLoading = _useState8[0],
    setIsListLoading = _useState8[1],
    _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(null),
    _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState9, 2),
    likedCounter = _useState10[0],
    setLikedCounter = _useState10[1],
    _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(useFor),
    _useState12 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState11, 2),
    mode = _useState12[0],
    setMode = _useState12[1];
  var listModeValues = Object(react__WEBPACK_IMPORTED_MODULE_7__["useRef"])(listModeInitialState()),
    listEl = Object(react__WEBPACK_IMPORTED_MODULE_7__["useRef"])(0),
    searchFilters = Object(react__WEBPACK_IMPORTED_MODULE_7__["useRef"])({}),
    presentReplacement = Object(react__WEBPACK_IMPORTED_MODULE_7__["useRef"])(0),
    likedPresentReplacement = Object(react__WEBPACK_IMPORTED_MODULE_7__["useRef"])(0);
  var isHideRecommendations = Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_30__["isForeignEnv"])() && mode == 'like' || game.wishlist_available === false || user.wishlist_available === false;
  var generateRequest = function generateRequest(mode) {
    var additionalParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var queryParams = {};

    // Fill specific parameters for current mode
    switch (mode) {
      case 'give':
        queryParams.user_in_game_id = game.participating.id;
        break;
      case 'like':
        queryParams.do_not_show_liked = 1;
        queryParams.currency = suggestedCurrency;
        break;
      case 'liked':
        queryParams.only_liked = 1;
        break;
    }
    if (userId) queryParams.user_id = userId;
    return getRequest(mode, _objectSpread(_objectSpread(_objectSpread({}, queryParams), additionalParams), {}, {
      offset: Math.max(0, additionalParams.offset || 0)
    }));
  };
  var giftReplacer = function giftReplacer(replacedListIndex, listSetter, replacementRef) {
    return new Promise(function (resolve) {
      listSetter(function (list) {
        var tempPresents = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(list);
        if (replacementRef.current && !list.filter(function (v) {
          return v.id == replacementRef.current.id;
        }).length) tempPresents[replacedListIndex] = replacementRef.current;else tempPresents.splice(replacedListIndex, 1);
        replacementRef.current = null;
        resolve();
        return tempPresents;
      });
    });
  };
  var loadPresents = /*#__PURE__*/function () {
    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function _callee() {
      var options,
        count,
        fakeCount,
        currentMode,
        queryParams,
        placeholderItems,
        presentsSetter,
        _args = arguments;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};
              count = options.count || customCount || _core_constants__WEBPACK_IMPORTED_MODULE_27__["WISHLIST_LOAD_GIFTS"], fakeCount = options.fakeCount || count, currentMode = options.mode || mode, queryParams = _objectSpread(_objectSpread({}, options.data || searchFilters.current), {}, {
                count: count,
                offset: options.listMode ? listModeValues.current[currentMode].offset : 0
              }), placeholderItems = Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_14__["fillArray"])(fakeCount, {
                placeholder: true
              }), presentsSetter = options.setter || setPresents; // If list reached the end
              if (!listModeValues.current[currentMode].isEnd) {
                _context.next = 4;
                break;
              }
              return _context.abrupt("return", new Promise(function (r) {
                return r();
              }));
            case 4:
              // Set placeholders to the state
              if (options.withFakeItems) presentsSetter(function (p) {
                return options.listMode ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(p), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(placeholderItems)) : placeholderItems;
              });
              setIsPresentsLoading(true);
              return _context.abrupt("return", generateRequest(currentMode, queryParams).then(function (response) {
                if (!response.presents) return _helpers_toastify__WEBPACK_IMPORTED_MODULE_21__["toastify"].error(t('shop_load_error'));

                // Set counter
                setLikedCounter(response.liked_count);

                // If we are in list mode and response is empty then set flag that list is reached end
                if (!response.presents.length || response.presents.length > 0 && response.presents.length < count) listModeValues.current[currentMode].isEnd = true;

                // Set presents with slice fake items
                presentsSetter(function (p) {
                  var tempPresents = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(p);
                  if (options.withFakeItems) tempPresents.splice(p.length - fakeCount, fakeCount);
                  return options.listMode ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(tempPresents), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(response.presents)) : response.presents;
                });
                listModeValues.current[currentMode].offset += response.presents.length;
                return response;
              })["finally"](function () {
                setIsPresentsLoading(false);
              }));
            case 7:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return function loadPresents() {
      return _ref2.apply(this, arguments);
    };
  }();
  var handleSearchSubmit = function handleSearchSubmit(values) {
    // Reset list mode entities
    listModeValues.current[mode] = listModeInitialState()[mode];
    searchFilters.current = values;
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_12__["gtm"])('Present - search', values);
    return loadPresents({
      data: values
    });
  };
  var loadPresentsAtEndOfList = function loadPresentsAtEndOfList(m) {
    if (infiniteScroll === false) return;
    Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_14__["callFunctionAtEndOfEl"])(listEl.current, function () {
      setIsListLoading(true);
      loadPresents({
        withFakeItems: true,
        listMode: true,
        mode: m || mode
      })["finally"](function () {
        return setIsListLoading(false);
      });
    });
  };
  var onLike = function onLike(listIndex) {
    setLikedCounter(function (v) {
      return v + 1;
    });
    return generateRequest('like', _objectSpread(_objectSpread({}, searchFilters), {}, {
      count: 1,
      offset: listModeValues.current.like.offset - 1
    })).then(function (response) {
      presentReplacement.current = response.presents[0] ? response.presents[0] : null;
    });
  };
  var onUnlike = function onUnlike(listIndex) {
    setLikedCounter(function (v) {
      return v - 1;
    });
    return generateRequest('liked', {
      count: 1,
      offset: listModeValues.current.liked.offset - 1
    }).then(function (response) {
      likedPresentReplacement.current = response.presents[0] ? response.presents[0] : null;
    });
  };
  var onHidden = function onHidden(listIndex, likeId) {
    giftReplacer(listIndex, setPresents, presentReplacement).then(function () {
      setLikedPresents(function (l) {
        return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(l), [_objectSpread(_objectSpread({}, presents[listIndex]), {}, {
          like: {
            id: likeId
          }
        })]);
      });
    });
  };
  var onLikedHidden = function onLikedHidden(listIndex) {
    giftReplacer(listIndex, setLikedPresents, likedPresentReplacement);
  };
  var onCustomAddGift = function onCustomAddGift(newGift) {
    setLikedCounter(function (v) {
      return v + 1;
    });
    setLikedPresents(function (l) {
      return [newGift].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(l));
    });
  };
  var shareWishlistLink = function shareWishlistLink() {
    var link = window.location.origin + '/wishlist/' + user.id;
    Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_14__["isSupportNativeShare"])() ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_14__["nativeShare"])(link, t('shop_share_title'), t('shop_share_text')) : Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_14__["copyToClipboard"])(link).then(function () {
      return _helpers_toastify__WEBPACK_IMPORTED_MODULE_21__["toastify"].success(t('copied'));
    })["catch"](function () {
      return _helpers_toastify__WEBPACK_IMPORTED_MODULE_21__["toastify"].success(t('copied_error'));
    });
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_12__["gtm"])('Wishlist - copy link');
  };

  // On mode change
  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    // Open modal if we visit page first time
    listModeValues.current = listModeInitialState();
    mode == 'like' && loadPresents({
      withFakeItems: true,
      mode: 'liked',
      count: _core_constants__WEBPACK_IMPORTED_MODULE_27__["WISHLIST_PREVIEW_LIKED_GIFTS"],
      fakeCount: _core_constants__WEBPACK_IMPORTED_MODULE_27__["WISHLIST_PREVIEW_PLACEHOLDER_LIKED_GIFTS"],
      setter: setLikedPresents
    });
    loadPresents({
      withFakeItems: true
    }).then(function (response) {
      if (apiEndpoints[mode] == 'to_like') Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_12__["gtm"])('Wishlist - ' + mode + ' - Loaded', {
        source: response.data_source
      });
      loadPresentsAtEndOfList();
    });
  }, [mode]);
  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    return setMode(useFor);
  }, [useFor]);

  // Make infinite scroll
  Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function () {
    var frameReqId = null;
    var handleScroll = function handleScroll() {
      // Debounce it
      frameReqId = requestAnimationFrame(function () {
        if (isListLoading || isPresentsLoading) return;
        if (!listModeValues.current[mode].isEnd) loadPresentsAtEndOfList();
      });
    };
    infiniteScroll !== false && window.addEventListener('scroll', handleScroll);
    return function () {
      cancelAnimationFrame(frameReqId);
      window.removeEventListener('scroll', handleScroll);
    };
  }, [isListLoading, isPresentsLoading, listModeValues, mode]);

  // Hide for ozon
  if (game.hide_wishlist_give_recommendations_if_empty && mode == 'give' && !Object.keys(searchFilters.current).length && !!presents.length) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, divAttributes, {
    className: classnames__WEBPACK_IMPORTED_MODULE_28___default()('shop', divAttributes.className)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "shop__head"
  }, mode == 'shop' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, t('shop_title')), mode == 'user_wishlist' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h4", {
    className: "h4"
  }, t('shop_user_wishlist_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "shop__desc text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_19__["TransProxy"], {
    i18nKey: "shop_user_wishlist_text"
  }))), ['like', 'liked'].includes(mode) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_19__["TransProxy"], {
    i18nKey: "shop_your_wishlist"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button", {
    onClick: shareWishlistLink,
    className: "info-tooltip"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_13__["SvgIcon"], {
    name: "share"
  })))), mode == 'liked' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "row align-items-center justify-content-between"
  }, likedCounter > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "shop__left"
  }, t('shop_i_like', {
    count: likedCounter
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__["Link"], {
    to: _routes__WEBPACK_IMPORTED_MODULE_25__["URLS"].Wishlist,
    className: "link"
  }, t('shop_continue_like')))), mode == 'give' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h4", {
    className: "h4"
  }, t('shop_recommend_to_give')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "shop__desc text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_19__["TransProxy"], {
    i18nKey: "shop_give_description",
    components: {
      user: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_User__WEBPACK_IMPORTED_MODULE_15__["User"], {
        avatar: game.getSendPresentTo().avatar,
        name: (game.getSendPresentTo().name || '').trim() || game.getSendPresentTo().email,
        mod: ['sm']
      })
    }
  })))), mode == 'like' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_modals_NewWishlistGift__WEBPACK_IMPORTED_MODULE_24__["NewWishlistGift"], {
    onSubmit: onCustomAddGift
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "m-b-40"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ItemsGrid__WEBPACK_IMPORTED_MODULE_23__["ItemsGrid"], {
    mode: "liked",
    list: likedPresents.slice(0, _core_constants__WEBPACK_IMPORTED_MODULE_27__["WISHLIST_PREVIEW_LIKED_GIFTS"]).map(function (item) {
      return _objectSpread(_objectSpread({}, item), {}, {
        onUnlike: onUnlike,
        withLike: true,
        onHidden: onLikedHidden
      });
    }),
    prepend: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_GridAction__WEBPACK_IMPORTED_MODULE_29__["GridAction"], {
      wrapperClassName: "col-lg-4 col-xs-6",
      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_13__["SvgIcon"], {
        name: "cloud-upload"
      }),
      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_19__["TransProxy"], {
        i18nKey: "shop_add_your_gift"
      }),
      onClick: function onClick() {
        return _modals_BaseModal__WEBPACK_IMPORTED_MODULE_20__["ModalContainer"].open(null, 'NewWishlistGift');
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ItemPlaceholder__WEBPACK_IMPORTED_MODULE_26__["ItemPlaceholder"], {
      style: {
        opacity: 0,
        pointerEvents: 'none',
        zIndex: -1
      }
    }))
  }), likedCounter > _core_constants__WEBPACK_IMPORTED_MODULE_27__["WISHLIST_PREVIEW_LIKED_GIFTS"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "m-t-20 text-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__["Link"], {
    to: _routes__WEBPACK_IMPORTED_MODULE_25__["URLS"].UserWishlist(user.id),
    style: {
      position: 'relative'
    },
    className: "link"
  }, t('shop_show_full_your_gifts')))), !isHideRecommendations && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h4", {
    className: "h4 m-b-0"
  }, t('shop_recommend_to_give')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "shop__desc text m-b-15"
  }, t('shop_recommend_text')))), !isHideRecommendations && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, ['like', 'give', 'shop', 'shop_frame'].includes(mode) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Filters__WEBPACK_IMPORTED_MODULE_16__["Filters"], {
    onSubmit: handleSearchSubmit
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "shop__list",
    ref: listEl
  }, presents && presents.length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ItemsGrid__WEBPACK_IMPORTED_MODULE_23__["ItemsGrid"], {
    mode: mode,
    list: presents.slice(0, inputLimit || presents.length).map(function (item) {
      return _objectSpread(_objectSpread({}, item), {}, {
        onUnlike: onUnlike,
        onLike: onLike,
        onHidden: onHidden
      });
    }),
    isListLoading: isListLoading
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
    className: "placeholder-block"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", null, t('not_found')))), mode == 'user_wishlist' && userId && inputLimit && !isPresentsLoading && presents.length > inputLimit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__["Link"], {
    to: "".concat(_routes__WEBPACK_IMPORTED_MODULE_25__["URLS"].Wishlist, "/").concat(userId),
    className: "btn btn--block btn--outline m-t-20"
  }, t('shop_show_user_wishlist'))));
}

/***/ }),

/***/ "./app/javascript/components/PresentsShop/index.ts":
/*!*********************************************************!*\
  !*** ./app/javascript/components/PresentsShop/index.ts ***!
  \*********************************************************/
/*! exports provided: PresentsShop, PresentsItem, PresentItemPlaceholder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Item__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Item */ "./app/javascript/components/PresentsShop/Item.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PresentsItem", function() { return _Item__WEBPACK_IMPORTED_MODULE_0__["Item"]; });

/* harmony import */ var _ItemPlaceholder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ItemPlaceholder */ "./app/javascript/components/PresentsShop/ItemPlaceholder.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PresentItemPlaceholder", function() { return _ItemPlaceholder__WEBPACK_IMPORTED_MODULE_1__["ItemPlaceholder"]; });

/* harmony import */ var _Shop__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Shop */ "./app/javascript/components/PresentsShop/Shop.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PresentsShop", function() { return _Shop__WEBPACK_IMPORTED_MODULE_2__["Shop"]; });






/***/ }),

/***/ "./app/javascript/components/Price.tsx":
/*!*********************************************!*\
  !*** ./app/javascript/components/Price.tsx ***!
  \*********************************************/
/*! exports provided: Price */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Price", function() { return Price; });
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function Price(_ref) {
  var amount = _ref.amount,
    currency = _ref.currency;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, currency == 'usd' && Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_0__["formatCurrency"])(currency), Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_0__["formatMoney"])(amount), "\xA0", currency && currency != 'usd' && Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_0__["formatCurrency"])(currency));
}

/***/ }),

/***/ "./app/javascript/components/ProgressCircle.tsx":
/*!******************************************************!*\
  !*** ./app/javascript/components/ProgressCircle.tsx ***!
  \******************************************************/
/*! exports provided: ProgressCircle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProgressCircle", function() { return ProgressCircle; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }


function ProgressCircle(_ref) {
  var activate = _ref.activate,
    color = _ref.color,
    inputSize = _ref.size,
    inputBorderWidth = _ref.borderWidth,
    backgroundColor = _ref.backgroundColor;
  var borderWidth = inputBorderWidth || 5,
    size = inputSize || 66,
    fullSize = size + borderWidth * 2,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(0),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    progress = _useState2[0],
    setProgress = _useState2[1],
    progressIntervalRef = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])(0);
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    var currentProgress = 0;
    var makeProgress = function makeProgress() {
      setProgress(function (i) {
        var step = i >= 70 ? 0.1 : 0.3;
        currentProgress += step;
        var newProgress = Math.floor(Math.round(Math.atan(currentProgress) / (Math.PI / 2) * 100 * 1000) / 1000);
        newProgress >= 100 && clearInterval(progressIntervalRef.current);
        return newProgress;
      });
    };
    if (activate) {
      progressIntervalRef.current = setInterval(makeProgress, 100);
      makeProgress();
    } else if (progressIntervalRef.current) {
      clearInterval(progressIntervalRef.current);
      setProgress(100);
      setTimeout(function () {
        setProgress(100.1);
        setTimeout(function () {
          return setProgress(0);
        }, 400);
      }, 1000);
    }
  }, [activate]);
  var generateRotate = function generateRotate() {
      var ratio = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      return "".concat(1.8 * ratio * progress, "deg");
    },
    commonVariables = {
      display: 'block',
      '--color': color || '#27AE60',
      '--size': "".concat(size, "px"),
      '--border-width': "".concat(borderWidth, "px"),
      '--rotate': generateRotate(),
      '--rotate-bar': generateRotate(2),
      '--clip-slice': "rect(0px, ".concat(fullSize, "px, ").concat(fullSize, "px, ").concat(fullSize / 2, "px)"),
      '--clip-fill': "rect(0px, ".concat(fullSize / 2, "px, ").concat(fullSize, "px, 0px)")
    };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('progress-circle', {
      'active': progress > 0 && progress <= 100
    }),
    style: commonVariables
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "full progress-circle__slice"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "progress-circle__fill"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "progress-circle__slice"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "progress-circle__fill"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "progress-circle__fill progress-circle__bar"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "progress-circle__overlay",
    style: _objectSpread({}, backgroundColor ? {
      backgroundColor: backgroundColor
    } : {})
  }));
}

/***/ }),

/***/ "./app/javascript/components/RegisterForm.tsx":
/*!****************************************************!*\
  !*** ./app/javascript/components/RegisterForm.tsx ***!
  \****************************************************/
/*! exports provided: RegisterForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RegisterForm", function() { return RegisterForm; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_MakeLogin__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../components/MakeLogin */ "./app/javascript/components/MakeLogin.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../helpers/gtm */ "./app/javascript/helpers/gtm.ts");




var _excluded = ["values"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }














function RegisterForm(_ref) {
  var onLogin = _ref.onLogin,
    onRegister = _ref.onRegister,
    onBeforeRequest = _ref.onBeforeRequest,
    ButtonsRow = _ref.ButtonsRow,
    additionalData = _ref.additionalData;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_14__["useTranslation"])(),
    t = _useTranslation.t,
    i18n = _useTranslation.i18n,
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useDispatch"])(),
    tempEmail = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__["getTempEmail"]);
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState, 2),
    error = _useState2[0],
    setError = _useState2[1],
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_16__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_17__["Api"].users.register, {
      infiniteLoading: true
    }),
    request = _useApi.request,
    isLoading = _useApi.isLoading,
    setIsLoading = _useApi.setIsLoading,
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState3, 2),
    activateLogin = _useState4[0],
    setActivateLogin = _useState4[1];
  Object(react__WEBPACK_IMPORTED_MODULE_5__["useEffect"])(function () {
    // send gtm event if email passed
    tempEmail && Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_18__["gtm"])('start_signup', tempEmail);
  }, []);
  var formProps = {
    initialValues: {
      email: tempEmail,
      password: ''
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_12__["object"]().shape({
      email: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["emailValidation"],
      password: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["passwordValidation"]
    }),
    onSubmit: function onSubmit(values, actions) {
      onBeforeRequest && onBeforeRequest();
      request(_objectSpread(_objectSpread(_objectSpread({}, values), additionalData), {}, {
        locale: i18n.language,
        ref: new URLSearchParams().get('ref')
      })).then( /*#__PURE__*/function () {
        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee(response) {
          var errorDictionary, errorMessage;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  if (response.errors && response.errors.email == 'has already been taken') {
                    dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__["setTempPassword"])(values.password));
                    actions.setFieldError('email', t('reg_registered_email'));
                    setIsLoading(false);
                  } else if (response.error || response.code == 'forbidden') {
                    errorDictionary = {
                      'Domain isnt valid': 'invalid_email_domain'
                    };
                    errorMessage = response.error || t(errorDictionary[response.message]) || response.message;
                    setIsLoading(false);
                    setError(errorMessage);
                  } else {
                    onRegister && onRegister();
                    setActivateLogin(true);
                  }
                case 1:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }));
        return function (_x) {
          return _ref2.apply(this, arguments);
        };
      }());
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_11__["Form"], formProps, function (_ref3) {
    var values = _ref3.values,
      formikBag = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref3, _excluded);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_MakeLogin__WEBPACK_IMPORTED_MODULE_15__["MakeLogin"], {
      activateLogin: activateLogin,
      values: values,
      formikBag: formikBag,
      onLogin: onLogin
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_11__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "signup_email",
      autoFocus: !tempEmail,
      placeholder: t('reg_email'),
      name: "email"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_11__["FormRow"], {
      mod: error ? ['sm'] : []
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "signup_password",
      autoFocus: !!tempEmail,
      type: "password",
      placeholder: t('reg_password'),
      name: "password",
      autoComplete: "new-password"
    })), error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_11__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "alert alert--danger"
    }, error)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_11__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "row row--sm align-items-center"
    }, ButtonsRow ? ButtonsRow : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_11__["FormSubmit"], {
      id: "signup_submit",
      isLoading: isLoading,
      label: t('reg_register_now')
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Link"], {
      to: _routes__WEBPACK_IMPORTED_MODULE_8__["URLS"].AuthLoginPassword,
      className: "link"
    }, t('reg_login')))))));
  });
}

/***/ }),

/***/ "./app/javascript/components/RequestEmailConfirm.tsx":
/*!***********************************************************!*\
  !*** ./app/javascript/components/RequestEmailConfirm.tsx ***!
  \***********************************************************/
/*! exports provided: useRequestEmailConfirm, RequestEmailConfirm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useRequestEmailConfirm", function() { return useRequestEmailConfirm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RequestEmailConfirm", function() { return RequestEmailConfirm; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ConfirmAlert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _TransProxy__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _helpers_EventsManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../helpers/EventsManager */ "./app/javascript/helpers/EventsManager.ts");















var eventManager = new _helpers_EventsManager__WEBPACK_IMPORTED_MODULE_14__["EventsManager"]();
function useRequestEmailConfirm() {
  var _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_8__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_9__["Api"].users.sendEmailConfirmation),
    confirmationRequest = _useApi.request,
    delayInterval = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])(0),
    formatSeconds = function formatSeconds(d) {
      return (d - (d %= 60)) / 60 + (9 < d ? ':' : ':0') + d;
    },
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    delay = _useState2[0],
    setDelay = _useState2[1];
  var startTimer = function startTimer(d) {
    setDelay(d);
    delayInterval.current = setInterval(function () {
      setDelay(function (i) {
        var newDelay = i - 1;
        if (newDelay <= 0) {
          clearInterval(delayInterval.current);
          newDelay = false;
        }
        return newDelay;
      });
    }, 1000);
  };
  var require = function require(email) {
    if (delay > 0) return;
    return confirmationRequest(email).then(function () {
      if (delay > 0) return;
      localStorage.setItem('require_email_confirm', Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_10__["getTimestamp"])().toString());
      eventManager.fire('require');
    });
  };
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    var start = function start() {
      var storageValue = localStorage.getItem('require_email_confirm');
      if (storageValue) {
        var initialDelay = _core_constants__WEBPACK_IMPORTED_MODULE_5__["EMAIL_REQUIRE_CONFIRM_DELAY"] - (Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_10__["getTimestamp"])() - parseInt(localStorage.getItem('require_email_confirm')));
        initialDelay > 0 && startTimer(initialDelay);
      }
    };
    start();
    eventManager.on('require', function () {
      start();
    });
    return function () {
      return clearInterval(delayInterval.current);
    };
  }, []);
  return {
    require: require,
    isEnable: !delay,
    remain: formatSeconds(delay)
  };
}
function RequestEmailConfirm(_ref) {
  var email = _ref.email;
  var authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_4__["getAuthUser"]),
    _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_7__["useTranslation"])(),
    t = _useTranslation.t,
    _useRequestEmailConfi = useRequestEmailConfirm(),
    require = _useRequestEmailConfi.require,
    remain = _useRequestEmailConfi.remain,
    isEnable = _useRequestEmailConfi.isEnable;
  var handleClick = function handleClick() {
    Object(_ConfirmAlert__WEBPACK_IMPORTED_MODULE_2__["confirmAlert"])(t('require_email_confirm_text'), {
      buttonText: t('require_email_confirm_yes'),
      title: t('require_email_confirm_title')
    }).then(function () {
      require(email || authUser.email);
    });
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_13__["TransProxy"], {
    i18nKey: "require_email_confirm_your_email",
    components: {
      l: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_11__["Link"], {
        className: "link",
        to: _routes__WEBPACK_IMPORTED_MODULE_12__["URLS"].UserEditInfo + '#email'
      })
    },
    values: {
      email: authUser.email
    }
  }), ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
    type: "button",
    onClick: handleClick,
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()('link', {
      'is-disabled': !isEnable,
      'link--dotted': isEnable
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, t('require_email_confirm_button'), !isEnable && " (".concat(remain, ")"))));
}

/***/ }),

/***/ "./app/javascript/components/Scrollbar.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/components/Scrollbar.tsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);



var _excluded = ["scrollInstanceRef", "className", "elRef", "onInit"];


/* harmony default export */ __webpack_exports__["default"] = (function (_ref) {
  var scrollInstanceRef = _ref.scrollInstanceRef,
    className = _ref.className,
    elRef = _ref.elRef,
    onInit = _ref.onInit,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var el = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(0);
  var scrollRef = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(0);
  var refSetter = function refSetter(ref, inputRef) {
    var scrRef = inputRef;
    if (typeof scrRef === 'function') {
      scrRef(ref);
    } else if (scrRef != null && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(scrRef) === 'object' && scrRef.hasOwnProperty('current')) {
      scrRef.current = ref;
    }
  };
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    Promise.all(/*! import() */[__webpack_require__.e(1), __webpack_require__.e(2)]).then(__webpack_require__.bind(null, /*! smooth-scrollbar */ "./node_modules/smooth-scrollbar/index.js")).then(function (_ref2) {
      var SmoothScrollbar = _ref2["default"];
      if (!el.current) return;
      var scrollInstance = scrollRef.current = new SmoothScrollbar(el.current, {
        alwaysShowTracks: true,
        damping: 0.3
      });
      refSetter(scrollInstance, scrollInstanceRef);
      onInit && onInit(scrollInstance);
    });
    refSetter(el.current, elRef);
    return function () {
      scrollRef.current && scrollRef.current.destroy();
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
    ref: el,
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('scrollbar', className)
  }));
});

/***/ }),

/***/ "./app/javascript/components/Select.tsx":
/*!**********************************************!*\
  !*** ./app/javascript/components/Select.tsx ***!
  \**********************************************/
/*! exports provided: Select, SelectFormik */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return Select; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectFormik", function() { return SelectFormik; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! formik */ "./node_modules/formik/dist/formik.esm.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var selectivity_apis_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! selectivity/apis/react */ "./node_modules/selectivity/apis/react.js");
/* harmony import */ var selectivity_apis_react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(selectivity_apis_react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var selectivity_dropdown__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! selectivity/dropdown */ "./node_modules/selectivity/dropdown.js");
/* harmony import */ var selectivity_dropdown__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(selectivity_dropdown__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var selectivity_event_listener__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! selectivity/event-listener */ "./node_modules/selectivity/event-listener.js");
/* harmony import */ var selectivity_event_listener__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(selectivity_event_listener__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var selectivity_inputs_single__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! selectivity/inputs/single */ "./node_modules/selectivity/inputs/single.js");
/* harmony import */ var selectivity_inputs_single__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(selectivity_inputs_single__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var selectivity_locale__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! selectivity/locale */ "./node_modules/selectivity/locale.js");
/* harmony import */ var selectivity_locale__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(selectivity_locale__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var selectivity_plugins_react_templates__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! selectivity/plugins/react/templates */ "./node_modules/selectivity/plugins/react/templates.js");
/* harmony import */ var selectivity_plugins_react_templates__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(selectivity_plugins_react_templates__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var selectivity_templates__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! selectivity/templates */ "./node_modules/selectivity/templates.js");
/* harmony import */ var selectivity_templates__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(selectivity_templates__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var selectivity_selectivity__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! selectivity/selectivity */ "./node_modules/selectivity/selectivity.js");
/* harmony import */ var selectivity_selectivity__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(selectivity_selectivity__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");



var _excluded = ["name"];












function Select(props) {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_5__["useTranslation"])(),
    t = _useTranslation.t,
    _useLocalesLoaded = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_14__["useLocalesLoaded"])(),
    localesLoaded = _useLocalesLoaded.localesLoaded,
    scrollInstance = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(0),
    destroyScrollInstance = function destroyScrollInstance() {
      return scrollInstance.current && scrollInstance.current.destroy();
    };
  var generateOption = function generateOption(item) {
    var dataItem = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(item) != 'object' ? {
      text: item,
      id: item
    } : item;
    if (props.dataMapper) dataItem = typeof props.dataMapper === 'function' ? props.dataMapper(item) : {
      text: item[props.dataMapper.text],
      id: item[props.dataMapper.id]
    };
    return {
      id: dataItem.id.toString(),
      text: dataItem.text + (props.optionAppend || '')
    };
  };
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    return destroyScrollInstance;
  }, []);
  return localesLoaded ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(selectivity_selectivity__WEBPACK_IMPORTED_MODULE_13___default.a.React, {
    className: "selectivity-root",
    value: props.value,
    suppressWheelSelector: null,
    onDropdownOpen: function onDropdownOpen(e) {
      var dropdownEl = e.target.querySelector('.selectivity-results-container');
      if (dropdownEl) {
        dropdownEl.classList.add('scrollbar');
        Promise.all(/*! import() */[__webpack_require__.e(1), __webpack_require__.e(2)]).then(__webpack_require__.bind(null, /*! smooth-scrollbar */ "./node_modules/smooth-scrollbar/index.js")).then(function (_ref) {
          var SmoothScrollbar = _ref["default"];
          scrollInstance.current = new SmoothScrollbar(dropdownEl, {
            alwaysShowTracks: true,
            damping: 0.3
          });
        });
      }
    },
    onDropdownClose: destroyScrollInstance,
    positionDropdown: function positionDropdown() {},
    onChange: function onChange(e) {
      props.onChange && props.onChange(e.value, e.data);
    },
    templates: {
      noResults: function noResults(options) {
        return "<div class=\"selectivity-error\">".concat(t('not_found'), "</div>");
      },
      selectCompliance: function selectCompliance(options) {
        var mode = options.mode;
        var name = options.name;
        if (mode === "multiple" && name.slice(-2) !== "[]") {
          name += "[]";
        }
        return "<select ".concat(props.id ? "id=\"".concat(props.id, "\"") : '', " name=\"").concat(name, "\"").concat(mode === "multiple" ? " multiple" : "", "></select>");
      }
    },
    showSearchInput: false,
    showSearchInputInDropdown: props.search || false,
    placeholder: props.placeholder || '',
    items: props.data.map(function (item) {
      return item.children ? {
        text: item.name,
        children: item.children.map(function (c) {
          return generateOption(c);
        })
      } : generateOption(item);
    })
  }) : null;
}
function SelectFormik(_ref2) {
  var name = _ref2.name,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref2, _excluded);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_4__["Field"], {
    name: name
  }, function (_ref3) {
    var field = _ref3.field,
      form = _ref3.form;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Select, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      value: field.value ? field.value.toString() : null,
      onChange: function onChange(v) {
        return form.setFieldValue(field.name, v);
      }
    }));
  });
}

/***/ }),

/***/ "./app/javascript/components/SmartAuth.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/components/SmartAuth.tsx ***!
  \*************************************************/
/*! exports provided: SmartAuth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SmartAuth", function() { return SmartAuth; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");


var _excluded = ["loaderSetter", "activate", "onRequested", "onBeforeRequest", "onLoginRequired", "onRegisterRequired"];







function SmartAuth(_ref) {
  var loaderSetter = _ref.loaderSetter,
    activate = _ref.activate,
    onRequested = _ref.onRequested,
    onBeforeRequest = _ref.onBeforeRequest,
    onLoginRequired = _ref.onLoginRequired,
    onRegisterRequired = _ref.onRegisterRequired,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(''),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    redirect = _useState2[0],
    setRedirect = _useState2[1],
    tempEmail = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_4__["getTempEmail"]),
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_7__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_8__["Api"].users.checkExistingUser),
    checkRequest = _useApi.request;
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    if (!tempEmail || !activate) return;
    var handleResponse = function handleResponse() {
      var reg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      loaderSetter(false);
      onRequested && onRequested();
      onLoginRequired && !reg && onLoginRequired();
      onRegisterRequired && reg && onRegisterRequired();
      if (!onLoginRequired && !onRegisterRequired) setRedirect({
        pathname: reg ? _routes__WEBPACK_IMPORTED_MODULE_5__["URLS"].AuthRegister : _routes__WEBPACK_IMPORTED_MODULE_5__["URLS"].AuthLoginPassword,
        state: {
          from: props.location
        }
      });
    };
    loaderSetter(true);
    onBeforeRequest && onBeforeRequest();
    checkRequest(tempEmail.trim()).then(function (isNotCreated) {
      handleResponse(isNotCreated);
    });
  }, [activate]);
  return redirect ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Navigate"], {
    to: redirect
  }) : null;
}

/***/ }),

/***/ "./app/javascript/components/SocialAuth/GoogleAuth.tsx":
/*!*************************************************************!*\
  !*** ./app/javascript/components/SocialAuth/GoogleAuth.tsx ***!
  \*************************************************************/
/*! exports provided: GoogleAuth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GoogleAuth", function() { return GoogleAuth; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _SocialButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SocialButton */ "./app/javascript/components/SocialAuth/SocialButton.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");



var _excluded = ["onAuth"];






function GoogleAuth(_ref) {
  var onAuth = _ref.onAuth,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var el = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(),
    isMobile = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useIsMobile"])(),
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_6__["Api"].users.googleAuth),
    googleAuthRequest = _useApi.request,
    _useWindowDimensions = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useWindowDimensions"])(),
    _useWindowDimensions2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useWindowDimensions, 1),
    windowWidth = _useWindowDimensions2[0];
  var renderButton = function renderButton() {
    window.google && el.current && google.accounts.id.renderButton(el.current, {
      type: "standard",
      size: "large",
      theme: "outline",
      text: "sign_in_with",
      shape: "square",
      logo_alignment: "center",
      width: el.current.clientWidth
    });
  };
  var onRender = function onRender() {
    Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["importExternal"])('https://accounts.google.com/gsi/client').then(function () {
      var isRecentlyLogout = Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["getTimestamp"])() - parseInt(localStorage.getItem('logout_time')) < 20;
      google.accounts.id.initialize({
        width: '100%',
        auto_select: !isRecentlyLogout,
        client_id: _helpers_initialState__WEBPACK_IMPORTED_MODULE_8__["initialState"].googgle_client_id,
        callback: function callback(credentialResponse) {
          googleAuthRequest(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["objectToFormData"])(credentialResponse)).then(function () {
            onAuth && onAuth();
          });
        }
      });
      !isMobile && !isRecentlyLogout && google.accounts.id.prompt();
      renderButton();
    });
  };
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    renderButton();
  }, [windowWidth]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SocialButton__WEBPACK_IMPORTED_MODULE_7__["SocialButton"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
    socialName: "google",
    onRender: onRender,
    customElement: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      ref: el
    }),
    showCondition: !!_helpers_initialState__WEBPACK_IMPORTED_MODULE_8__["initialState"].googgle_client_id
  }));
}

/***/ }),

/***/ "./app/javascript/components/SocialAuth/MailRuAuth.tsx":
/*!*************************************************************!*\
  !*** ./app/javascript/components/SocialAuth/MailRuAuth.tsx ***!
  \*************************************************************/
/*! exports provided: MailRuAuth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MailRuAuth", function() { return MailRuAuth; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _SocialButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SocialButton */ "./app/javascript/components/SocialAuth/SocialButton.tsx");





function MailRuAuth(props) {
  var start = function start() {
    window.location.href = "https://oauth.mail.ru/login?client_id=".concat(_helpers_initialState__WEBPACK_IMPORTED_MODULE_2__["initialState"].mailru_client_id, "&response_type=code&scope=userinfo&redirect_uri=").concat(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_3__["url"])('users/auth/mail_ru/callback'), "&state=33bc0cac-f436-3ad8-ac5f-b65d908f8827");
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SocialButton__WEBPACK_IMPORTED_MODULE_4__["SocialButton"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
    socialName: "mail",
    onClick: start,
    label: "\u0412\u043E\u0439\u0442\u0438 \u0441 Mail.ru",
    showCondition: !!_helpers_initialState__WEBPACK_IMPORTED_MODULE_2__["initialState"].mailru_client_id
  }));
}

/***/ }),

/***/ "./app/javascript/components/SocialAuth/SocialButton.tsx":
/*!***************************************************************!*\
  !*** ./app/javascript/components/SocialAuth/SocialButton.tsx ***!
  \***************************************************************/
/*! exports provided: SocialButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SocialButton", function() { return SocialButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");




function SocialButton(_ref) {
  var socialName = _ref.socialName,
    wrapper = _ref.wrapper,
    _onClick = _ref.onClick,
    showCondition = _ref.showCondition,
    isLoading = _ref.isLoading,
    label = _ref.label,
    customElement = _ref.customElement,
    onRender = _ref.onRender;
  var Button = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(customElement || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_1__["SvgIcon"], {
    name: socialName
  }), label, isLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "loader"
  })), {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('social-btn', "social-btn--".concat(socialName)),
    onClick: function onClick(e) {
      Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_3__["gtm"])('Auth - start', socialName);
      _onClick && _onClick(e);
    }
  });
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (showCondition !== false && onRender) onRender();
  }, []);
  if (showCondition === false) return null;
  return wrapper ? /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_0__["cloneElement"])(wrapper, {
    children: Button
  }) : Button;
}

/***/ }),

/***/ "./app/javascript/components/SocialAuth/TelegramAuth.tsx":
/*!***************************************************************!*\
  !*** ./app/javascript/components/SocialAuth/TelegramAuth.tsx ***!
  \***************************************************************/
/*! exports provided: TelegramCatchCallbackData, TelegramAuth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TelegramCatchCallbackData", function() { return TelegramCatchCallbackData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TelegramAuth", function() { return TelegramAuth; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _SocialButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SocialButton */ "./app/javascript/components/SocialAuth/SocialButton.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _MakeLogin__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../MakeLogin */ "./app/javascript/components/MakeLogin.tsx");



var _excluded = ["onAuth"];







function TelegramCatchCallbackData(_ref) {
  var authData = _ref.authData;
  var _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_5__["Api"].users.telegramAuth),
    telegramAuthRequest = _useApi.request;
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    activateLogin = _useState2[0],
    setActivateLogin = _useState2[1];
  var handleData = function handleData(data) {
    if (data && data.id && data.hash) {
      telegramAuthRequest(data).then(function (response) {
        setActivateLogin(true);
      });
    }
  };
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    handleData(authData);
  }, [authData]);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    var decodeJWT = function decodeJWT(token) {
      var jsonPayload = decodeURIComponent(window.atob(token).split('').map(function (c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
      }).join(''));
      return JSON.parse(jsonPayload);
    };
    var paramsAfterHash = Object.fromEntries(new URLSearchParams(window.location.hash.substring(1)));
    if (paramsAfterHash.tgAuthResult) handleData(decodeJWT(paramsAfterHash.tgAuthResult));
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_MakeLogin__WEBPACK_IMPORTED_MODULE_9__["MakeLogin"], {
    activateLogin: activateLogin,
    values: {}
  });
}
function TelegramAuth(_ref2) {
  var onAuth = _ref2.onAuth,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref2, _excluded);
  var popup = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(0),
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
    isLoading = _useState4[0],
    setIsLoading = _useState4[1],
    isMobile = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useIsMobile"])(),
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(null),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5, 2),
    authData = _useState6[0],
    setAuthData = _useState6[1];
  var generateAuthUrl = function generateAuthUrl(oarams) {
    return 'https://oauth.telegram.org/auth?' + new URLSearchParams(oarams).toString();
  };
  var onPostMessage = function onPostMessage(e) {
    if (!['https://oauth.telegram.org', 'https://oauth.tg.dev'].includes(e.origin)) return;
    var data = JSON.parse(e.data);
    if (data.event == 'auth_result') {
      window.removeEventListener('message', onPostMessage);
      setIsLoading(false);
      setAuthData(data.result);
    }
  };
  var start = function start() {
    var authUrl = "https://oauth.telegram.org/auth",
      queryParams = {
        bot_id: _helpers_initialState__WEBPACK_IMPORTED_MODULE_6__["initialState"].telegram_auth_bot_id,
        origin: document.URL,
        request_access: 'write'
      };
    setIsLoading(true);
    if (isMobile) {
      queryParams['return_to'] = Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_8__["url"])('/auth_callback/telegram');
      window.location.href = generateAuthUrl(queryParams);
    } else {
      popup.current = window.open('about:blank', '_blank', "status=0, location=0, menubar=0, toolbar=0, scrollbars=1, resizable=1, width=1010, height=600");
      window.addEventListener('message', onPostMessage);

      // Fix Edge bug when send url into open() throw permission denied
      setTimeout(function () {
        return popup.current.location.href = generateAuthUrl(queryParams);
      });
    }
  };
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    return function () {
      popup.current && popup.current.close();
      window.removeEventListener('message', onPostMessage);
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TelegramCatchCallbackData, {
    authData: authData
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SocialButton__WEBPACK_IMPORTED_MODULE_7__["SocialButton"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
    isLoading: isLoading,
    socialName: "telegram",
    onClick: start,
    label: "\u0412\u043E\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Telegram",
    showCondition: !!_helpers_initialState__WEBPACK_IMPORTED_MODULE_6__["initialState"].telegram_auth_bot_id
  })));
}

/***/ }),

/***/ "./app/javascript/components/SocialAuth/YandexAuth.tsx":
/*!*************************************************************!*\
  !*** ./app/javascript/components/SocialAuth/YandexAuth.tsx ***!
  \*************************************************************/
/*! exports provided: YandexCatchToken, YandexAuth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "YandexCatchToken", function() { return YandexCatchToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "YandexAuth", function() { return YandexAuth; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var ky__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ky */ "./node_modules/ky/distribution/index.js");
/* harmony import */ var _MakeLogin__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../MakeLogin */ "./app/javascript/components/MakeLogin.tsx");
/* harmony import */ var _SocialButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./SocialButton */ "./app/javascript/components/SocialAuth/SocialButton.tsx");



var _excluded = ["onAuth"];









function useHandleToken() {
  var _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_5__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_6__["Api"].users.yandexAuth),
    yandexAuthRequest = _useApi.request;
  var tokenHandler = function tokenHandler(oauthToken) {
    return ky__WEBPACK_IMPORTED_MODULE_9__["default"].get('https://login.yandex.ru/info', {
      searchParams: {
        format: 'jwt',
        oauth_token: oauthToken
      }
    }).text().then(function (jwtToken) {
      return yandexAuthRequest(jwtToken);
    });
  };
  return {
    tokenHandler: tokenHandler
  };
}
function YandexCatchToken() {
  var _useHandleToken = useHandleToken(),
    tokenHandler = _useHandleToken.tokenHandler,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    activateLogin = _useState2[0],
    setActivateLogin = _useState2[1];
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (window.opener) {
      Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["importExternal"])('https://yastatic.net/s3/passport-sdk/autofill/v1/sdk-suggest-token-latest.js').then(function () {
        YaSendSuggestToken(_helpers_initialState__WEBPACK_IMPORTED_MODULE_7__["initialState"].host);
        window.close();
      });
    } else {
      var paramsAfterHash = Object.fromEntries(new URLSearchParams(window.location.hash.substring(1)));
      tokenHandler(paramsAfterHash.access_token).then(function () {
        return setActivateLogin(true);
      });
    }
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_MakeLogin__WEBPACK_IMPORTED_MODULE_10__["MakeLogin"], {
    activateLogin: activateLogin,
    values: {}
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "preloader"
  }));
}
function YandexAuth(_ref) {
  var onAuth = _ref.onAuth,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
    isLoading = _useState4[0],
    setIsLoading = _useState4[1],
    _useHandleToken2 = useHandleToken(),
    tokenHandler = _useHandleToken2.tokenHandler;
  var _native = function _native() {
    window.location.href = "https://oauth.yandex.ru/authorize?response_type=token&client_id=".concat(_helpers_initialState__WEBPACK_IMPORTED_MODULE_7__["initialState"].yandex_client_id, "&redirect_uri=").concat(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["url"])(_routes__WEBPACK_IMPORTED_MODULE_8__["URLS"].YandexCatchToken));
  };
  var start = function start() {
    setIsLoading(true);
    Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["importExternal"])('https://yastatic.net/s3/passport-sdk/autofill/v1/sdk-suggest-latest.js').then(function () {
      // Try catch YA logged in user
      YaAuthSuggest.init({
        client_id: _helpers_initialState__WEBPACK_IMPORTED_MODULE_7__["initialState"].yandex_client_id,
        response_type: 'token',
        redirect_uri: Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["url"])(_routes__WEBPACK_IMPORTED_MODULE_8__["URLS"].YandexCatchToken)
      }).then(function (_ref2) {
        var handler = _ref2.handler;
        return handler();
      })
      // Then catch token
      .then(function (_ref3) {
        var access_token = _ref3.access_token;
        return tokenHandler(access_token);
      }).then(function () {
        onAuth && onAuth();
      })
      // Or try native on error
      ["catch"](function (error) {
        console.log(error);
        if (['no_data', 'timeout', 'not_available', 'blocked'].includes(error.code)) _native();else setIsLoading(false);
      });
    });
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SocialButton__WEBPACK_IMPORTED_MODULE_11__["SocialButton"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
    isLoading: isLoading,
    socialName: "yandex",
    onClick: start,
    label: "\u0412\u043E\u0439\u0442\u0438 \u0441 \u042F\u043D\u0434\u0435\u043A\u0441 ID",
    showCondition: !!_helpers_initialState__WEBPACK_IMPORTED_MODULE_7__["initialState"].yandex_client_id
  }));
}

/***/ }),

/***/ "./app/javascript/components/SocialsList.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/components/SocialsList.tsx ***!
  \***************************************************/
/*! exports provided: SocialsList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SocialsList", function() { return SocialsList; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");



var _excluded = ["shareLink", "shareTitle", "shareMessage", "socials"],
  _excluded2 = ["name", "iconName", "label", "onClick"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }





function SocialsList(_ref) {
  var shareLink = _ref.shareLink,
    shareTitle = _ref.shareTitle,
    shareMessage = _ref.shareMessage,
    socials = _ref.socials,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["useTranslation"])(),
    t = _useTranslation.t;
  var socialsData = {
    "native": {
      key: 'Native',
      label: t('invite_share_mobile'),
      iconName: 'share',
      href: "#",
      onClick: function onClick() {
        return Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_7__["nativeShare"])(shareLink, shareTitle, shareMessage);
      }
    },
    telegram: {
      key: 'TG',
      label: t('invite_share_social', {
        social: 'Telegram'
      }),
      iconName: 'telegram',
      href: "https://telegram.me/share/url?url=".concat(shareLink, "&text=").concat(shareMessage)
    },
    whatsapp: {
      key: 'WA',
      label: t('invite_share_social', {
        social: 'Whatsapp'
      }),
      iconName: 'whatsapp',
      href: "https://api.whatsapp.com/send?phone=&source=&data=&text=".concat(shareMessage || shareLink)
    },
    facebook: {
      key: 'FB',
      label: t('invite_share_social', {
        social: 'FB'
      }),
      iconName: 'fb',
      href: "https://www.facebook.com/sharer/sharer.php?u=".concat(shareLink, "&quote=").concat(shareMessage)
    },
    fb_messenger: {
      key: 'FB-M',
      label: t('invite_share_social', {
        social: 'FB Messenger'
      }),
      iconName: 'fb-messenger',
      href: "fb-messenger://share/?link=".concat(shareLink)
    },
    viber: {
      key: 'VA',
      label: t('invite_share_social', {
        social: 'Viber'
      }),
      iconName: 'viber',
      href: "viber://forward?text=".concat(shareMessage || shareLink)
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("ul", {
    className: "socials"
  }, socials.filter(function (s) {
    return s != 'native' || s == 'native' && Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_7__["isSupportNativeShare"])();
  }).map(function (s) {
    return _objectSpread({
      name: s
    }, socialsData[s]);
  }).map(function (_ref2, index) {
    var name = _ref2.name,
      iconName = _ref2.iconName,
      label = _ref2.label,
      _onClick = _ref2.onClick,
      menuItem = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref2, _excluded2);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", {
      key: index,
      className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('socials__item', _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, 'socials__item--' + name, 1))
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, menuItem, {
      onClick: function onClick(e) {
        props.onClick && props.onClick(menuItem.key);
        if (_onClick) {
          e.preventDefault();
          _onClick(e);
        }
      },
      target: "_blank",
      className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('socials__link', {
        'socials__link--with-label': !!label
      })
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_4__["SvgIcon"], {
      name: iconName
    }), label));
  }));
}

/***/ }),

/***/ "./app/javascript/components/StartAuthForm.tsx":
/*!*****************************************************!*\
  !*** ./app/javascript/components/StartAuthForm.tsx ***!
  \*****************************************************/
/*! exports provided: StartAuthForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StartAuthForm", function() { return StartAuthForm; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _MakeLogin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MakeLogin */ "./app/javascript/components/MakeLogin.tsx");
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _Checkbox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Checkbox */ "./app/javascript/components/Checkbox.tsx");
/* harmony import */ var _TransProxy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _SocialAuth_TelegramAuth__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SocialAuth/TelegramAuth */ "./app/javascript/components/SocialAuth/TelegramAuth.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var _SmartAuth__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./SmartAuth */ "./app/javascript/components/SmartAuth.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _SocialAuth_GoogleAuth__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./SocialAuth/GoogleAuth */ "./app/javascript/components/SocialAuth/GoogleAuth.tsx");
/* harmony import */ var _SocialAuth_MailRuAuth__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./SocialAuth/MailRuAuth */ "./app/javascript/components/SocialAuth/MailRuAuth.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _SocialAuth_YandexAuth__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./SocialAuth/YandexAuth */ "./app/javascript/components/SocialAuth/YandexAuth.tsx");



var _excluded = ["onSubmit", "onLogin", "AdditionalRows", "ButtonsRow"],
  _excluded2 = ["values"];


















function StartAuthForm(_ref) {
  var _onSubmit = _ref.onSubmit,
    onLogin = _ref.onLogin,
    AdditionalRows = _ref.AdditionalRows,
    ButtonsRow = _ref.ButtonsRow,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_11__["useTranslation"])(),
    t = _useTranslation.t,
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_15__["useDispatch"])(),
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    activateLogin = _useState2[0],
    setActivateLogin = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    isAuth = _useState4[0],
    setIsAuth = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    isLoading = _useState6[0],
    setIsLoading = _useState6[1];
  var formProps = {
    initialValues: {
      email: '',
      agree: true
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_12__["object"]().shape({
      email: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["emailValidation"],
      agree: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["checkboxRequiredValidation"]
    }),
    onSubmit: function onSubmit(values, actions) {
      _onSubmit && _onSubmit(values);
      dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_16__["setTempEmail"])(values.email));
      setIsAuth(true);
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_4__["Form"], formProps, function (_ref2) {
    var values = _ref2.values,
      formikBag = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref2, _excluded2);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_MakeLogin__WEBPACK_IMPORTED_MODULE_5__["MakeLogin"], {
      activateLogin: activateLogin,
      values: values,
      formikBag: formikBag,
      onLogin: onLogin
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SmartAuth__WEBPACK_IMPORTED_MODULE_14__["SmartAuth"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      activate: isAuth,
      loaderSetter: setIsLoading
    }, props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      id: "start_auth_email",
      autoFocus: true,
      name: "email",
      placeholder: "example@gmail.com"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], {
      mod: AdditionalRows ? ['sm'] : []
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Checkbox__WEBPACK_IMPORTED_MODULE_7__["Checkbox"], {
      id: "start_auth_checkbox_agree",
      name: "agree",
      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
        i18nKey: "agree_with_all",
        components: {
          privacy_link: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
            href: _routes__WEBPACK_IMPORTED_MODULE_9__["URLS"].Privacy,
            target: "_blank"
          }),
          terms_link: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
            href: _routes__WEBPACK_IMPORTED_MODULE_9__["URLS"].Terms,
            target: "_blank"
          })
        }
      })
    })), AdditionalRows, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], {
      style: {
        marginBottom: '25px'
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "row row--sm align-items-center"
    }, ButtonsRow ? ButtonsRow : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_4__["FormSubmit"], {
      id: "start_auth_submit",
      isLoading: isLoading,
      label: t('next')
    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "m-b-20"
    }, t('use_fast_auth')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "row row--xs",
      style: {
        maxWidth: '400px'
      }
    }, Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_19__["isRuEnv"])() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SocialAuth_TelegramAuth__WEBPACK_IMPORTED_MODULE_10__["TelegramAuth"], {
      wrapper: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "col-12"
      }),
      onAuth: function onAuth() {
        return setActivateLogin(true);
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SocialAuth_GoogleAuth__WEBPACK_IMPORTED_MODULE_17__["GoogleAuth"], {
      wrapper: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "col-12"
      }),
      onAuth: function onAuth() {
        return setActivateLogin(true);
      }
    }), Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_19__["isRuEnv"])() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SocialAuth_YandexAuth__WEBPACK_IMPORTED_MODULE_20__["YandexAuth"], {
      wrapper: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "col-12"
      }),
      onAuth: function onAuth() {
        return setActivateLogin(true);
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SocialAuth_MailRuAuth__WEBPACK_IMPORTED_MODULE_18__["MailRuAuth"], {
      wrapper: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "col-12"
      }),
      onAuth: function onAuth() {
        return setActivateLogin(true);
      }
    })))));
  });
}

/***/ }),

/***/ "./app/javascript/components/SvgIcon.tsx":
/*!***********************************************!*\
  !*** ./app/javascript/components/SvgIcon.tsx ***!
  \***********************************************/
/*! exports provided: SvgIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SvgIcon", function() { return SvgIcon; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var images_sprite_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! images/sprite.svg */ "./app/assets/images/sprite.svg");
/* harmony import */ var images_sprite_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(images_sprite_svg__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ky__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ky */ "./node_modules/ky/distribution/index.js");



function SvgIcon(props) {
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var STORAGE_KEY_VERSION = 'svg_sprite_version',
      STORAGE_KEY_CONTENT = 'svg_sprite_content',
      ID_NAME = 'svg-sprite',
      storageSpriteVersion = localStorage.getItem(STORAGE_KEY_VERSION),
      storageSpriteContent = localStorage.getItem(STORAGE_KEY_CONTENT),
      currentSpriteVersion = images_sprite_svg__WEBPACK_IMPORTED_MODULE_1___default.a.split('/').pop().split('.')[0].split('-').pop(),
      getExistingEl = function getExistingEl() {
        return document.getElementById(ID_NAME);
      },
      applySpriteToEl = function applySpriteToEl(content) {
        var el = getExistingEl();
        if (!el) {
          el = document.createElement('div');
          el.id = ID_NAME;
          el.style.cssText = 'border: 0; clip: rect(0 0 0 0); height: 1px; margin: -1px; overflow: hidden; padding: 0; position: absolute; width: 1px; white-space: nowrap;';
          document.body.insertBefore(el, document.body.firstChild);
        }
        el.innerHTML = content;
      };
    if (getExistingEl()) return;
    if (!storageSpriteVersion || storageSpriteVersion != currentSpriteVersion) {
      applySpriteToEl('');
      ky__WEBPACK_IMPORTED_MODULE_2__["default"].get(images_sprite_svg__WEBPACK_IMPORTED_MODULE_1___default.a).text().then(function (response) {
        localStorage.setItem(STORAGE_KEY_VERSION, currentSpriteVersion);
        localStorage.setItem(STORAGE_KEY_CONTENT, response);
        applySpriteToEl(response);
      });
    } else if (storageSpriteContent) applySpriteToEl(storageSpriteContent);
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg", {
    style: {
      fill: props.color
    },
    className: "icon icon-".concat(props.name)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("use", {
    xlinkHref: "#icon-".concat(props.name)
  }));
}

/***/ }),

/***/ "./app/javascript/components/Tariff.tsx":
/*!**********************************************!*\
  !*** ./app/javascript/components/Tariff.tsx ***!
  \**********************************************/
/*! exports provided: TariffLabels, Tariff */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TariffLabels", function() { return TariffLabels; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tariff", function() { return Tariff; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _PngIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _Price__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Price */ "./app/javascript/components/Price.tsx");
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _TransProxy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Tooltip */ "./app/javascript/components/Tooltip.tsx");

var _excluded = ["info"];










var rows = {
  max_players: 'tariffs_players',
  report: 'tariffs_report',
  custom_url: 'tariffs_custom_urls',
  extend_bulk_invite: 'tariffs_extend_bulk_invite',
  manager: 'tariffs_manager',
  "export": 'tariffs_export',
  bill_payment: 'tariffs_bill_payment',
  price: 'tariffs_price'
};
var Definition = function Definition(_ref) {
  var _value;
  var name = _ref.name,
    data = _ref.data,
    isLoading = _ref.isLoading,
    hideValue = _ref.hideValue;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["useTranslation"])(),
    t = _useTranslation.t;
  var value = data[name];
  if (name == 'max_players') {
    if (value >= 999) value = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_8__["SvgIcon"], {
      name: "infinity"
    });
  }
  if ((_value = value) !== null && _value !== void 0 && _value.i18n) value = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_9__["TransProxy"], {
    i18nKey: value.i18n
  });

  // Boolean value
  if (typeof value === 'boolean') value = value === true ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_8__["SvgIcon"], {
    color: "#27AE60",
    name: "check-1"
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_8__["SvgIcon"], {
    color: "#F74F4F",
    name: "close-1"
  });
  if (name == 'price') value = value >= 99999 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "d-md-none"
  }, t('tariffs_price_by_request')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_2__["PngIcon"], {
    className: "d-none d-md-inline-block",
    name: "thinking-face"
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Price__WEBPACK_IMPORTED_MODULE_7__["Price"], {
    currency: data.currency,
    amount: data.price
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("dl", {
    className: "tariff__row",
    "data-key": name
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("dt", {
    className: "tariff__label"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_9__["TransProxy"], {
    i18nKey: rows[name]
  }), name == 'price' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Tooltip__WEBPACK_IMPORTED_MODULE_10__["TooltipIcon"], {
    content: t('tariffs_price_tooltip')
  })), !hideValue && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("dd", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('tariff__value', {
      'ph-text': isLoading
    })
  }, value));
};
function TariffLabels() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "tariff tariff--label"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "tariff__name"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "tariff__info"
  }, Object.keys(rows).map(function (i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Definition, {
      key: i,
      data: {},
      hideValue: true,
      name: i
    });
  })));
}
function Tariff(_ref2) {
  var info = _ref2.info,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref2, _excluded);
  var _useTranslation2 = Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["useTranslation"])(),
    t = _useTranslation2.t;
  var handleSelect = function handleSelect() {
    props.onSelect && props.onSelect(props.name);
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_5__["gtm"])("Choose ".concat(props.name, " tariff"));
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('tariff', {
      'tariff--top': info.top,
      'tariff--selected': props.isSelected
    })
  }, info.top && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "tariff__top",
    children: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_2__["PngIcon"], {
      name: "star"
    })
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "tariff__name"
  }, info.title.i18n ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_9__["TransProxy"], {
    i18nKey: info.title.i18n
  }) : info.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "tariff__info"
  }, Object.keys(rows).map(function (i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Definition, {
      key: i,
      name: i,
      data: info,
      isLoading: props.isPriceLoading && ['max_players', 'price'].includes(i)
    });
  })), !props.hideButton && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "tariff__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    disabled: props.isSelected,
    isLoading: props.isLoading,
    type: "button",
    onClick: handleSelect,
    label: t(props.name == 'mega_pro' ? 'tariffs_contact_tariff' : props.isSelected ? 'tariffs_selected_tariff' : 'tariffs_choose_tariff'),
    mod: ['block', !info.top && !props.isSelected && 'white']
  })));
}

/***/ }),

/***/ "./app/javascript/components/TelegramRedirect.tsx":
/*!********************************************************!*\
  !*** ./app/javascript/components/TelegramRedirect.tsx ***!
  \********************************************************/
/*! exports provided: TelegramRedirect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TelegramRedirect", function() { return TelegramRedirect; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");




function TelegramRedirect() {
  var navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["useNavigate"])();
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var queryParams = new URLSearchParams(window.location.search),
      queryRedirectTo = queryParams.get('redirect_to');
    var redirect = '';
    if (!queryRedirectTo) return;
    if (queryRedirectTo == 'support') return Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_3__["openSupport"])();
    var gameId = queryParams.get('game_id');
    var redirectMap = {
      'chat_all': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('chat', gameId),
      'chat_santa': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('chat/santa', gameId),
      'chat_recipient': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('chat/recipient', gameId),
      'toss_for_me': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('toss/for_me', gameId),
      'toss_for_receiver': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('toss/for_receiver', gameId),
      'questionary': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('questionary', gameId),
      'settings': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('settings', gameId),
      'purchase': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('purchase', gameId),
      'invite': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('invite', gameId),
      'who_is_santa': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('who_is_santa', gameId),
      'dashboard': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('', gameId),
      'wishlist': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Wishlist,
      'create': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].GameCreate,
      'user_edit': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].UserEditInfo,
      'reg': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].AuthRegister,
      'login': _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].AuthLogin
    };
    redirect = redirectMap[queryRedirectTo];
    if (!redirect) redirect = gameId ? _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game(queryRedirectTo, gameId) : queryRedirectTo;
    redirect && navigate(redirect);
  }, []);
  return null;
}

/***/ }),

/***/ "./app/javascript/components/Tooltip.tsx":
/*!***********************************************!*\
  !*** ./app/javascript/components/Tooltip.tsx ***!
  \***********************************************/
/*! exports provided: TooltipIcon, Tooltip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TooltipIcon", function() { return TooltipIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tooltip", function() { return Tooltip; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var tippy_js_dist_tippy_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tippy.js/dist/tippy.css */ "./node_modules/tippy.js/dist/tippy.css");
/* harmony import */ var tippy_js_dist_tippy_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tippy_js_dist_tippy_css__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var tippy_js_themes_light_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tippy.js/themes/light.css */ "./node_modules/tippy.js/themes/light.css");
/* harmony import */ var tippy_js_themes_light_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tippy_js_themes_light_css__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var tippy_js_animations_shift_away_subtle_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tippy.js/animations/shift-away-subtle.css */ "./node_modules/tippy.js/animations/shift-away-subtle.css");
/* harmony import */ var tippy_js_animations_shift_away_subtle_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(tippy_js_animations_shift_away_subtle_css__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SvgIcon */ "./app/javascript/components/SvgIcon.tsx");






var Tippy = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_1__["lazy"])(function () {
  return Promise.all(/*! import() */[__webpack_require__.e(0), __webpack_require__.e(5)]).then(__webpack_require__.bind(null, /*! @tippyjs/react */ "./node_modules/@tippyjs/react/dist/tippy-react.esm.js"));
});
function TooltipIcon(_ref) {
  var content = _ref.content;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Tooltip, {
    content: content
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "tooltip-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_5__["SvgIcon"], {
    name: "question"
  })));
}
function Tooltip(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1__["Suspense"], {
    fallback: props.children
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Tippy, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    arrow: false,
    allowHTML: true,
    animation: "shift-away-subtle",
    theme: "dark",
    interactive: true,
    popperOptions: {
      strategy: 'fixed'
    }
  }, props)));
}

/***/ }),

/***/ "./app/javascript/components/TrackSteps.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/components/TrackSteps.tsx ***!
  \**************************************************/
/*! exports provided: TrackSteps */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrackSteps", function() { return TrackSteps; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _SvgIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");



var _excluded = ["parcel", "className"];





function TrackSteps(_ref) {
  var parcel = _ref.parcel,
    className = _ref.className,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_7__["useTranslation"])(),
    t = _useTranslation.t,
    isAvailable = parcel && !!(parcel.details || []).length,
    isShowTime = isAvailable ? !!(parcel.details || []).reduce(function (acc, i) {
      var dt = Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["createDate"])(i.oper_date);
      return acc + dt.getHours() + dt.getMinutes();
    }, 0) : false;
  return (parcel || {}).service_slug ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('track-steps', className)
  }, props), isAvailable ? _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(parcel.details).sort(function (a, b) {
    //@ts-ignore
    return Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["createDate"])(b.oper_date) - Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["createDate"])(a.oper_date);
  }).map(function (item, index) {
    var dt = Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["createDate"])(item.oper_date),
      isCurrent = index == 0,
      isDelivered = isCurrent && parcel.delivered;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      key: index,
      className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('track-step', {
        'track-step--current': isCurrent,
        'track-step--delivered': isDelivered,
        'track-step--hide-time': !isShowTime
      })
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("time", {
      className: "track-step__time"
    }, (isShowTime ? "".concat(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["trailingZero"])(dt.getHours()), ":").concat(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["trailingZero"])(dt.getMinutes()), " ") : '') + "".concat(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["trailingZero"])(dt.getDate()), ".").concat(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["trailingZero"])(dt.getMonth() + 1), ".").concat(dt.getFullYear())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "track-step__icon"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "track-step__dot"
    }, isDelivered && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SvgIcon__WEBPACK_IMPORTED_MODULE_6__["SvgIcon"], {
      name: "check"
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "track-step__point"
    }, item.type, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["nl2br"])(item.address)));
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, t('player_tossed_imsanta_track_available_soon'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "truck-ride"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "truck-ride__mountain"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "truck-ride__hill"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "truck-ride__tree"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "truck-ride__tree"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "truck-ride__tree"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "truck-ride__rock"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "truck-ride__truck"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "truck-ride__wheels"
  })))) : null;
}

/***/ }),

/***/ "./app/javascript/components/TransProxy.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/components/TransProxy.tsx ***!
  \**************************************************/
/*! exports provided: TransProxy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransProxy", function() { return TransProxy; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _Placeholders__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Placeholders */ "./app/javascript/components/Placeholders.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");



var _excluded = ["components"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }




function TransProxy(_ref) {
  var components = _ref.components,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var _useLocalesLoaded = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_6__["useLocalesLoaded"])(),
    localesLoaded = _useLocalesLoaded.localesLoaded;
  return localesLoaded ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__["Trans"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
    components: _objectSpread({
      br: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null),
      b: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null),
      span: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null),
      p: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null),
      pro: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
        className: "pro"
      })
    }, components)
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Placeholders__WEBPACK_IMPORTED_MODULE_5__["PlaceholderText"], {
    inner: props.i18nKey
  });
}

/***/ }),

/***/ "./app/javascript/components/UnknownText.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/components/UnknownText.tsx ***!
  \***************************************************/
/*! exports provided: UnknownText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnknownText", function() { return UnknownText; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function UnknownText(_ref) {
  var label = _ref.label;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "unknown-text"
  }, label);
}

/***/ }),

/***/ "./app/javascript/components/User.tsx":
/*!********************************************!*\
  !*** ./app/javascript/components/User.tsx ***!
  \********************************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _PngIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PngIcon */ "./app/javascript/components/PngIcon.tsx");



function User(_ref) {
  var mod = _ref.mod,
    name = _ref.name,
    avatar = _ref.avatar,
    hideAvatar = _ref.hideAvatar,
    onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    onClick: onClick,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('user', mod && mod.map(function (i) {
      return 'user--' + i;
    }), {
      'user--clickable': !!onClick
    })
  }, !hideAvatar && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("figure", {
    className: "user__img"
  }, avatar ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    src: avatar
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PngIcon__WEBPACK_IMPORTED_MODULE_2__["PngIcon"], {
    name: "eyes"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "user__name"
  }, name));
}

/***/ }),

/***/ "./app/javascript/components/UserEditForm.tsx":
/*!****************************************************!*\
  !*** ./app/javascript/components/UserEditForm.tsx ***!
  \****************************************************/
/*! exports provided: UserEditForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserEditForm", function() { return UserEditForm; });
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _Checkbox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Checkbox */ "./app/javascript/components/Checkbox.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _PhotoUpload__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./PhotoUpload */ "./app/javascript/components/PhotoUpload.tsx");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _SocialAuth_TelegramAuth__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./SocialAuth/TelegramAuth */ "./app/javascript/components/SocialAuth/TelegramAuth.tsx");
/* harmony import */ var _Select__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Select */ "./app/javascript/components/Select.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var _core_i18n__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../core/i18n */ "./app/javascript/core/i18n.tsx");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _ConfirmAlert__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../redux/slices/games */ "./app/javascript/redux/slices/games.ts");
/* harmony import */ var _TransProxy__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _ConfirmExample__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./ConfirmExample */ "./app/javascript/components/ConfirmExample.tsx");
/* harmony import */ var _modals_BaseModal__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../modals/BaseModal */ "./app/javascript/modals/BaseModal.tsx");
/* harmony import */ var _modals_EmailChangeCode__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../modals/EmailChangeCode */ "./app/javascript/modals/EmailChangeCode.tsx");




var _excluded = ["avatar"],
  _excluded2 = ["values"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }






























function UserEditForm(_ref) {
  var onEdit = _ref.onEdit,
    onBeforeRequest = _ref.onBeforeRequest,
    compactShowMode = _ref.compactShowMode,
    ButtonsRow = _ref.ButtonsRow;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_18__["useTranslation"])(),
    t = _useTranslation.t,
    i18n = _useTranslation.i18n,
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["useDispatch"])(),
    navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_9__["useNavigate"])(),
    _useLocation = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_9__["useLocation"])(),
    hash = _useLocation.hash,
    user = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__["getAuthUser"]),
    games = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_29__["getMergedGames"]),
    avatar = user.avatar,
    authUser = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(user, _excluded),
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_26__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_27__["Api"].users.edit),
    isLoading = _useApi.isLoading,
    updateRequest = _useApi.request,
    _useApi2 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_26__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_27__["Api"].users["delete"]),
    deleteUserRequest = _useApi2.request,
    isDeleteUserLoading = _useApi2.isLoading,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    error = _useState2[0],
    setError = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(_objectSpread({}, user)),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 1),
    oldUserState = _useState4[0],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(false),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5, 2),
    isShowAdditionalInfo = _useState6[0],
    setIsShowAdditionalInfo = _useState6[1],
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(false),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState7, 2),
    isDisabledSubmit = _useState8[0],
    setIsDisabledSubmit = _useState8[1],
    tempGameId = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__["getTempGameId"]),
    _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(false),
    _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState9, 2),
    isEditingEmail = _useState10[0],
    setIsEditingEmail = _useState10[1],
    _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(''),
    _useState12 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState11, 2),
    oldEmail = _useState12[0],
    setOldEmail = _useState12[1],
    _useApi3 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_26__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_27__["Api"].users.changeEmailRequest),
    changeEmailRequest = _useApi3.request,
    isChangeEmailRequestLoading = _useApi3.isLoading,
    genders = {
      male: t('gender_male'),
      female: t('gender_female')
    };
  var formProps = {
    initialValues: _objectSpread({
      first_name: '',
      last_name: '',
      gender: '',
      birthday: '',
      telephone: '',
      address: '',
      locale: i18n.language,
      chat_notifications: false
    }, Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["removeEmpty"])(authUser)),
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_14__["object"]().shape({
      first_name: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_15__["requiredValidation"].realMin(2, t('form_symbols_min', {
        min: 2
      })).realMax(20, t('form_symbols_max', {
        max: 20
      })),
      last_name: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_15__["requiredValidation"].realMin(2, t('form_symbols_min', {
        min: 2
      })).realMax(25, t('form_symbols_max', {
        max: 25
      })),
      birthday: yup__WEBPACK_IMPORTED_MODULE_14__["string"]().test('check-valid-birthday', function () {
        return t('user_edit_birthday_validation_error');
      }, function (value) {
        var dateObject = Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["convertCustomDateStringToDate"])(value, t('date_format'));
        var calculatedAge = new Date(Date.now() - dateObject).getUTCFullYear() - 1970;
        return !value || calculatedAge >= _core_constants__WEBPACK_IMPORTED_MODULE_25__["MIN_USER_AGE"] && calculatedAge < 99;
      })
      //address: Yup.string().min(2, '  ').max(256, '  '),
      //telephone: phoneValidation
    }),

    onSubmit: function onSubmit(values, actions) {
      onBeforeRequest && onBeforeRequest();
      values.first_name = values.first_name.trim();
      values.last_name = values.last_name.trim();
      updateRequest(_objectSpread(_objectSpread({}, values), {}, {
        birthday: values.birthday ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["convertCustomDateStringToDate"])(values.birthday, t('date_format')).toString() : ''
      })).then( /*#__PURE__*/function () {
        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee(response) {
          var _yield$dispatch, updatedData;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  if (!response.error) {
                    _context.next = 4;
                    break;
                  }
                  setError(response.error);
                  _context.next = 18;
                  break;
                case 4:
                  if (!response.errors) {
                    _context.next = 8;
                    break;
                  }
                  _helpers_toastify__WEBPACK_IMPORTED_MODULE_19__["toastify"].error(t('save_error') + ': ' + JSON.stringify(response.errors));
                  _context.next = 18;
                  break;
                case 8:
                  _context.next = 10;
                  return dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__["updateUser"])());
                case 10:
                  _yield$dispatch = _context.sent;
                  updatedData = _yield$dispatch.payload;
                  // GTM events
                  Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_17__["gtm"])('Save User Info');
                  values.avatar && Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_17__["gtm"])('User Info - upload avatar');
                  !authUser.addres && values.address && Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_17__["gtm"])('User Info - add address');

                  // fire init gtm event with new data
                  Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_17__["plainGtm"])({
                    event: 'user_init',
                    user_info: values
                  });

                  // Redirect to if user was not given info
                  if (onEdit) onEdit();else {
                    if (oldUserState.info_was_given === false) {
                      // Redirect
                      navigate(tempGameId ? _routes__WEBPACK_IMPORTED_MODULE_16__["URLS"].Game('', tempGameId) : _routes__WEBPACK_IMPORTED_MODULE_16__["URLS"].GameCreate);
                    } else _helpers_toastify__WEBPACK_IMPORTED_MODULE_19__["toastify"].success(t('user_edit_save_success'));
                  }
                  values.locale != i18n.language && Object(_core_i18n__WEBPACK_IMPORTED_MODULE_24__["changeUserLanguage"])(values.locale);
                case 18:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }));
        return function (_x) {
          return _ref2.apply(this, arguments);
        };
      }());
    }
  };
  var deleteAccount = function deleteAccount(e) {
    e.preventDefault();
    var action = function action() {
      return deleteUserRequest().then(function () {
        localStorage.setItem('logout_time', Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["getTimestamp"])().toString());
        window.location.reload();
      });
    };
    if (games.filter(function (game) {
      return game.isTossCompleted();
    }).length) Object(_ConfirmAlert__WEBPACK_IMPORTED_MODULE_28__["confirmAlert"])(t('user_edit_delete_account_confirm_unavailable_text'), {
      title: t('user_edit_delete_account_confirm_title'),
      withoutCancel: true
    }).then(function () {});else Object(_ConfirmAlert__WEBPACK_IMPORTED_MODULE_28__["confirmAlert"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_TransProxy__WEBPACK_IMPORTED_MODULE_30__["TransProxy"], {
      i18nKey: "user_edit_delete_account_confirm_text",
      components: {
        example: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ConfirmExample__WEBPACK_IMPORTED_MODULE_32__["ConfirmExample"], {
          onSubmit: action,
          submitText: t('user_edit_delete_account_confirm_button')
        })
      }
    }), {
      title: t('user_edit_delete_account_confirm_title'),
      withoutButtons: true
    });
  };
  Object(react__WEBPACK_IMPORTED_MODULE_5__["useEffect"])(function () {
    if (hash == '#email') {
      setIsShowAdditionalInfo(true);
      setTimeout(function () {
        return Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["scrollToEl"])(document.getElementById(hash.substring(1)));
      }, 1);
    }
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["Form"], formProps, function (_ref3) {
    var values = _ref3.values,
      formikProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref3, _excluded2);
    var onRequestEmailChange = function onRequestEmailChange(newEmail) {
      changeEmailRequest(newEmail).then(function (response) {
        if (!response.code) _modals_BaseModal__WEBPACK_IMPORTED_MODULE_33__["ModalContainer"].open(null, 'EmailChangeCode');else _helpers_toastify__WEBPACK_IMPORTED_MODULE_19__["toastify"].error(response.message);
      });
    };
    var onEmailChanged = function onEmailChanged(newEmail) {
      _modals_BaseModal__WEBPACK_IMPORTED_MODULE_33__["ModalContainer"].closeActive(null);
      setIsEditingEmail(false);
      _helpers_toastify__WEBPACK_IMPORTED_MODULE_19__["toastify"].success(t('user_edit_edit_email_success'));
      formikProps.setFieldValue('email', newEmail);
    };
    Object(react__WEBPACK_IMPORTED_MODULE_5__["useEffect"])(function () {
      dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__["setUserInfo"])({
        first_name: values.first_name,
        last_name: values.last_name
      }));
    }, [values.first_name, values.last_name]);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_modals_EmailChangeCode__WEBPACK_IMPORTED_MODULE_34__["EmailChangeCode"], {
      onSubmit: onEmailChanged,
      email: values.email
    }), !compactShowMode && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_PhotoUpload__WEBPACK_IMPORTED_MODULE_13__["PhotoUpload"], {
      id: "user_edit_avatar",
      onSelected: function onSelected(base64String) {
        return dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__["setUserInfo"])({
          avatar: base64String
        }));
      },
      onBeforeUpload: function onBeforeUpload() {
        return setIsDisabledSubmit(true);
      },
      onUploaded: function onUploaded() {
        return setIsDisabledSubmit(false);
      },
      name: "avatar",
      preview: avatar
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormLabel"], {
      label: t('user_edit_profile_photo'),
      hint: t('user_edit_profile_photo_hint')
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "row"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-sm-6 col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormLabel"], {
      label: t('user_edit_name'),
      required: true
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      id: "user_edit_first_name",
      name: "first_name",
      placeholder: t('user_edit_name_placeholder')
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-sm-6 col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormLabel"], {
      label: t('user_edit_surname'),
      required: true
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      id: "user_edit_last_name",
      name: "last_name",
      placeholder: t('user_edit_surname_placeholder')
    }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], {
      label: t('user_edit_gender'),
      hint: t('user_edit_gender_hint')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Checkbox__WEBPACK_IMPORTED_MODULE_7__["CheckboxList"], {
      id: "user_edit_gender",
      name: "gender",
      type: "radio",
      data: Object.keys(genders).map(function (gender) {
        return {
          label: genders[gender],
          value: gender
        };
      })
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], {
      label: t('user_edit_birthday')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      id: "user_edit_birthday",
      name: "birthday",
      mask: "date",
      placeholder: t('user_edit_birthday_placeholder')
    })), !compactShowMode && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a", {
      id: "user_edit_show_more_options",
      className: classnames__WEBPACK_IMPORTED_MODULE_23___default()('link dropdown-link', {
        'is-open': isShowAdditionalInfo
      }),
      onClick: function onClick(e) {
        e.preventDefault();
        setIsShowAdditionalInfo(function (f) {
          return !f;
        });
      },
      href: "#"
    }, t('additionally'))), isShowAdditionalInfo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, user.email && !Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["isLocalEmail"])(user.email) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], {
      id: "email",
      label: t('email')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "row row--sm align-items-center"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-xxs col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      name: "email",
      disabled: !isEditingEmail
    })), !isEditingEmail && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-xxs-auto col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a", {
      onClick: function onClick(e) {
        e.preventDefault();
        setIsEditingEmail(true);
        setOldEmail(values.email);
      },
      href: "#",
      className: "link"
    }, t('change'))), isEditingEmail && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "row row--sm align-items-center"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Button__WEBPACK_IMPORTED_MODULE_31__["Button"], {
      isLoading: isChangeEmailRequestLoading,
      disabled: values.email == oldEmail,
      type: "button",
      onClick: function onClick() {
        return onRequestEmailChange(values.email);
      },
      label: t('confirm')
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a", {
      onClick: function onClick(e) {
        e.preventDefault();
        setIsEditingEmail(false);
      },
      href: "#",
      className: "link"
    }, t('cancel'))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], {
      label: t('user_edit_chat_notifications')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Checkbox__WEBPACK_IMPORTED_MODULE_7__["Checkbox"], {
      id: "user_edit_chat_notifications",
      name: "chat_notifications",
      label: t('enable'),
      mods: ['center']
    })), !_helpers_initialState__WEBPACK_IMPORTED_MODULE_22__["initialState"].telegram_connected && Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["isDevelopmentEnv"])() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], {
      label: "Telegram"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_SocialAuth_TelegramAuth__WEBPACK_IMPORTED_MODULE_20__["TelegramAuth"], {
      label: t('bind_telegram'),
      onAuth: function onAuth() {
        return dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__["updateUser"])());
      }
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], {
      label: t('interface_lang')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Select__WEBPACK_IMPORTED_MODULE_21__["SelectFormik"], {
      id: "user_edit_language",
      name: "locale",
      data: Object.entries(Object(_core_constants__WEBPACK_IMPORTED_MODULE_25__["LANGUAGES_LIST"])()),
      dataMapper: {
        id: 0,
        text: 1
      }
    })), user.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a", {
      className: "link font-gray",
      href: "#",
      onClick: deleteAccount,
      children: t('user_edit_delete_account')
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], null, ButtonsRow ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "row row--sm align-items-center"
    }, ButtonsRow) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "row row--sm align-items-center"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-xs-auto col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_12__["FormSubmit"], {
      isLoading: isLoading,
      disabled: isDisabledSubmit,
      id: "user_edit_save",
      label: t(oldUserState.info_was_given === false ? 'continue' : 'save')
    })))));
  });
}

/***/ }),

/***/ "./app/javascript/core/App.tsx":
/*!*************************************!*\
  !*** ./app/javascript/core/App.tsx ***!
  \*************************************/
/*! exports provided: App */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "App", function() { return App; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _components_Chat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Chat */ "./app/javascript/components/Chat/index.ts");
/* harmony import */ var react_toastify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-toastify */ "./node_modules/react-toastify/dist/react-toastify.esm.js");
/* harmony import */ var _components_TelegramRedirect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/TelegramRedirect */ "./app/javascript/components/TelegramRedirect.tsx");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _modals_SuccessModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../modals/SuccessModal */ "./app/javascript/modals/SuccessModal.tsx");
/* harmony import */ var _components_Channel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/Channel */ "./app/javascript/components/Channel.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../helpers/gtm */ "./app/javascript/helpers/gtm.ts");













function App() {
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useDispatch"])(),
    isAuth = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_5__["isLogged"]),
    onListenSocket = function onListenSocket(_ref) {
      var event = _ref.event;
      if (event != 'user_blocked') return;
      dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_5__["setUserInfo"])({
        status: 'blocked'
      }));
    };
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var rootEl = document.getElementById('root');
    rootEl && rootEl.classList.remove('preloader');
    setTimeout(function () {
      return window.location.reload();
    }, _constants__WEBPACK_IMPORTED_MODULE_9__["PAGE_RELOAD_INTERVAL_H"] * 60 * 60 * 1000);
  }, []);
  if (!isAuth && _helpers_initialState__WEBPACK_IMPORTED_MODULE_11__["initialState"].user) {
    dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_5__["setUser"])(_helpers_initialState__WEBPACK_IMPORTED_MODULE_11__["initialState"].user));
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_12__["plainGtm"])({
      event: 'user_init',
      user_info: _helpers_initialState__WEBPACK_IMPORTED_MODULE_11__["initialState"].user
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, isAuth && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Channel__WEBPACK_IMPORTED_MODULE_8__["Channel"], {
    name: "RoomNotifications",
    onReceive: onListenSocket
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Suspense"], {
    fallback: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "preloader"
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_routes__WEBPACK_IMPORTED_MODULE_1__["AppRoutes"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_modals_SuccessModal__WEBPACK_IMPORTED_MODULE_7__["SuccessModal"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TelegramRedirect__WEBPACK_IMPORTED_MODULE_4__["TelegramRedirect"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_toastify__WEBPACK_IMPORTED_MODULE_3__["ToastContainer"], {
    enableMultiContainer: true,
    limit: 10
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Chat__WEBPACK_IMPORTED_MODULE_2__["Notifications"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_10__["ConfirmAlertContainer"], null))));
}

/***/ }),

/***/ "./app/javascript/core/api/client.ts":
/*!*******************************************!*\
  !*** ./app/javascript/core/api/client.ts ***!
  \*******************************************/
/*! exports provided: Client */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Client", function() { return Client; });
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _modules_games__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/games */ "./app/javascript/core/api/modules/games.ts");
/* harmony import */ var _modules_users__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/users */ "./app/javascript/core/api/modules/users.ts");
/* harmony import */ var _modules_usersInGame__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/usersInGame */ "./app/javascript/core/api/modules/usersInGame.ts");
/* harmony import */ var _modules_pay__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/pay */ "./app/javascript/core/api/modules/pay.ts");
/* harmony import */ var _modules_messages__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/messages */ "./app/javascript/core/api/modules/messages.ts");








var Client = /*#__PURE__*/_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0___default()(function Client() {
  _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Client);
  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "games", void 0);
  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "users", void 0);
  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "usersInGame", void 0);
  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "pay", void 0);
  _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "messages", void 0);
  this.games = new _modules_games__WEBPACK_IMPORTED_MODULE_3__["Games"]();
  this.users = new _modules_users__WEBPACK_IMPORTED_MODULE_4__["Users"]();
  this.pay = new _modules_pay__WEBPACK_IMPORTED_MODULE_6__["Pay"]();
  this.usersInGame = new _modules_usersInGame__WEBPACK_IMPORTED_MODULE_5__["UsersInGame"]();
  this.messages = new _modules_messages__WEBPACK_IMPORTED_MODULE_7__["Messages"]();
});

/***/ }),

/***/ "./app/javascript/core/api/index.ts":
/*!******************************************!*\
  !*** ./app/javascript/core/api/index.ts ***!
  \******************************************/
/*! exports provided: Api */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Api", function() { return Api; });
/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client */ "./app/javascript/core/api/client.ts");

var Api = new _client__WEBPACK_IMPORTED_MODULE_0__["Client"]();


/***/ }),

/***/ "./app/javascript/core/api/modules/games.ts":
/*!**************************************************!*\
  !*** ./app/javascript/core/api/modules/games.ts ***!
  \**************************************************/
/*! exports provided: Games */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Games", function() { return Games; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../helpers/ky */ "./app/javascript/helpers/ky.ts");





var Games = /*#__PURE__*/function () {
  function Games() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, Games);
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(Games, [{
    key: "getGames",
    value: function getGames() {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].get('games').json();
      };
    }
  }, {
    key: "getPlayableGames",
    value: function getPlayableGames() {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].get('games/playable_games').json();
      };
    }
  }, {
    key: "getAllGames",
    value: function getAllGames() {
      var _this = this;
      return function () {
        return Promise.all([_this.getPlayableGames()(), _this.getGames()()]).then(function (_ref) {
          var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref, 2),
            playableGames = _ref2[0],
            organizerGames = _ref2[1];
          var mapper = {};
          [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(playableGames), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(organizerGames)).map(function (game) {
            mapper[game.id] = game;
          });
          return Object.values(mapper);
        });
      };
    }
  }, {
    key: "getById",
    value: function getById(id) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].get("games/".concat(id)).json();
      };
    }
  }, {
    key: "getBySlug",
    value: function getBySlug(slug) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].get("games/slug/".concat(slug)).json();
      };
    }
  }, {
    key: "create",
    value: function create(data) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].post('games', {
          json: {
            game: data
          }
        }).json();
      };
    }
  }, {
    key: "edit",
    value: function edit(id, data) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].put("games/".concat(id), {
          json: {
            game: data
          }
        }).json();
      };
    }
  }, {
    key: "archive",
    value: function archive(id) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].put("games/".concat(id, "/archive")).json();
      };
    }
  }, {
    key: "activate",
    value: function activate(id) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].put("games/".concat(id, "/activate")).json();
      };
    }
  }, {
    key: "getPlayers",
    value: function getPlayers(id, params) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].get("games/".concat(id, "/players"), {
          searchParams: params
        }).json();
      };
    }
  }, {
    key: "toss",
    value: function toss(id) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].put("games/".concat(id, "/toss")).json();
      };
    }
  }, {
    key: "cancelToss",
    value: function cancelToss(id) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].put("games/".concat(id, "/cancel_toss")).json();
      };
    }
  }, {
    key: "delete",
    value: function _delete(id) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"]["delete"]("games/".concat(id)).text();
      };
    }
  }, {
    key: "addTossGroup",
    value: function addTossGroup(gameId, groupPayload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].post("games/".concat(gameId, "/toss_groups"), {
          json: {
            toss_group: groupPayload
          }
        }).json();
      };
    }
  }, {
    key: "deleteTossGroup",
    value: function deleteTossGroup(gameId, groupId) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"]["delete"]("games/".concat(gameId, "/toss_groups/").concat(groupId)).json();
      };
    }
  }, {
    key: "addWhitelistDomain",
    value: function addWhitelistDomain(gameId, domain) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].post("games/".concat(gameId, "/whitelist_domains"), {
          json: {
            domain: domain
          }
        }).json();
      };
    }
  }, {
    key: "deleteWhitelistDomain",
    value: function deleteWhitelistDomain(gameId, domainId) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"]["delete"]("games/".concat(gameId, "/whitelist_domains/").concat(domainId)).json();
      };
    }
  }, {
    key: "bulkInvite",
    value: function bulkInvite(gameId, emails) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].post("games/".concat(gameId, "/bulk_invite"), {
          json: {
            emails: emails
          }
        }).text();
      };
    }
  }]);
  return Games;
}();

/***/ }),

/***/ "./app/javascript/core/api/modules/messages.ts":
/*!*****************************************************!*\
  !*** ./app/javascript/core/api/modules/messages.ts ***!
  \*****************************************************/
/*! exports provided: Messages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Messages", function() { return Messages; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../helpers/ky */ "./app/javascript/helpers/ky.ts");



var _excluded = ["game_id"];

var Messages = /*#__PURE__*/function () {
  function Messages() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Messages);
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Messages, [{
    key: "getCommonMessages",
    value: function getCommonMessages(_ref) {
      var game_id = _ref.game_id,
        params = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, _excluded);
      return function (_ref2) {
        var signal = _ref2.signal;
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].get("games/".concat(game_id, "/game_messages"), {
          signal: signal,
          searchParams: params
        }).json();
      };
    }
  }, {
    key: "getSantaMessages",
    value: function getSantaMessages(params) {
      return function (_ref3) {
        var signal = _ref3.signal;
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].get('messages/to_sender', {
          signal: signal,
          searchParams: params
        }).json();
      };
    }
  }, {
    key: "getRecipientMessages",
    value: function getRecipientMessages(params) {
      return function (_ref4) {
        var signal = _ref4.signal;
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].get('messages/as_sender', {
          signal: signal,
          searchParams: params
        }).json();
      };
    }
  }, {
    key: "deleteCommonChatMessage",
    value: function deleteCommonChatMessage(_ref5) {
      var gameId = _ref5.gameId,
        id = _ref5.id;
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"]["delete"]("games/".concat(gameId, "/game_messages/").concat(id)).text();
      };
    }
  }, {
    key: "deleteAnonChatMessage",
    value: function deleteAnonChatMessage(_ref6) {
      var id = _ref6.id;
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"]["delete"]("messages/".concat(id)).text();
      };
    }
  }]);
  return Messages;
}();

/***/ }),

/***/ "./app/javascript/core/api/modules/pay.ts":
/*!************************************************!*\
  !*** ./app/javascript/core/api/modules/pay.ts ***!
  \************************************************/
/*! exports provided: Pay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pay", function() { return Pay; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../helpers/ky */ "./app/javascript/helpers/ky.ts");



var Pay = /*#__PURE__*/function () {
  function Pay() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Pay);
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Pay, [{
    key: "getTariffs",
    value: function getTariffs() {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].get('prices').json();
      };
    }
  }]);
  return Pay;
}();

/***/ }),

/***/ "./app/javascript/core/api/modules/users.ts":
/*!**************************************************!*\
  !*** ./app/javascript/core/api/modules/users.ts ***!
  \**************************************************/
/*! exports provided: Users */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Users", function() { return Users; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../helpers/ky */ "./app/javascript/helpers/ky.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../helpers/utils */ "./app/javascript/helpers/utils.tsx");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }


var Users = /*#__PURE__*/function () {
  function Users() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Users);
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Users, [{
    key: "update",
    value: function update() {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].get('dashboard').json();
      };
    }
  }, {
    key: "delete",
    value: function _delete() {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"]["delete"]('users').json();
      };
    }
  }, {
    key: "refs",
    value: function refs() {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].get('partners').json();
      };
    }
  }, {
    key: "setRef",
    value: function setRef() {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].post('set_ref', {
          json: Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["generateRefData"])()
        }).text().then(function () {
          Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["deleteRefStorage"])();
        });
      };
    }
  }, {
    key: "register",
    value: function register(data) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].post('users', {
          json: {
            user: _objectSpread(_objectSpread({}, data), Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["generateRefData"])())
          }
        }).json().then(function (response) {
          Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["deleteRefStorage"])();
          return response;
        });
      };
    }
  }, {
    key: "signIn",
    value: function signIn(data) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].post('users/sign_in', {
          json: {
            user: _objectSpread(_objectSpread({}, data), Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["generateRefData"])())
          },
          throwHttpErrors: true
        }).json().then(function (response) {
          Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_4__["deleteRefStorage"])();
          return response;
        });
      };
    }
  }, {
    key: "logOut",
    value: function logOut() {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"]["delete"]('users/sign_out').text();
      };
    }
  }, {
    key: "edit",
    value: function edit(data) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].put('users', {
          json: {
            user: data
          }
        }).json();
      };
    }
  }, {
    key: "sendPasswordRecoveryLink",
    value: function sendPasswordRecoveryLink(email) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].post('users/password', {
          json: {
            user: {
              email: email
            }
          }
        }).json();
      };
    }
  }, {
    key: "setPassword",
    value: function setPassword(password, resetToken) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].put('users/password', {
          json: {
            user: {
              password: password,
              reset_password_token: resetToken
            }
          }
        }).json();
      };
    }
  }, {
    key: "sendEmailConfirmation",
    value: function sendEmailConfirmation(email) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].post('users/confirmation', {
          json: {
            user: {
              email: email
            }
          }
        }).json();
      };
    }
  }, {
    key: "checkExistingUser",
    value: function checkExistingUser(email) {
      return function () {
        return new Promise(function (resolve, reject) {
          _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].get('users/registrations/check', {
            searchParams: {
              email: email
            },
            throwHttpErrors: true
          }).text()
          // Existing
          .then(function () {
            return resolve(false);
          })
          // Is not existed
          ["catch"](function (e) {
            return resolve(true);
          });
        });
      };
    }
  }, {
    key: "telegramAuth",
    value: function telegramAuth(authPayload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].get('users/auth/telegram/callback', {
          searchParams: authPayload
        }).text();
      };
    }
  }, {
    key: "googleAuth",
    value: function googleAuth(authPayload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].post('users/google_auth', {
          body: authPayload
        }).text();
      };
    }
  }, {
    key: "mailRuAddToken",
    value: function mailRuAddToken(payload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].post('mail_ru_tokens', {
          json: {
            data: payload
          }
        }).json();
      };
    }
  }, {
    key: "mailRuGetToken",
    value: function mailRuGetToken(tokenId) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].get("mail_ru_tokens", {
          searchParams: {
            id: tokenId
          }
        }).json();
      };
    }
  }, {
    key: "yandexAuth",
    value: function yandexAuth(jwtToken) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].post('users/yandex_auth', {
          searchParams: {
            jwt: jwtToken
          }
        }).text();
      };
    }
  }, {
    key: "changeEmailRequest",
    value: function changeEmailRequest(email) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].post('users/change_email_request', {
          json: {
            email: email
          }
        }).json();
      };
    }
  }, {
    key: "validateChangeEmailCode",
    value: function validateChangeEmailCode(code) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_3__["default"].post('users/validate_change_email_code', {
          json: {
            code: code
          }
        }).json();
      };
    }
  }]);
  return Users;
}();

/***/ }),

/***/ "./app/javascript/core/api/modules/usersInGame.ts":
/*!********************************************************!*\
  !*** ./app/javascript/core/api/modules/usersInGame.ts ***!
  \********************************************************/
/*! exports provided: UsersInGame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsersInGame", function() { return UsersInGame; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../helpers/ky */ "./app/javascript/helpers/ky.ts");



var UsersInGame = /*#__PURE__*/function () {
  function UsersInGame() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, UsersInGame);
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(UsersInGame, [{
    key: "add",
    value: function add(addPayload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].post("user_in_games", {
          json: addPayload
        }).json();
      };
    }
  }, {
    key: "edit",
    value: function edit(participatingId, editPayload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].put("user_in_games/".concat(participatingId), {
          json: editPayload
        }).json();
      };
    }
  }, {
    key: "delete",
    value: function _delete(participatingId) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"]["delete"]("user_in_games/".concat(participatingId)).json();
      };
    }
  }, {
    key: "reject",
    value: function reject(participatingId) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].put("user_in_games/".concat(participatingId, "/reject")).json();
      };
    }
  }, {
    key: "approve",
    value: function approve(participatingId) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].put("user_in_games/".concat(participatingId, "/approve")).json();
      };
    }
  }, {
    key: "editReceivedGift",
    value: function editReceivedGift(participatingId, editPayload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].put("user_in_games/".concat(participatingId, "/update_received_present"), {
          json: editPayload
        }).json();
      };
    }
  }, {
    key: "editSentGift",
    value: function editSentGift(participatingId, editPayload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].put("user_in_games/".concat(participatingId, "/update_sended_present"), editPayload ? {
          json: editPayload
        } : {}).json();
      };
    }
  }, {
    key: "editBoughtGift",
    value: function editBoughtGift(participatingId, editPayload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].put("user_in_games/".concat(participatingId, "/update_bought_present"), editPayload ? {
          json: editPayload
        } : {}).json();
      };
    }
  }, {
    key: "addParcel",
    value: function addParcel(participatingId, parcelPayload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].post("user_in_games/".concat(participatingId, "/parsels"), {
          json: parcelPayload
        }).json();
      };
    }
  }, {
    key: "editParcel",
    value: function editParcel(participatingId, parcelId, parcelPayload) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].put("user_in_games/".concat(participatingId, "/parsels/").concat(parcelId), {
          json: parcelPayload
        }).json();
      };
    }
  }, {
    key: "detectCourierByTrackCode",
    value: function detectCourierByTrackCode(participatingId, code) {
      return function () {
        return _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].get("user_in_games/".concat(participatingId, "/parsels/get_courier"), {
          searchParams: {
            code: code
          }
        }).json();
      };
    }
  }]);
  return UsersInGame;
}();

/***/ }),

/***/ "./app/javascript/core/constants.ts":
/*!******************************************!*\
  !*** ./app/javascript/core/constants.ts ***!
  \******************************************/
/*! exports provided: DADATA_TOKEN, GOOGLE_MAPS_KEY, GOOGLE_MAPS_KEY_DEV, ADDRESS_SUGGESTIONS_REQUEST_TIMEOUT, ADDRESS_SUGGESTIONS_GOOGLE_USE_REGEXP, WISHLIST_REQUIRE_TO_LIKE, WISHLIST_LOAD_GIFTS, WISHLIST_PREVIEW_LIKED_GIFTS, WISHLIST_PREVIEW_PLACEHOLDER_LIKED_GIFTS, WISHLIST_USERS_PREVIEW_GIFTS, CHAT_MESSAGES_LOAD_COUNT, MIN_PLAYERS_FOR_TOSS, TOSS_TIMEOUT_S, PLAYERS_LOAD_ITEMS, PLAYERS_PLACEHOLDER_ITEMS, NEW_GIFT_PARSE_LINK_TIMEOUT_MS, NEW_GIFT_FAILED_PARSE_TIMEOUT_S, SOCKET_INACTIVITY_PERIOD_S, EMAIL_REQUIRE_CONFIRM_DELAY, PARSE_COURIER_REQUEST_TIMEOUT_S, PAGE_RELOAD_INTERVAL_H, MIN_USER_AGE, BULK_INVITE_MAX_EMAILS, BULK_INVITE_TIMEOUT_BETWEEN_M, I18N_FALLBACK_LANG, GAME_URL_PREFIXES, I18N_DOMAIN_LANG_MAPPER, LANGUAGES_LIST, CURRENCIES, GAME_DEFAULT_PRICE_GRID, WISHLIST_FILTER_PRICES_GRID, TARIFFS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DADATA_TOKEN", function() { return DADATA_TOKEN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GOOGLE_MAPS_KEY", function() { return GOOGLE_MAPS_KEY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GOOGLE_MAPS_KEY_DEV", function() { return GOOGLE_MAPS_KEY_DEV; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ADDRESS_SUGGESTIONS_REQUEST_TIMEOUT", function() { return ADDRESS_SUGGESTIONS_REQUEST_TIMEOUT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ADDRESS_SUGGESTIONS_GOOGLE_USE_REGEXP", function() { return ADDRESS_SUGGESTIONS_GOOGLE_USE_REGEXP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WISHLIST_REQUIRE_TO_LIKE", function() { return WISHLIST_REQUIRE_TO_LIKE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WISHLIST_LOAD_GIFTS", function() { return WISHLIST_LOAD_GIFTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WISHLIST_PREVIEW_LIKED_GIFTS", function() { return WISHLIST_PREVIEW_LIKED_GIFTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WISHLIST_PREVIEW_PLACEHOLDER_LIKED_GIFTS", function() { return WISHLIST_PREVIEW_PLACEHOLDER_LIKED_GIFTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WISHLIST_USERS_PREVIEW_GIFTS", function() { return WISHLIST_USERS_PREVIEW_GIFTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CHAT_MESSAGES_LOAD_COUNT", function() { return CHAT_MESSAGES_LOAD_COUNT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_PLAYERS_FOR_TOSS", function() { return MIN_PLAYERS_FOR_TOSS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOSS_TIMEOUT_S", function() { return TOSS_TIMEOUT_S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PLAYERS_LOAD_ITEMS", function() { return PLAYERS_LOAD_ITEMS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PLAYERS_PLACEHOLDER_ITEMS", function() { return PLAYERS_PLACEHOLDER_ITEMS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NEW_GIFT_PARSE_LINK_TIMEOUT_MS", function() { return NEW_GIFT_PARSE_LINK_TIMEOUT_MS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NEW_GIFT_FAILED_PARSE_TIMEOUT_S", function() { return NEW_GIFT_FAILED_PARSE_TIMEOUT_S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SOCKET_INACTIVITY_PERIOD_S", function() { return SOCKET_INACTIVITY_PERIOD_S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EMAIL_REQUIRE_CONFIRM_DELAY", function() { return EMAIL_REQUIRE_CONFIRM_DELAY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PARSE_COURIER_REQUEST_TIMEOUT_S", function() { return PARSE_COURIER_REQUEST_TIMEOUT_S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PAGE_RELOAD_INTERVAL_H", function() { return PAGE_RELOAD_INTERVAL_H; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_USER_AGE", function() { return MIN_USER_AGE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BULK_INVITE_MAX_EMAILS", function() { return BULK_INVITE_MAX_EMAILS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BULK_INVITE_TIMEOUT_BETWEEN_M", function() { return BULK_INVITE_TIMEOUT_BETWEEN_M; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "I18N_FALLBACK_LANG", function() { return I18N_FALLBACK_LANG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GAME_URL_PREFIXES", function() { return GAME_URL_PREFIXES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "I18N_DOMAIN_LANG_MAPPER", function() { return I18N_DOMAIN_LANG_MAPPER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LANGUAGES_LIST", function() { return LANGUAGES_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CURRENCIES", function() { return CURRENCIES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GAME_DEFAULT_PRICE_GRID", function() { return GAME_DEFAULT_PRICE_GRID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WISHLIST_FILTER_PRICES_GRID", function() { return WISHLIST_FILTER_PRICES_GRID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TARIFFS", function() { return TARIFFS; });
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/initialState */ "./app/javascript/helpers/initialState.ts");

var DADATA_TOKEN = '15aade5b74970e25fa89f49ea5eafadb42bfa759',
  GOOGLE_MAPS_KEY = 'AIzaSyDY-nJFQ5tVsIZ29VooygaCIBnlLB9lfVs',
  GOOGLE_MAPS_KEY_DEV = 'AIzaSyCR0jPZeqh2jjUlEB0U0kg6zMIBqLyX9s4',
  ADDRESS_SUGGESTIONS_REQUEST_TIMEOUT = 100,
  ADDRESS_SUGGESTIONS_GOOGLE_USE_REGEXP = /[a-zA-Z]|^/i,
  WISHLIST_REQUIRE_TO_LIKE = 10,
  WISHLIST_LOAD_GIFTS = 9,
  WISHLIST_PREVIEW_LIKED_GIFTS = 5,
  WISHLIST_PREVIEW_PLACEHOLDER_LIKED_GIFTS = 2,
  WISHLIST_USERS_PREVIEW_GIFTS = 3,
  CHAT_MESSAGES_LOAD_COUNT = 50,
  MIN_PLAYERS_FOR_TOSS = 3,
  TOSS_TIMEOUT_S = 15,
  PLAYERS_LOAD_ITEMS = 50,
  PLAYERS_PLACEHOLDER_ITEMS = 7,
  NEW_GIFT_PARSE_LINK_TIMEOUT_MS = 400,
  NEW_GIFT_FAILED_PARSE_TIMEOUT_S = 10,
  SOCKET_INACTIVITY_PERIOD_S = 300,
  EMAIL_REQUIRE_CONFIRM_DELAY = 120,
  PARSE_COURIER_REQUEST_TIMEOUT_S = 15,
  PAGE_RELOAD_INTERVAL_H = 24,
  MIN_USER_AGE = 9,
  BULK_INVITE_MAX_EMAILS = 30,
  BULK_INVITE_TIMEOUT_BETWEEN_M = 2,
  I18N_FALLBACK_LANG = 'en',
  GAME_URL_PREFIXES = ['g', 'games'],
  I18N_DOMAIN_LANG_MAPPER = {
    ru: 'ru',
    co: 'en'
  },
  LANGUAGES_LIST = function LANGUAGES_LIST() {
    return Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_0__["isForeignEnv"])() ? {
      'en': 'English',
      'es': 'Espaol'
    } : {
      'ru': '',
      'en': 'English',
      'es': 'Espaol'
    };
  },
  CURRENCIES = function CURRENCIES() {
    return Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_0__["isForeignEnv"])() ? {
      'usd': '$',
      'eur': ''
    } : {
      'rub': '',
      'usd': '$',
      'eur': '',
      'kzt': '',
      'byn': 'BYN',
      'uah': ''
    };
  },
  GAME_DEFAULT_PRICE_GRID = {
    'rub': 1500,
    'usd': 20,
    'eur': 20,
    'kzt': 10000,
    'byn': 50,
    'uah': 500
  },
  WISHLIST_FILTER_PRICES_GRID = {
    'rub': [500, 1000, 2500, 5000, '>5000'],
    'usd': [5, 15, 50, 100],
    'eur': [5, 15, 50, 100],
    'kzt': [500, 1000, 3000, 5000],
    'byn': [20, 50, 100, 250, '>250'],
    'uah': [500, 1000, 3000, 5000]
  },
  TARIFFS = {
    free: {
      title: {
        i18n: 'tariffs_free'
      },
      report: false,
      custom_url: false,
      extend_bulk_invite: false,
      manager: false,
      "export": false,
      bill_payment: false
    },
    pro: {
      title: {
        i18n: 'tariffs_pro'
      },
      report: true,
      custom_url: true,
      extend_bulk_invite: false,
      manager: false,
      "export": false,
      bill_payment: false
    },
    super_pro: {
      title: {
        i18n: 'tariffs_super_pro'
      },
      report: true,
      custom_url: true,
      extend_bulk_invite: true,
      manager: false,
      "export": false,
      bill_payment: false,
      top: true
    },
    mega_pro: {
      title: {
        i18n: 'tariffs_mega_pro'
      },
      report: true,
      custom_url: true,
      extend_bulk_invite: true,
      manager: true,
      "export": true,
      bill_payment: true
    }
  };

/***/ }),

/***/ "./app/javascript/core/i18n.tsx":
/*!**************************************!*\
  !*** ./app/javascript/core/i18n.tsx ***!
  \**************************************/
/*! exports provided: initializeI18n, getLangFromDomain, getLangFromQueryParam, changeLanguage, changeUserLanguage, onLanguageChange, onLanguageLoaded, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initializeI18n", function() { return initializeI18n; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLangFromDomain", function() { return getLangFromDomain; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLangFromQueryParam", function() { return getLangFromQueryParam; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "changeLanguage", function() { return changeLanguage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "changeUserLanguage", function() { return changeUserLanguage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onLanguageChange", function() { return onLanguageChange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onLanguageLoaded", function() { return onLanguageLoaded; });
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var i18next_resources_to_backend__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! i18next-resources-to-backend */ "./node_modules/i18next-resources-to-backend/dist/umd/i18nextResourcesToBackend.js");
/* harmony import */ var i18next_resources_to_backend__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(i18next_resources_to_backend__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");









var changeLanguage = function changeLanguage(lang) {
  return i18next__WEBPACK_IMPORTED_MODULE_3__["default"].changeLanguage(lang);
};
var changeUserLanguage = function changeUserLanguage(lang) {
  return changeLanguage(lang).then(function () {
    localStorage.setItem('lng', lang);
  });
};
var onLanguageChange = function onLanguageChange(callback) {
  (i18next__WEBPACK_IMPORTED_MODULE_3__["default"].resolvedLanguage || []).includes(i18next__WEBPACK_IMPORTED_MODULE_3__["default"].language) && callback();
  i18next__WEBPACK_IMPORTED_MODULE_3__["default"].on('languageChanged', callback);
  return function () {
    return i18next__WEBPACK_IMPORTED_MODULE_3__["default"].off('languageChanged', callback);
  };
};
var onLanguageLoaded = function onLanguageLoaded(callback) {
  (i18next__WEBPACK_IMPORTED_MODULE_3__["default"].resolvedLanguage || []).includes(i18next__WEBPACK_IMPORTED_MODULE_3__["default"].language) && callback();
  i18next__WEBPACK_IMPORTED_MODULE_3__["default"].on('loaded', callback);
  return function () {
    return i18next__WEBPACK_IMPORTED_MODULE_3__["default"].off('loaded', callback);
  };
};
var getLangFromDomain = function getLangFromDomain() {
    return _constants__WEBPACK_IMPORTED_MODULE_5__["I18N_DOMAIN_LANG_MAPPER"][Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_8__["getDomainZone"])()];
  },
  getLangFromQueryParam = function getLangFromQueryParam() {
    return new URLSearchParams(location.search).get('lang');
  },
  getLocaleFromSuggested = function getLocaleFromSuggested() {
    var custom = {
      'en': ['us', 'gb']
    };
    var suggested = _helpers_initialState__WEBPACK_IMPORTED_MODULE_7__["initialState"].suggested_locale;
    var customSelected = null;
    if (Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_7__["isRuEnv"])()) return 'ru';
    if (!suggested) return null;
    Object.entries(custom).map(function (_ref) {
      var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref, 2),
        locale = _ref2[0],
        list = _ref2[1];
      if (list.includes(suggested)) customSelected = locale;
    });
    return customSelected || suggested;
  };
var getLanguage = function getLanguage() {
  var lng = getLangFromQueryParam() ||
  //(initialState.user ? initialState.user.locale : null) ||
  localStorage.getItem('lng') || getLocaleFromSuggested() || getLangFromDomain();
  if (!Object(_constants__WEBPACK_IMPORTED_MODULE_5__["LANGUAGES_LIST"])()[lng]) return null;
  return lng;
};
var initializeI18n = function initializeI18n() {
  return i18next__WEBPACK_IMPORTED_MODULE_3__["default"].use(react_i18next__WEBPACK_IMPORTED_MODULE_4__["initReactI18next"]).use(i18next_resources_to_backend__WEBPACK_IMPORTED_MODULE_6___default()(function (lng, namespace, callback) {
    __webpack_require__("./app/javascript/locales lazy recursive ^\\.\\/.*\\.json$")("./".concat(lng, ".json")).then(function (resources) {
      return callback(null, resources);
    })["catch"](function (error) {
      return callback(error, null);
    });
  })).init({
    lng: getLanguage(),
    fallbackLng: _constants__WEBPACK_IMPORTED_MODULE_5__["I18N_FALLBACK_LANG"],
    interpolation: {
      escapeValue: false,
      format: function format(value, _format, lng) {
        if (_format === 'formatdate') {
          var months = i18next__WEBPACK_IMPORTED_MODULE_3__["default"].t('months_genitive', {
            returnObjects: true
          });
          var dt = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(value) == 'object' ? value : new Date(value);
          return dt.getDate() + ' ' + months[dt.getMonth()];
        }
        return value;
      }
    },
    parseMissingKeyHandler: function parseMissingKeyHandler(key, defaultValue) {
      if (/(_meta_title|_placeholder)$/i.test(key)) return ' ';
      return !defaultValue ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
        style: {
          display: 'inline-block',
          verticalAlign: 'top'
        },
        className: "ph-text"
      }, key) : defaultValue;
    }
  });
};

/* harmony default export */ __webpack_exports__["default"] = (i18next__WEBPACK_IMPORTED_MODULE_3__["default"]);

/***/ }),

/***/ "./app/javascript/entrypoints/App.tsx":
/*!********************************************!*\
  !*** ./app/javascript/entrypoints/App.tsx ***!
  \********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./polyfills */ "./app/javascript/entrypoints/polyfills.ts");
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/ky */ "./app/javascript/helpers/ky.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _core_App__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/App */ "./app/javascript/core/App.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../redux/store */ "./app/javascript/redux/store.ts");
/* harmony import */ var react_gtm_module_custom_domain__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-gtm-module-custom-domain */ "./node_modules/react-gtm-module-custom-domain/dist/index.js");
/* harmony import */ var react_gtm_module_custom_domain__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_gtm_module_custom_domain__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var svg4everybody_dist_svg4everybody__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! svg4everybody/dist/svg4everybody */ "./node_modules/svg4everybody/dist/svg4everybody.js");
/* harmony import */ var svg4everybody_dist_svg4everybody__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(svg4everybody_dist_svg4everybody__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _helpers_Chatra__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../helpers/Chatra */ "./app/javascript/helpers/Chatra.ts");
/* harmony import */ var _core_i18n__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../core/i18n */ "./app/javascript/core/i18n.tsx");


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }














function initApp() {
  return _initApp.apply(this, arguments);
}
function _initApp() {
  _initApp = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            if (!(!Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["isServerUse"])() || _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"] === undefined || !Object.keys(_helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"]).length)) {
              _context2.next = 3;
              break;
            }
            _context2.next = 3;
            return _helpers_ky__WEBPACK_IMPORTED_MODULE_4__["default"].get('state').json().then(function (state) {
              return Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["setInitialState"])(state);
            });
          case 3:
            // Polyfill for SVG sprite
            svg4everybody_dist_svg4everybody__WEBPACK_IMPORTED_MODULE_13___default()();

            // Catch ref links
            Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["catchRefData"])();

            // Sentry
            Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["isProductionEnv"])() && Promise.all(/*! import() */[__webpack_require__.e(4), __webpack_require__.e(8)]).then(__webpack_require__.bind(null, /*! @sentry/react */ "./node_modules/@sentry/react/esm/index.js")).then( /*#__PURE__*/function () {
              var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(Sentry) {
                var _yield$import, Integrations, _yield$import2, Replay;
                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        _context.next = 2;
                        return Promise.all(/*! import() */[__webpack_require__.e(4), __webpack_require__.e(7)]).then(__webpack_require__.bind(null, /*! @sentry/tracing */ "./node_modules/@sentry/tracing/esm/index.js"));
                      case 2:
                        _yield$import = _context.sent;
                        Integrations = _yield$import.Integrations;
                        _context.next = 6;
                        return Promise.all(/*! import() */[__webpack_require__.e(1), __webpack_require__.e(6)]).then(__webpack_require__.bind(null, /*! @sentry/replay */ "./node_modules/@sentry/replay/dist/index.es.js"));
                      case 6:
                        _yield$import2 = _context.sent;
                        Replay = _yield$import2.Replay;
                        Sentry.init({
                          dsn: "https://c018f1bc54b64d96bf6884c805376db7@o444236.ingest.sentry.io/5427385",
                          integrations: [new Integrations.BrowserTracing(), new Replay({
                            // This sets the sample rate to be 10%. You may want this to be 100% while
                            // in development and sample at a lower rate in production
                            sessionSampleRate: 0.1,
                            // If the entire session is not sampled, use the below sample rate to sample
                            // sessions when an error occurs.
                            errorSampleRate: 1.0
                          })],
                          tracesSampleRate: 0.2
                        });
                        _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user && Sentry.setUser({
                          id: _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.id
                        });
                      case 10:
                      case "end":
                        return _context.stop();
                    }
                  }
                }, _callee);
              }));
              return function (_x) {
                return _ref.apply(this, arguments);
              };
            }());

            // Google tag
            react_gtm_module_custom_domain__WEBPACK_IMPORTED_MODULE_11___default.a.initialize({
              gtmId: 'GTM-TJX6L4V',
              customURL: 'https://metrics.mysanta.ru/gtm.js'
            });

            // Chatra
            _helpers_Chatra__WEBPACK_IMPORTED_MODULE_14__["ChatraInstance"].init('7at4nDKpGKa6SoMct').then(function (chtr) {
              _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user && chtr('setIntegrationData', _objectSpread(_objectSpread(_objectSpread(_objectSpread({
                name: "".concat(_helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.first_name, " ").concat(_helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.last_name)
              }, !Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["isLocalEmail"])(_helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.email) ? {
                email: _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.email
              } : {}), _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.telegram_username ? {
                tg_name: '@' + _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.telegram_username
              } : {}), Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["isLocalEmail"])(_helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.email) ? {
                messenger_id: _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.email.replace(/\D+/, '')
              } : {}), {}, {
                phone: _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.telephone,
                id: _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.id,
                address: _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.address,
                birthday: _helpers_initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].user.birthday
              }));
            });
            Object(_core_i18n__WEBPACK_IMPORTED_MODULE_15__["initializeI18n"])();

            // Add body class
            Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["isCordova"])() && document.body.classList.add('is-cordova');
            react_dom__WEBPACK_IMPORTED_MODULE_7___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_9__["Provider"], {
              store: _redux_store__WEBPACK_IMPORTED_MODULE_10__["default"]
            }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_core_App__WEBPACK_IMPORTED_MODULE_8__["App"], null)), document.getElementById("root"));
          case 11:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return _initApp.apply(this, arguments);
}
if (Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["isCordova"])()) document.addEventListener("deviceready", initApp, false);else initApp();

/***/ }),

/***/ "./app/javascript/entrypoints/polyfills.ts":
/*!*************************************************!*\
  !*** ./app/javascript/entrypoints/polyfills.ts ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "./node_modules/core-js/modules/es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.symbol.async-iterator.js */ "./node_modules/core-js/modules/es.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_symbol_has_instance_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.symbol.has-instance.js */ "./node_modules/core-js/modules/es.symbol.has-instance.js");
/* harmony import */ var core_js_modules_es_symbol_has_instance_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_has_instance_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_symbol_is_concat_spreadable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.symbol.is-concat-spreadable.js */ "./node_modules/core-js/modules/es.symbol.is-concat-spreadable.js");
/* harmony import */ var core_js_modules_es_symbol_is_concat_spreadable_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_is_concat_spreadable_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ "./node_modules/core-js/modules/es.symbol.iterator.js");
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_symbol_match_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.symbol.match.js */ "./node_modules/core-js/modules/es.symbol.match.js");
/* harmony import */ var core_js_modules_es_symbol_match_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_match_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_symbol_replace_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.symbol.replace.js */ "./node_modules/core-js/modules/es.symbol.replace.js");
/* harmony import */ var core_js_modules_es_symbol_replace_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_replace_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_symbol_search_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.symbol.search.js */ "./node_modules/core-js/modules/es.symbol.search.js");
/* harmony import */ var core_js_modules_es_symbol_search_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_search_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_symbol_species_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.symbol.species.js */ "./node_modules/core-js/modules/es.symbol.species.js");
/* harmony import */ var core_js_modules_es_symbol_species_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_species_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_symbol_split_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.symbol.split.js */ "./node_modules/core-js/modules/es.symbol.split.js");
/* harmony import */ var core_js_modules_es_symbol_split_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_split_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_symbol_to_primitive_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ "./node_modules/core-js/modules/es.symbol.to-primitive.js");
/* harmony import */ var core_js_modules_es_symbol_to_primitive_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_to_primitive_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.symbol.to-string-tag.js */ "./node_modules/core-js/modules/es.symbol.to-string-tag.js");
/* harmony import */ var core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_symbol_unscopables_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/es.symbol.unscopables.js */ "./node_modules/core-js/modules/es.symbol.unscopables.js");
/* harmony import */ var core_js_modules_es_symbol_unscopables_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_unscopables_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "./node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_array_copy_within_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! core-js/modules/es.array.copy-within.js */ "./node_modules/core-js/modules/es.array.copy-within.js");
/* harmony import */ var core_js_modules_es_array_copy_within_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_copy_within_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! core-js/modules/es.array.fill.js */ "./node_modules/core-js/modules/es.array.fill.js");
/* harmony import */ var core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ "./node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! core-js/modules/es.array.find.js */ "./node_modules/core-js/modules/es.array.find.js");
/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! core-js/modules/es.array.find-index.js */ "./node_modules/core-js/modules/es.array.find-index.js");
/* harmony import */ var core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var core_js_modules_es_array_flat_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! core-js/modules/es.array.flat.js */ "./node_modules/core-js/modules/es.array.flat.js");
/* harmony import */ var core_js_modules_es_array_flat_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_flat_js__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var core_js_modules_es_array_flat_map_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! core-js/modules/es.array.flat-map.js */ "./node_modules/core-js/modules/es.array.flat-map.js");
/* harmony import */ var core_js_modules_es_array_flat_map_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_flat_map_js__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! core-js/modules/es.array.from.js */ "./node_modules/core-js/modules/es.array.from.js");
/* harmony import */ var core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! core-js/modules/es.array.includes.js */ "./node_modules/core-js/modules/es.array.includes.js");
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "./node_modules/core-js/modules/es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! core-js/modules/es.array.join.js */ "./node_modules/core-js/modules/es.array.join.js");
/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! core-js/modules/es.array.map.js */ "./node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var core_js_modules_es_array_of_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! core-js/modules/es.array.of.js */ "./node_modules/core-js/modules/es.array.of.js");
/* harmony import */ var core_js_modules_es_array_of_js__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_of_js__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "./node_modules/core-js/modules/es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! core-js/modules/es.array.sort.js */ "./node_modules/core-js/modules/es.array.sort.js");
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var core_js_modules_es_array_species_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! core-js/modules/es.array.species.js */ "./node_modules/core-js/modules/es.array.species.js");
/* harmony import */ var core_js_modules_es_array_species_js__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_species_js__WEBPACK_IMPORTED_MODULE_30__);
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! core-js/modules/es.array.splice.js */ "./node_modules/core-js/modules/es.array.splice.js");
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_31__);
/* harmony import */ var core_js_modules_es_array_unscopables_flat_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! core-js/modules/es.array.unscopables.flat.js */ "./node_modules/core-js/modules/es.array.unscopables.flat.js");
/* harmony import */ var core_js_modules_es_array_unscopables_flat_js__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_unscopables_flat_js__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var core_js_modules_es_array_unscopables_flat_map_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! core-js/modules/es.array.unscopables.flat-map.js */ "./node_modules/core-js/modules/es.array.unscopables.flat-map.js");
/* harmony import */ var core_js_modules_es_array_unscopables_flat_map_js__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_unscopables_flat_map_js__WEBPACK_IMPORTED_MODULE_33__);
/* harmony import */ var core_js_modules_es_array_buffer_constructor_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! core-js/modules/es.array-buffer.constructor.js */ "./node_modules/core-js/modules/es.array-buffer.constructor.js");
/* harmony import */ var core_js_modules_es_array_buffer_constructor_js__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_buffer_constructor_js__WEBPACK_IMPORTED_MODULE_34__);
/* harmony import */ var core_js_modules_es_date_to_primitive_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ "./node_modules/core-js/modules/es.date.to-primitive.js");
/* harmony import */ var core_js_modules_es_date_to_primitive_js__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_date_to_primitive_js__WEBPACK_IMPORTED_MODULE_35__);
/* harmony import */ var core_js_modules_es_function_has_instance_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! core-js/modules/es.function.has-instance.js */ "./node_modules/core-js/modules/es.function.has-instance.js");
/* harmony import */ var core_js_modules_es_function_has_instance_js__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_has_instance_js__WEBPACK_IMPORTED_MODULE_36__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "./node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_37__);
/* harmony import */ var core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! core-js/modules/es.json.to-string-tag.js */ "./node_modules/core-js/modules/es.json.to-string-tag.js");
/* harmony import */ var core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_38___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_38__);
/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! core-js/modules/es.map.js */ "./node_modules/core-js/modules/es.map.js");
/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_39___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_39__);
/* harmony import */ var core_js_modules_es_math_acosh_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! core-js/modules/es.math.acosh.js */ "./node_modules/core-js/modules/es.math.acosh.js");
/* harmony import */ var core_js_modules_es_math_acosh_js__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_acosh_js__WEBPACK_IMPORTED_MODULE_40__);
/* harmony import */ var core_js_modules_es_math_asinh_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! core-js/modules/es.math.asinh.js */ "./node_modules/core-js/modules/es.math.asinh.js");
/* harmony import */ var core_js_modules_es_math_asinh_js__WEBPACK_IMPORTED_MODULE_41___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_asinh_js__WEBPACK_IMPORTED_MODULE_41__);
/* harmony import */ var core_js_modules_es_math_atanh_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! core-js/modules/es.math.atanh.js */ "./node_modules/core-js/modules/es.math.atanh.js");
/* harmony import */ var core_js_modules_es_math_atanh_js__WEBPACK_IMPORTED_MODULE_42___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_atanh_js__WEBPACK_IMPORTED_MODULE_42__);
/* harmony import */ var core_js_modules_es_math_cbrt_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! core-js/modules/es.math.cbrt.js */ "./node_modules/core-js/modules/es.math.cbrt.js");
/* harmony import */ var core_js_modules_es_math_cbrt_js__WEBPACK_IMPORTED_MODULE_43___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_cbrt_js__WEBPACK_IMPORTED_MODULE_43__);
/* harmony import */ var core_js_modules_es_math_clz32_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! core-js/modules/es.math.clz32.js */ "./node_modules/core-js/modules/es.math.clz32.js");
/* harmony import */ var core_js_modules_es_math_clz32_js__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_clz32_js__WEBPACK_IMPORTED_MODULE_44__);
/* harmony import */ var core_js_modules_es_math_cosh_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! core-js/modules/es.math.cosh.js */ "./node_modules/core-js/modules/es.math.cosh.js");
/* harmony import */ var core_js_modules_es_math_cosh_js__WEBPACK_IMPORTED_MODULE_45___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_cosh_js__WEBPACK_IMPORTED_MODULE_45__);
/* harmony import */ var core_js_modules_es_math_expm1_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! core-js/modules/es.math.expm1.js */ "./node_modules/core-js/modules/es.math.expm1.js");
/* harmony import */ var core_js_modules_es_math_expm1_js__WEBPACK_IMPORTED_MODULE_46___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_expm1_js__WEBPACK_IMPORTED_MODULE_46__);
/* harmony import */ var core_js_modules_es_math_fround_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! core-js/modules/es.math.fround.js */ "./node_modules/core-js/modules/es.math.fround.js");
/* harmony import */ var core_js_modules_es_math_fround_js__WEBPACK_IMPORTED_MODULE_47___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_fround_js__WEBPACK_IMPORTED_MODULE_47__);
/* harmony import */ var core_js_modules_es_math_hypot_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! core-js/modules/es.math.hypot.js */ "./node_modules/core-js/modules/es.math.hypot.js");
/* harmony import */ var core_js_modules_es_math_hypot_js__WEBPACK_IMPORTED_MODULE_48___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_hypot_js__WEBPACK_IMPORTED_MODULE_48__);
/* harmony import */ var core_js_modules_es_math_imul_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! core-js/modules/es.math.imul.js */ "./node_modules/core-js/modules/es.math.imul.js");
/* harmony import */ var core_js_modules_es_math_imul_js__WEBPACK_IMPORTED_MODULE_49___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_imul_js__WEBPACK_IMPORTED_MODULE_49__);
/* harmony import */ var core_js_modules_es_math_log10_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! core-js/modules/es.math.log10.js */ "./node_modules/core-js/modules/es.math.log10.js");
/* harmony import */ var core_js_modules_es_math_log10_js__WEBPACK_IMPORTED_MODULE_50___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_log10_js__WEBPACK_IMPORTED_MODULE_50__);
/* harmony import */ var core_js_modules_es_math_log1p_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! core-js/modules/es.math.log1p.js */ "./node_modules/core-js/modules/es.math.log1p.js");
/* harmony import */ var core_js_modules_es_math_log1p_js__WEBPACK_IMPORTED_MODULE_51___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_log1p_js__WEBPACK_IMPORTED_MODULE_51__);
/* harmony import */ var core_js_modules_es_math_log2_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! core-js/modules/es.math.log2.js */ "./node_modules/core-js/modules/es.math.log2.js");
/* harmony import */ var core_js_modules_es_math_log2_js__WEBPACK_IMPORTED_MODULE_52___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_log2_js__WEBPACK_IMPORTED_MODULE_52__);
/* harmony import */ var core_js_modules_es_math_sign_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! core-js/modules/es.math.sign.js */ "./node_modules/core-js/modules/es.math.sign.js");
/* harmony import */ var core_js_modules_es_math_sign_js__WEBPACK_IMPORTED_MODULE_53___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_sign_js__WEBPACK_IMPORTED_MODULE_53__);
/* harmony import */ var core_js_modules_es_math_sinh_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! core-js/modules/es.math.sinh.js */ "./node_modules/core-js/modules/es.math.sinh.js");
/* harmony import */ var core_js_modules_es_math_sinh_js__WEBPACK_IMPORTED_MODULE_54___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_sinh_js__WEBPACK_IMPORTED_MODULE_54__);
/* harmony import */ var core_js_modules_es_math_tanh_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! core-js/modules/es.math.tanh.js */ "./node_modules/core-js/modules/es.math.tanh.js");
/* harmony import */ var core_js_modules_es_math_tanh_js__WEBPACK_IMPORTED_MODULE_55___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_tanh_js__WEBPACK_IMPORTED_MODULE_55__);
/* harmony import */ var core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! core-js/modules/es.math.to-string-tag.js */ "./node_modules/core-js/modules/es.math.to-string-tag.js");
/* harmony import */ var core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_56___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_56__);
/* harmony import */ var core_js_modules_es_math_trunc_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! core-js/modules/es.math.trunc.js */ "./node_modules/core-js/modules/es.math.trunc.js");
/* harmony import */ var core_js_modules_es_math_trunc_js__WEBPACK_IMPORTED_MODULE_57___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_trunc_js__WEBPACK_IMPORTED_MODULE_57__);
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "./node_modules/core-js/modules/es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_58___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_58__);
/* harmony import */ var core_js_modules_es_number_epsilon_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! core-js/modules/es.number.epsilon.js */ "./node_modules/core-js/modules/es.number.epsilon.js");
/* harmony import */ var core_js_modules_es_number_epsilon_js__WEBPACK_IMPORTED_MODULE_59___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_epsilon_js__WEBPACK_IMPORTED_MODULE_59__);
/* harmony import */ var core_js_modules_es_number_is_finite_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! core-js/modules/es.number.is-finite.js */ "./node_modules/core-js/modules/es.number.is-finite.js");
/* harmony import */ var core_js_modules_es_number_is_finite_js__WEBPACK_IMPORTED_MODULE_60___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_is_finite_js__WEBPACK_IMPORTED_MODULE_60__);
/* harmony import */ var core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! core-js/modules/es.number.is-integer.js */ "./node_modules/core-js/modules/es.number.is-integer.js");
/* harmony import */ var core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_61___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_61__);
/* harmony import */ var core_js_modules_es_number_is_nan_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! core-js/modules/es.number.is-nan.js */ "./node_modules/core-js/modules/es.number.is-nan.js");
/* harmony import */ var core_js_modules_es_number_is_nan_js__WEBPACK_IMPORTED_MODULE_62___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_is_nan_js__WEBPACK_IMPORTED_MODULE_62__);
/* harmony import */ var core_js_modules_es_number_is_safe_integer_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! core-js/modules/es.number.is-safe-integer.js */ "./node_modules/core-js/modules/es.number.is-safe-integer.js");
/* harmony import */ var core_js_modules_es_number_is_safe_integer_js__WEBPACK_IMPORTED_MODULE_63___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_is_safe_integer_js__WEBPACK_IMPORTED_MODULE_63__);
/* harmony import */ var core_js_modules_es_number_max_safe_integer_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! core-js/modules/es.number.max-safe-integer.js */ "./node_modules/core-js/modules/es.number.max-safe-integer.js");
/* harmony import */ var core_js_modules_es_number_max_safe_integer_js__WEBPACK_IMPORTED_MODULE_64___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_max_safe_integer_js__WEBPACK_IMPORTED_MODULE_64__);
/* harmony import */ var core_js_modules_es_number_min_safe_integer_js__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! core-js/modules/es.number.min-safe-integer.js */ "./node_modules/core-js/modules/es.number.min-safe-integer.js");
/* harmony import */ var core_js_modules_es_number_min_safe_integer_js__WEBPACK_IMPORTED_MODULE_65___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_min_safe_integer_js__WEBPACK_IMPORTED_MODULE_65__);
/* harmony import */ var core_js_modules_es_number_parse_float_js__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! core-js/modules/es.number.parse-float.js */ "./node_modules/core-js/modules/es.number.parse-float.js");
/* harmony import */ var core_js_modules_es_number_parse_float_js__WEBPACK_IMPORTED_MODULE_66___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_parse_float_js__WEBPACK_IMPORTED_MODULE_66__);
/* harmony import */ var core_js_modules_es_number_parse_int_js__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! core-js/modules/es.number.parse-int.js */ "./node_modules/core-js/modules/es.number.parse-int.js");
/* harmony import */ var core_js_modules_es_number_parse_int_js__WEBPACK_IMPORTED_MODULE_67___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_parse_int_js__WEBPACK_IMPORTED_MODULE_67__);
/* harmony import */ var core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! core-js/modules/es.number.to-fixed.js */ "./node_modules/core-js/modules/es.number.to-fixed.js");
/* harmony import */ var core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_68___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_68__);
/* harmony import */ var core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! core-js/modules/es.object.assign.js */ "./node_modules/core-js/modules/es.object.assign.js");
/* harmony import */ var core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_69___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_69__);
/* harmony import */ var core_js_modules_es_object_define_getter_js__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! core-js/modules/es.object.define-getter.js */ "./node_modules/core-js/modules/es.object.define-getter.js");
/* harmony import */ var core_js_modules_es_object_define_getter_js__WEBPACK_IMPORTED_MODULE_70___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_getter_js__WEBPACK_IMPORTED_MODULE_70__);
/* harmony import */ var core_js_modules_es_object_define_setter_js__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! core-js/modules/es.object.define-setter.js */ "./node_modules/core-js/modules/es.object.define-setter.js");
/* harmony import */ var core_js_modules_es_object_define_setter_js__WEBPACK_IMPORTED_MODULE_71___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_setter_js__WEBPACK_IMPORTED_MODULE_71__);
/* harmony import */ var core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! core-js/modules/es.object.entries.js */ "./node_modules/core-js/modules/es.object.entries.js");
/* harmony import */ var core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_72___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_72__);
/* harmony import */ var core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! core-js/modules/es.object.freeze.js */ "./node_modules/core-js/modules/es.object.freeze.js");
/* harmony import */ var core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_73___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_73__);
/* harmony import */ var core_js_modules_es_object_from_entries_js__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! core-js/modules/es.object.from-entries.js */ "./node_modules/core-js/modules/es.object.from-entries.js");
/* harmony import */ var core_js_modules_es_object_from_entries_js__WEBPACK_IMPORTED_MODULE_74___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_from_entries_js__WEBPACK_IMPORTED_MODULE_74__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_75___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_75__);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ "./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_76___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_76__);
/* harmony import */ var core_js_modules_es_object_get_own_property_names_js__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! core-js/modules/es.object.get-own-property-names.js */ "./node_modules/core-js/modules/es.object.get-own-property-names.js");
/* harmony import */ var core_js_modules_es_object_get_own_property_names_js__WEBPACK_IMPORTED_MODULE_77___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_names_js__WEBPACK_IMPORTED_MODULE_77__);
/* harmony import */ var core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ "./node_modules/core-js/modules/es.object.get-prototype-of.js");
/* harmony import */ var core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_78___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_78__);
/* harmony import */ var core_js_modules_es_object_is_js__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! core-js/modules/es.object.is.js */ "./node_modules/core-js/modules/es.object.is.js");
/* harmony import */ var core_js_modules_es_object_is_js__WEBPACK_IMPORTED_MODULE_79___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_is_js__WEBPACK_IMPORTED_MODULE_79__);
/* harmony import */ var core_js_modules_es_object_is_extensible_js__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! core-js/modules/es.object.is-extensible.js */ "./node_modules/core-js/modules/es.object.is-extensible.js");
/* harmony import */ var core_js_modules_es_object_is_extensible_js__WEBPACK_IMPORTED_MODULE_80___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_is_extensible_js__WEBPACK_IMPORTED_MODULE_80__);
/* harmony import */ var core_js_modules_es_object_is_frozen_js__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! core-js/modules/es.object.is-frozen.js */ "./node_modules/core-js/modules/es.object.is-frozen.js");
/* harmony import */ var core_js_modules_es_object_is_frozen_js__WEBPACK_IMPORTED_MODULE_81___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_is_frozen_js__WEBPACK_IMPORTED_MODULE_81__);
/* harmony import */ var core_js_modules_es_object_is_sealed_js__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! core-js/modules/es.object.is-sealed.js */ "./node_modules/core-js/modules/es.object.is-sealed.js");
/* harmony import */ var core_js_modules_es_object_is_sealed_js__WEBPACK_IMPORTED_MODULE_82___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_is_sealed_js__WEBPACK_IMPORTED_MODULE_82__);
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ "./node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_83___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_83__);
/* harmony import */ var core_js_modules_es_object_lookup_getter_js__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! core-js/modules/es.object.lookup-getter.js */ "./node_modules/core-js/modules/es.object.lookup-getter.js");
/* harmony import */ var core_js_modules_es_object_lookup_getter_js__WEBPACK_IMPORTED_MODULE_84___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_lookup_getter_js__WEBPACK_IMPORTED_MODULE_84__);
/* harmony import */ var core_js_modules_es_object_lookup_setter_js__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! core-js/modules/es.object.lookup-setter.js */ "./node_modules/core-js/modules/es.object.lookup-setter.js");
/* harmony import */ var core_js_modules_es_object_lookup_setter_js__WEBPACK_IMPORTED_MODULE_85___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_lookup_setter_js__WEBPACK_IMPORTED_MODULE_85__);
/* harmony import */ var core_js_modules_es_object_prevent_extensions_js__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! core-js/modules/es.object.prevent-extensions.js */ "./node_modules/core-js/modules/es.object.prevent-extensions.js");
/* harmony import */ var core_js_modules_es_object_prevent_extensions_js__WEBPACK_IMPORTED_MODULE_86___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_prevent_extensions_js__WEBPACK_IMPORTED_MODULE_86__);
/* harmony import */ var core_js_modules_es_object_seal_js__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! core-js/modules/es.object.seal.js */ "./node_modules/core-js/modules/es.object.seal.js");
/* harmony import */ var core_js_modules_es_object_seal_js__WEBPACK_IMPORTED_MODULE_87___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_seal_js__WEBPACK_IMPORTED_MODULE_87__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_88___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_88__);
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! core-js/modules/es.object.values.js */ "./node_modules/core-js/modules/es.object.values.js");
/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_89___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_89__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "./node_modules/core-js/modules/es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_90___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_90__);
/* harmony import */ var core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! core-js/modules/es.promise.finally.js */ "./node_modules/core-js/modules/es.promise.finally.js");
/* harmony import */ var core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_91___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_finally_js__WEBPACK_IMPORTED_MODULE_91__);
/* harmony import */ var core_js_modules_es_reflect_apply_js__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! core-js/modules/es.reflect.apply.js */ "./node_modules/core-js/modules/es.reflect.apply.js");
/* harmony import */ var core_js_modules_es_reflect_apply_js__WEBPACK_IMPORTED_MODULE_92___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_apply_js__WEBPACK_IMPORTED_MODULE_92__);
/* harmony import */ var core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! core-js/modules/es.reflect.construct.js */ "./node_modules/core-js/modules/es.reflect.construct.js");
/* harmony import */ var core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_93___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_93__);
/* harmony import */ var core_js_modules_es_reflect_define_property_js__WEBPACK_IMPORTED_MODULE_94__ = __webpack_require__(/*! core-js/modules/es.reflect.define-property.js */ "./node_modules/core-js/modules/es.reflect.define-property.js");
/* harmony import */ var core_js_modules_es_reflect_define_property_js__WEBPACK_IMPORTED_MODULE_94___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_define_property_js__WEBPACK_IMPORTED_MODULE_94__);
/* harmony import */ var core_js_modules_es_reflect_delete_property_js__WEBPACK_IMPORTED_MODULE_95__ = __webpack_require__(/*! core-js/modules/es.reflect.delete-property.js */ "./node_modules/core-js/modules/es.reflect.delete-property.js");
/* harmony import */ var core_js_modules_es_reflect_delete_property_js__WEBPACK_IMPORTED_MODULE_95___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_delete_property_js__WEBPACK_IMPORTED_MODULE_95__);
/* harmony import */ var core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_96__ = __webpack_require__(/*! core-js/modules/es.reflect.get.js */ "./node_modules/core-js/modules/es.reflect.get.js");
/* harmony import */ var core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_96___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_96__);
/* harmony import */ var core_js_modules_es_reflect_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_97__ = __webpack_require__(/*! core-js/modules/es.reflect.get-own-property-descriptor.js */ "./node_modules/core-js/modules/es.reflect.get-own-property-descriptor.js");
/* harmony import */ var core_js_modules_es_reflect_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_97___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_97__);
/* harmony import */ var core_js_modules_es_reflect_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_98__ = __webpack_require__(/*! core-js/modules/es.reflect.get-prototype-of.js */ "./node_modules/core-js/modules/es.reflect.get-prototype-of.js");
/* harmony import */ var core_js_modules_es_reflect_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_98___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_98__);
/* harmony import */ var core_js_modules_es_reflect_has_js__WEBPACK_IMPORTED_MODULE_99__ = __webpack_require__(/*! core-js/modules/es.reflect.has.js */ "./node_modules/core-js/modules/es.reflect.has.js");
/* harmony import */ var core_js_modules_es_reflect_has_js__WEBPACK_IMPORTED_MODULE_99___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_has_js__WEBPACK_IMPORTED_MODULE_99__);
/* harmony import */ var core_js_modules_es_reflect_is_extensible_js__WEBPACK_IMPORTED_MODULE_100__ = __webpack_require__(/*! core-js/modules/es.reflect.is-extensible.js */ "./node_modules/core-js/modules/es.reflect.is-extensible.js");
/* harmony import */ var core_js_modules_es_reflect_is_extensible_js__WEBPACK_IMPORTED_MODULE_100___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_is_extensible_js__WEBPACK_IMPORTED_MODULE_100__);
/* harmony import */ var core_js_modules_es_reflect_own_keys_js__WEBPACK_IMPORTED_MODULE_101__ = __webpack_require__(/*! core-js/modules/es.reflect.own-keys.js */ "./node_modules/core-js/modules/es.reflect.own-keys.js");
/* harmony import */ var core_js_modules_es_reflect_own_keys_js__WEBPACK_IMPORTED_MODULE_101___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_own_keys_js__WEBPACK_IMPORTED_MODULE_101__);
/* harmony import */ var core_js_modules_es_reflect_prevent_extensions_js__WEBPACK_IMPORTED_MODULE_102__ = __webpack_require__(/*! core-js/modules/es.reflect.prevent-extensions.js */ "./node_modules/core-js/modules/es.reflect.prevent-extensions.js");
/* harmony import */ var core_js_modules_es_reflect_prevent_extensions_js__WEBPACK_IMPORTED_MODULE_102___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_prevent_extensions_js__WEBPACK_IMPORTED_MODULE_102__);
/* harmony import */ var core_js_modules_es_reflect_set_js__WEBPACK_IMPORTED_MODULE_103__ = __webpack_require__(/*! core-js/modules/es.reflect.set.js */ "./node_modules/core-js/modules/es.reflect.set.js");
/* harmony import */ var core_js_modules_es_reflect_set_js__WEBPACK_IMPORTED_MODULE_103___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_set_js__WEBPACK_IMPORTED_MODULE_103__);
/* harmony import */ var core_js_modules_es_reflect_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_104__ = __webpack_require__(/*! core-js/modules/es.reflect.set-prototype-of.js */ "./node_modules/core-js/modules/es.reflect.set-prototype-of.js");
/* harmony import */ var core_js_modules_es_reflect_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_104___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_104__);
/* harmony import */ var core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_105__ = __webpack_require__(/*! core-js/modules/es.regexp.constructor.js */ "./node_modules/core-js/modules/es.regexp.constructor.js");
/* harmony import */ var core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_105___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_105__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_106__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_106___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_106__);
/* harmony import */ var core_js_modules_es_regexp_flags_js__WEBPACK_IMPORTED_MODULE_107__ = __webpack_require__(/*! core-js/modules/es.regexp.flags.js */ "./node_modules/core-js/modules/es.regexp.flags.js");
/* harmony import */ var core_js_modules_es_regexp_flags_js__WEBPACK_IMPORTED_MODULE_107___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_flags_js__WEBPACK_IMPORTED_MODULE_107__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_108__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ "./node_modules/core-js/modules/es.regexp.to-string.js");
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_108___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_108__);
/* harmony import */ var core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_109__ = __webpack_require__(/*! core-js/modules/es.set.js */ "./node_modules/core-js/modules/es.set.js");
/* harmony import */ var core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_109___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_109__);
/* harmony import */ var core_js_modules_es_string_code_point_at_js__WEBPACK_IMPORTED_MODULE_110__ = __webpack_require__(/*! core-js/modules/es.string.code-point-at.js */ "./node_modules/core-js/modules/es.string.code-point-at.js");
/* harmony import */ var core_js_modules_es_string_code_point_at_js__WEBPACK_IMPORTED_MODULE_110___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_code_point_at_js__WEBPACK_IMPORTED_MODULE_110__);
/* harmony import */ var core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_111__ = __webpack_require__(/*! core-js/modules/es.string.ends-with.js */ "./node_modules/core-js/modules/es.string.ends-with.js");
/* harmony import */ var core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_111___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_111__);
/* harmony import */ var core_js_modules_es_string_from_code_point_js__WEBPACK_IMPORTED_MODULE_112__ = __webpack_require__(/*! core-js/modules/es.string.from-code-point.js */ "./node_modules/core-js/modules/es.string.from-code-point.js");
/* harmony import */ var core_js_modules_es_string_from_code_point_js__WEBPACK_IMPORTED_MODULE_112___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_from_code_point_js__WEBPACK_IMPORTED_MODULE_112__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_113__ = __webpack_require__(/*! core-js/modules/es.string.includes.js */ "./node_modules/core-js/modules/es.string.includes.js");
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_113___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_113__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_114__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "./node_modules/core-js/modules/es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_114___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_114__);
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_115__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ "./node_modules/core-js/modules/es.string.match.js");
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_115___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_115__);
/* harmony import */ var core_js_modules_es_string_pad_end_js__WEBPACK_IMPORTED_MODULE_116__ = __webpack_require__(/*! core-js/modules/es.string.pad-end.js */ "./node_modules/core-js/modules/es.string.pad-end.js");
/* harmony import */ var core_js_modules_es_string_pad_end_js__WEBPACK_IMPORTED_MODULE_116___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_pad_end_js__WEBPACK_IMPORTED_MODULE_116__);
/* harmony import */ var core_js_modules_es_string_pad_start_js__WEBPACK_IMPORTED_MODULE_117__ = __webpack_require__(/*! core-js/modules/es.string.pad-start.js */ "./node_modules/core-js/modules/es.string.pad-start.js");
/* harmony import */ var core_js_modules_es_string_pad_start_js__WEBPACK_IMPORTED_MODULE_117___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_pad_start_js__WEBPACK_IMPORTED_MODULE_117__);
/* harmony import */ var core_js_modules_es_string_raw_js__WEBPACK_IMPORTED_MODULE_118__ = __webpack_require__(/*! core-js/modules/es.string.raw.js */ "./node_modules/core-js/modules/es.string.raw.js");
/* harmony import */ var core_js_modules_es_string_raw_js__WEBPACK_IMPORTED_MODULE_118___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_raw_js__WEBPACK_IMPORTED_MODULE_118__);
/* harmony import */ var core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_119__ = __webpack_require__(/*! core-js/modules/es.string.repeat.js */ "./node_modules/core-js/modules/es.string.repeat.js");
/* harmony import */ var core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_119___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_119__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_120__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ "./node_modules/core-js/modules/es.string.replace.js");
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_120___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_120__);
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_121__ = __webpack_require__(/*! core-js/modules/es.string.search.js */ "./node_modules/core-js/modules/es.string.search.js");
/* harmony import */ var core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_121___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_search_js__WEBPACK_IMPORTED_MODULE_121__);
/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_122__ = __webpack_require__(/*! core-js/modules/es.string.split.js */ "./node_modules/core-js/modules/es.string.split.js");
/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_122___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_122__);
/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_123__ = __webpack_require__(/*! core-js/modules/es.string.starts-with.js */ "./node_modules/core-js/modules/es.string.starts-with.js");
/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_123___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_123__);
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_124__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ "./node_modules/core-js/modules/es.string.trim.js");
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_124___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_124__);
/* harmony import */ var core_js_modules_es_string_trim_end_js__WEBPACK_IMPORTED_MODULE_125__ = __webpack_require__(/*! core-js/modules/es.string.trim-end.js */ "./node_modules/core-js/modules/es.string.trim-end.js");
/* harmony import */ var core_js_modules_es_string_trim_end_js__WEBPACK_IMPORTED_MODULE_125___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_end_js__WEBPACK_IMPORTED_MODULE_125__);
/* harmony import */ var core_js_modules_es_string_trim_start_js__WEBPACK_IMPORTED_MODULE_126__ = __webpack_require__(/*! core-js/modules/es.string.trim-start.js */ "./node_modules/core-js/modules/es.string.trim-start.js");
/* harmony import */ var core_js_modules_es_string_trim_start_js__WEBPACK_IMPORTED_MODULE_126___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_start_js__WEBPACK_IMPORTED_MODULE_126__);
/* harmony import */ var core_js_modules_es_string_anchor_js__WEBPACK_IMPORTED_MODULE_127__ = __webpack_require__(/*! core-js/modules/es.string.anchor.js */ "./node_modules/core-js/modules/es.string.anchor.js");
/* harmony import */ var core_js_modules_es_string_anchor_js__WEBPACK_IMPORTED_MODULE_127___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_anchor_js__WEBPACK_IMPORTED_MODULE_127__);
/* harmony import */ var core_js_modules_es_string_big_js__WEBPACK_IMPORTED_MODULE_128__ = __webpack_require__(/*! core-js/modules/es.string.big.js */ "./node_modules/core-js/modules/es.string.big.js");
/* harmony import */ var core_js_modules_es_string_big_js__WEBPACK_IMPORTED_MODULE_128___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_big_js__WEBPACK_IMPORTED_MODULE_128__);
/* harmony import */ var core_js_modules_es_string_blink_js__WEBPACK_IMPORTED_MODULE_129__ = __webpack_require__(/*! core-js/modules/es.string.blink.js */ "./node_modules/core-js/modules/es.string.blink.js");
/* harmony import */ var core_js_modules_es_string_blink_js__WEBPACK_IMPORTED_MODULE_129___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_blink_js__WEBPACK_IMPORTED_MODULE_129__);
/* harmony import */ var core_js_modules_es_string_bold_js__WEBPACK_IMPORTED_MODULE_130__ = __webpack_require__(/*! core-js/modules/es.string.bold.js */ "./node_modules/core-js/modules/es.string.bold.js");
/* harmony import */ var core_js_modules_es_string_bold_js__WEBPACK_IMPORTED_MODULE_130___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_bold_js__WEBPACK_IMPORTED_MODULE_130__);
/* harmony import */ var core_js_modules_es_string_fixed_js__WEBPACK_IMPORTED_MODULE_131__ = __webpack_require__(/*! core-js/modules/es.string.fixed.js */ "./node_modules/core-js/modules/es.string.fixed.js");
/* harmony import */ var core_js_modules_es_string_fixed_js__WEBPACK_IMPORTED_MODULE_131___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_fixed_js__WEBPACK_IMPORTED_MODULE_131__);
/* harmony import */ var core_js_modules_es_string_fontcolor_js__WEBPACK_IMPORTED_MODULE_132__ = __webpack_require__(/*! core-js/modules/es.string.fontcolor.js */ "./node_modules/core-js/modules/es.string.fontcolor.js");
/* harmony import */ var core_js_modules_es_string_fontcolor_js__WEBPACK_IMPORTED_MODULE_132___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_fontcolor_js__WEBPACK_IMPORTED_MODULE_132__);
/* harmony import */ var core_js_modules_es_string_fontsize_js__WEBPACK_IMPORTED_MODULE_133__ = __webpack_require__(/*! core-js/modules/es.string.fontsize.js */ "./node_modules/core-js/modules/es.string.fontsize.js");
/* harmony import */ var core_js_modules_es_string_fontsize_js__WEBPACK_IMPORTED_MODULE_133___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_fontsize_js__WEBPACK_IMPORTED_MODULE_133__);
/* harmony import */ var core_js_modules_es_string_italics_js__WEBPACK_IMPORTED_MODULE_134__ = __webpack_require__(/*! core-js/modules/es.string.italics.js */ "./node_modules/core-js/modules/es.string.italics.js");
/* harmony import */ var core_js_modules_es_string_italics_js__WEBPACK_IMPORTED_MODULE_134___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_italics_js__WEBPACK_IMPORTED_MODULE_134__);
/* harmony import */ var core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_135__ = __webpack_require__(/*! core-js/modules/es.string.link.js */ "./node_modules/core-js/modules/es.string.link.js");
/* harmony import */ var core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_135___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_135__);
/* harmony import */ var core_js_modules_es_string_small_js__WEBPACK_IMPORTED_MODULE_136__ = __webpack_require__(/*! core-js/modules/es.string.small.js */ "./node_modules/core-js/modules/es.string.small.js");
/* harmony import */ var core_js_modules_es_string_small_js__WEBPACK_IMPORTED_MODULE_136___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_small_js__WEBPACK_IMPORTED_MODULE_136__);
/* harmony import */ var core_js_modules_es_string_strike_js__WEBPACK_IMPORTED_MODULE_137__ = __webpack_require__(/*! core-js/modules/es.string.strike.js */ "./node_modules/core-js/modules/es.string.strike.js");
/* harmony import */ var core_js_modules_es_string_strike_js__WEBPACK_IMPORTED_MODULE_137___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_strike_js__WEBPACK_IMPORTED_MODULE_137__);
/* harmony import */ var core_js_modules_es_string_sub_js__WEBPACK_IMPORTED_MODULE_138__ = __webpack_require__(/*! core-js/modules/es.string.sub.js */ "./node_modules/core-js/modules/es.string.sub.js");
/* harmony import */ var core_js_modules_es_string_sub_js__WEBPACK_IMPORTED_MODULE_138___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_sub_js__WEBPACK_IMPORTED_MODULE_138__);
/* harmony import */ var core_js_modules_es_string_sup_js__WEBPACK_IMPORTED_MODULE_139__ = __webpack_require__(/*! core-js/modules/es.string.sup.js */ "./node_modules/core-js/modules/es.string.sup.js");
/* harmony import */ var core_js_modules_es_string_sup_js__WEBPACK_IMPORTED_MODULE_139___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_sup_js__WEBPACK_IMPORTED_MODULE_139__);
/* harmony import */ var core_js_modules_es_typed_array_float32_array_js__WEBPACK_IMPORTED_MODULE_140__ = __webpack_require__(/*! core-js/modules/es.typed-array.float32-array.js */ "./node_modules/core-js/modules/es.typed-array.float32-array.js");
/* harmony import */ var core_js_modules_es_typed_array_float32_array_js__WEBPACK_IMPORTED_MODULE_140___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_float32_array_js__WEBPACK_IMPORTED_MODULE_140__);
/* harmony import */ var core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_141__ = __webpack_require__(/*! core-js/modules/es.typed-array.float64-array.js */ "./node_modules/core-js/modules/es.typed-array.float64-array.js");
/* harmony import */ var core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_141___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_141__);
/* harmony import */ var core_js_modules_es_typed_array_int8_array_js__WEBPACK_IMPORTED_MODULE_142__ = __webpack_require__(/*! core-js/modules/es.typed-array.int8-array.js */ "./node_modules/core-js/modules/es.typed-array.int8-array.js");
/* harmony import */ var core_js_modules_es_typed_array_int8_array_js__WEBPACK_IMPORTED_MODULE_142___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_int8_array_js__WEBPACK_IMPORTED_MODULE_142__);
/* harmony import */ var core_js_modules_es_typed_array_int16_array_js__WEBPACK_IMPORTED_MODULE_143__ = __webpack_require__(/*! core-js/modules/es.typed-array.int16-array.js */ "./node_modules/core-js/modules/es.typed-array.int16-array.js");
/* harmony import */ var core_js_modules_es_typed_array_int16_array_js__WEBPACK_IMPORTED_MODULE_143___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_int16_array_js__WEBPACK_IMPORTED_MODULE_143__);
/* harmony import */ var core_js_modules_es_typed_array_int32_array_js__WEBPACK_IMPORTED_MODULE_144__ = __webpack_require__(/*! core-js/modules/es.typed-array.int32-array.js */ "./node_modules/core-js/modules/es.typed-array.int32-array.js");
/* harmony import */ var core_js_modules_es_typed_array_int32_array_js__WEBPACK_IMPORTED_MODULE_144___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_int32_array_js__WEBPACK_IMPORTED_MODULE_144__);
/* harmony import */ var core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_145__ = __webpack_require__(/*! core-js/modules/es.typed-array.uint8-array.js */ "./node_modules/core-js/modules/es.typed-array.uint8-array.js");
/* harmony import */ var core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_145___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_145__);
/* harmony import */ var core_js_modules_es_typed_array_uint8_clamped_array_js__WEBPACK_IMPORTED_MODULE_146__ = __webpack_require__(/*! core-js/modules/es.typed-array.uint8-clamped-array.js */ "./node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js");
/* harmony import */ var core_js_modules_es_typed_array_uint8_clamped_array_js__WEBPACK_IMPORTED_MODULE_146___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_uint8_clamped_array_js__WEBPACK_IMPORTED_MODULE_146__);
/* harmony import */ var core_js_modules_es_typed_array_uint16_array_js__WEBPACK_IMPORTED_MODULE_147__ = __webpack_require__(/*! core-js/modules/es.typed-array.uint16-array.js */ "./node_modules/core-js/modules/es.typed-array.uint16-array.js");
/* harmony import */ var core_js_modules_es_typed_array_uint16_array_js__WEBPACK_IMPORTED_MODULE_147___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_uint16_array_js__WEBPACK_IMPORTED_MODULE_147__);
/* harmony import */ var core_js_modules_es_typed_array_uint32_array_js__WEBPACK_IMPORTED_MODULE_148__ = __webpack_require__(/*! core-js/modules/es.typed-array.uint32-array.js */ "./node_modules/core-js/modules/es.typed-array.uint32-array.js");
/* harmony import */ var core_js_modules_es_typed_array_uint32_array_js__WEBPACK_IMPORTED_MODULE_148___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_uint32_array_js__WEBPACK_IMPORTED_MODULE_148__);
/* harmony import */ var core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_149__ = __webpack_require__(/*! core-js/modules/es.typed-array.copy-within.js */ "./node_modules/core-js/modules/es.typed-array.copy-within.js");
/* harmony import */ var core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_149___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_149__);
/* harmony import */ var core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_150__ = __webpack_require__(/*! core-js/modules/es.typed-array.every.js */ "./node_modules/core-js/modules/es.typed-array.every.js");
/* harmony import */ var core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_150___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_150__);
/* harmony import */ var core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_151__ = __webpack_require__(/*! core-js/modules/es.typed-array.fill.js */ "./node_modules/core-js/modules/es.typed-array.fill.js");
/* harmony import */ var core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_151___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_151__);
/* harmony import */ var core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_152__ = __webpack_require__(/*! core-js/modules/es.typed-array.filter.js */ "./node_modules/core-js/modules/es.typed-array.filter.js");
/* harmony import */ var core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_152___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_152__);
/* harmony import */ var core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_153__ = __webpack_require__(/*! core-js/modules/es.typed-array.find.js */ "./node_modules/core-js/modules/es.typed-array.find.js");
/* harmony import */ var core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_153___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_153__);
/* harmony import */ var core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_154__ = __webpack_require__(/*! core-js/modules/es.typed-array.find-index.js */ "./node_modules/core-js/modules/es.typed-array.find-index.js");
/* harmony import */ var core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_154___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_154__);
/* harmony import */ var core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_155__ = __webpack_require__(/*! core-js/modules/es.typed-array.for-each.js */ "./node_modules/core-js/modules/es.typed-array.for-each.js");
/* harmony import */ var core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_155___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_155__);
/* harmony import */ var core_js_modules_es_typed_array_from_js__WEBPACK_IMPORTED_MODULE_156__ = __webpack_require__(/*! core-js/modules/es.typed-array.from.js */ "./node_modules/core-js/modules/es.typed-array.from.js");
/* harmony import */ var core_js_modules_es_typed_array_from_js__WEBPACK_IMPORTED_MODULE_156___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_from_js__WEBPACK_IMPORTED_MODULE_156__);
/* harmony import */ var core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_157__ = __webpack_require__(/*! core-js/modules/es.typed-array.includes.js */ "./node_modules/core-js/modules/es.typed-array.includes.js");
/* harmony import */ var core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_157___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_157__);
/* harmony import */ var core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_158__ = __webpack_require__(/*! core-js/modules/es.typed-array.index-of.js */ "./node_modules/core-js/modules/es.typed-array.index-of.js");
/* harmony import */ var core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_158___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_158__);
/* harmony import */ var core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_159__ = __webpack_require__(/*! core-js/modules/es.typed-array.iterator.js */ "./node_modules/core-js/modules/es.typed-array.iterator.js");
/* harmony import */ var core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_159___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_159__);
/* harmony import */ var core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_160__ = __webpack_require__(/*! core-js/modules/es.typed-array.join.js */ "./node_modules/core-js/modules/es.typed-array.join.js");
/* harmony import */ var core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_160___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_160__);
/* harmony import */ var core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_161__ = __webpack_require__(/*! core-js/modules/es.typed-array.last-index-of.js */ "./node_modules/core-js/modules/es.typed-array.last-index-of.js");
/* harmony import */ var core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_161___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_161__);
/* harmony import */ var core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_162__ = __webpack_require__(/*! core-js/modules/es.typed-array.map.js */ "./node_modules/core-js/modules/es.typed-array.map.js");
/* harmony import */ var core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_162___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_162__);
/* harmony import */ var core_js_modules_es_typed_array_of_js__WEBPACK_IMPORTED_MODULE_163__ = __webpack_require__(/*! core-js/modules/es.typed-array.of.js */ "./node_modules/core-js/modules/es.typed-array.of.js");
/* harmony import */ var core_js_modules_es_typed_array_of_js__WEBPACK_IMPORTED_MODULE_163___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_of_js__WEBPACK_IMPORTED_MODULE_163__);
/* harmony import */ var core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_164__ = __webpack_require__(/*! core-js/modules/es.typed-array.reduce.js */ "./node_modules/core-js/modules/es.typed-array.reduce.js");
/* harmony import */ var core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_164___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_164__);
/* harmony import */ var core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_165__ = __webpack_require__(/*! core-js/modules/es.typed-array.reduce-right.js */ "./node_modules/core-js/modules/es.typed-array.reduce-right.js");
/* harmony import */ var core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_165___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_165__);
/* harmony import */ var core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_166__ = __webpack_require__(/*! core-js/modules/es.typed-array.reverse.js */ "./node_modules/core-js/modules/es.typed-array.reverse.js");
/* harmony import */ var core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_166___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_166__);
/* harmony import */ var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_167__ = __webpack_require__(/*! core-js/modules/es.typed-array.set.js */ "./node_modules/core-js/modules/es.typed-array.set.js");
/* harmony import */ var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_167___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_167__);
/* harmony import */ var core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_168__ = __webpack_require__(/*! core-js/modules/es.typed-array.slice.js */ "./node_modules/core-js/modules/es.typed-array.slice.js");
/* harmony import */ var core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_168___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_168__);
/* harmony import */ var core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_169__ = __webpack_require__(/*! core-js/modules/es.typed-array.some.js */ "./node_modules/core-js/modules/es.typed-array.some.js");
/* harmony import */ var core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_169___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_169__);
/* harmony import */ var core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_170__ = __webpack_require__(/*! core-js/modules/es.typed-array.sort.js */ "./node_modules/core-js/modules/es.typed-array.sort.js");
/* harmony import */ var core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_170___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_170__);
/* harmony import */ var core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_171__ = __webpack_require__(/*! core-js/modules/es.typed-array.subarray.js */ "./node_modules/core-js/modules/es.typed-array.subarray.js");
/* harmony import */ var core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_171___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_171__);
/* harmony import */ var core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_172__ = __webpack_require__(/*! core-js/modules/es.typed-array.to-locale-string.js */ "./node_modules/core-js/modules/es.typed-array.to-locale-string.js");
/* harmony import */ var core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_172___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_172__);
/* harmony import */ var core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_173__ = __webpack_require__(/*! core-js/modules/es.typed-array.to-string.js */ "./node_modules/core-js/modules/es.typed-array.to-string.js");
/* harmony import */ var core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_173___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_173__);
/* harmony import */ var core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_174__ = __webpack_require__(/*! core-js/modules/es.weak-map.js */ "./node_modules/core-js/modules/es.weak-map.js");
/* harmony import */ var core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_174___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_174__);
/* harmony import */ var core_js_modules_es_weak_set_js__WEBPACK_IMPORTED_MODULE_175__ = __webpack_require__(/*! core-js/modules/es.weak-set.js */ "./node_modules/core-js/modules/es.weak-set.js");
/* harmony import */ var core_js_modules_es_weak_set_js__WEBPACK_IMPORTED_MODULE_175___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_weak_set_js__WEBPACK_IMPORTED_MODULE_175__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_176__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_176___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_176__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_177__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_177___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_177__);
/* harmony import */ var core_js_modules_web_queue_microtask_js__WEBPACK_IMPORTED_MODULE_178__ = __webpack_require__(/*! core-js/modules/web.queue-microtask.js */ "./node_modules/core-js/modules/web.queue-microtask.js");
/* harmony import */ var core_js_modules_web_queue_microtask_js__WEBPACK_IMPORTED_MODULE_178___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_queue_microtask_js__WEBPACK_IMPORTED_MODULE_178__);
/* harmony import */ var core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_179__ = __webpack_require__(/*! core-js/modules/web.url.js */ "./node_modules/core-js/modules/web.url.js");
/* harmony import */ var core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_179___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_179__);
/* harmony import */ var core_js_modules_web_url_to_json_js__WEBPACK_IMPORTED_MODULE_180__ = __webpack_require__(/*! core-js/modules/web.url.to-json.js */ "./node_modules/core-js/modules/web.url.to-json.js");
/* harmony import */ var core_js_modules_web_url_to_json_js__WEBPACK_IMPORTED_MODULE_180___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_to_json_js__WEBPACK_IMPORTED_MODULE_180__);
/* harmony import */ var core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_181__ = __webpack_require__(/*! core-js/modules/web.url-search-params.js */ "./node_modules/core-js/modules/web.url-search-params.js");
/* harmony import */ var core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_181___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_181__);
/* harmony import */ var core_js_modules_esnext_global_this_js__WEBPACK_IMPORTED_MODULE_182__ = __webpack_require__(/*! core-js/modules/esnext.global-this.js */ "./node_modules/core-js/modules/esnext.global-this.js");
/* harmony import */ var core_js_modules_esnext_global_this_js__WEBPACK_IMPORTED_MODULE_182___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_global_this_js__WEBPACK_IMPORTED_MODULE_182__);
/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_183__ = __webpack_require__(/*! whatwg-fetch */ "./node_modules/whatwg-fetch/fetch.js");
/* harmony import */ var abortcontroller_polyfill_dist_polyfill_patch_fetch__WEBPACK_IMPORTED_MODULE_184__ = __webpack_require__(/*! abortcontroller-polyfill/dist/polyfill-patch-fetch */ "./node_modules/abortcontroller-polyfill/dist/polyfill-patch-fetch.js");
/* harmony import */ var abortcontroller_polyfill_dist_polyfill_patch_fetch__WEBPACK_IMPORTED_MODULE_184___default = /*#__PURE__*/__webpack_require__.n(abortcontroller_polyfill_dist_polyfill_patch_fetch__WEBPACK_IMPORTED_MODULE_184__);


























































































































































































// Fetch polyfill

// AbortController polyfill


// Event.composedPath
// Possibly normalize to add window to Safari's chain, as it does not?
(function (E, d, w) {
  if (!E.composedPath) {
    E.composedPath = function () {
      if (this.path) {
        return this.path;
      }
      var target = this.target;
      this.path = [];
      while (target.parentNode !== null) {
        this.path.push(target);
        target = target.parentNode;
      }
      this.path.push(d, w);
      return this.path;
    };
  }
})(Event.prototype, document, window);

/***/ }),

/***/ "./app/javascript/helpers/Chatra.ts":
/*!******************************************!*\
  !*** ./app/javascript/helpers/Chatra.ts ***!
  \******************************************/
/*! exports provided: ChatraInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChatraInstance", function() { return ChatraInstance; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./app/javascript/helpers/utils.tsx");

window.Chatra = function () {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }
  (window.Chatra.q = window.Chatra.q || []).push(arguments);
};
var ChatraInstance = {
  init: function init(id) {
    window.ChatraID = id;
    return Object(_utils__WEBPACK_IMPORTED_MODULE_0__["importExternal"])('https://call.chatra.io/chatra.js').then(function () {
      return window.Chatra;
    });
  },
  open: function open() {
    window.Chatra('show', true);
    window.Chatra('openChat', true);
  }
};


/***/ }),

/***/ "./app/javascript/helpers/EventsManager.ts":
/*!*************************************************!*\
  !*** ./app/javascript/helpers/EventsManager.ts ***!
  \*************************************************/
/*! exports provided: EventsManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventsManager", function() { return EventsManager; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);



var EventsManager = /*#__PURE__*/function () {
  function EventsManager() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, EventsManager);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "list", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "emitQueue", void 0);
    this.list = new Map();
    this.emitQueue = new Map();
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(EventsManager, [{
    key: "on",
    value: function on(event, callback) {
      this.list.has(event) || this.list.set(event, []);
      this.list.get(event).push(callback);
      return this;
    }
  }, {
    key: "off",
    value: function off(event, callback) {
      if (callback) {
        var cb = this.list.get(event).filter(function (cb) {
          return cb !== callback;
        });
        this.list.set(event, cb);
        return this;
      }
      this.list["delete"](event);
      return this;
    }
  }, {
    key: "cancelEmit",
    value: function cancelEmit(event) {
      var timers = this.emitQueue.get(event);
      if (timers) {
        timers.forEach(clearTimeout);
        this.emitQueue["delete"](event);
      }
      return this;
    }
  }, {
    key: "fire",
    value: function fire(event) {
      var _this = this;
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      this.list.has(event) && this.list.get(event).forEach(function (callback) {
        var timer = setTimeout(function () {
          // @ts-ignore
          callback.apply(void 0, args);
        }, 0);
        _this.emitQueue.has(event) || _this.emitQueue.set(event, []);
        _this.emitQueue.get(event).push(timer);
      });
    }
  }]);
  return EventsManager;
}();
;

/***/ }),

/***/ "./app/javascript/helpers/gtm.ts":
/*!***************************************!*\
  !*** ./app/javascript/helpers/gtm.ts ***!
  \***************************************/
/*! exports provided: gtm, plainGtm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gtm", function() { return gtm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "plainGtm", function() { return plainGtm; });
/* harmony import */ var react_gtm_module_custom_domain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-gtm-module-custom-domain */ "./node_modules/react-gtm-module-custom-domain/dist/index.js");
/* harmony import */ var react_gtm_module_custom_domain__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_gtm_module_custom_domain__WEBPACK_IMPORTED_MODULE_0__);

var plainGtm = function plainGtm(data) {
  react_gtm_module_custom_domain__WEBPACK_IMPORTED_MODULE_0___default.a.dataLayer({
    dataLayer: data
  });
};
var gtm = function gtm(dataEvent, data) {
  var eventName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'data_from_gtm';
  plainGtm({
    event: eventName,
    data_event: dataEvent,
    data_description: data || ''
  });
};


/***/ }),

/***/ "./app/javascript/helpers/hooks.ts":
/*!*****************************************!*\
  !*** ./app/javascript/helpers/hooks.ts ***!
  \*****************************************/
/*! exports provided: useWindowDimensions, useWindowHeight, useIsMobile, useIsTouch, useIsMobileSidebar, useParseGameId, useIsStoredGameSameWithRoute, useTariffs, useSuggestedCurrency, usePrevious, useLocalesLoaded, useApi */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useWindowDimensions", function() { return useWindowDimensions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useWindowHeight", function() { return useWindowHeight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useIsMobile", function() { return useIsMobile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useIsTouch", function() { return useIsTouch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useIsMobileSidebar", function() { return useIsMobileSidebar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useParseGameId", function() { return useParseGameId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useIsStoredGameSameWithRoute", function() { return useIsStoredGameSameWithRoute; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useTariffs", function() { return useTariffs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useSuggestedCurrency", function() { return useSuggestedCurrency; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "usePrevious", function() { return usePrevious; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useLocalesLoaded", function() { return useLocalesLoaded; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useApi", function() { return useApi; });
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _ky__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ky */ "./app/javascript/helpers/ky.ts");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _core_i18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/i18n */ "./app/javascript/core/i18n.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var use_debounced_effect__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! use-debounced-effect */ "./node_modules/use-debounced-effect/lib/index.js");
/* harmony import */ var use_debounced_effect__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(use_debounced_effect__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _initialState__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./initialState */ "./app/javascript/helpers/initialState.ts");




function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }









function useWindowDimensions() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(window.innerWidth),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    width = _useState2[0],
    setWidth = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(window.innerHeight),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
    height = _useState4[0],
    setHeight = _useState4[1];
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    var checkHeightInterval;
    var updateSize = function updateSize() {
      setHeight(window.innerHeight);
      setWidth(window.innerWidth);
    };
    updateSize();
    window.addEventListener('resize', updateSize);
    checkHeightInterval = setInterval(function () {
      return setHeight(window.innerHeight);
    }, 100);
    return function () {
      window.removeEventListener('resize', updateSize);
      clearInterval(checkHeightInterval);
    };
  }, []);
  return [width, height];
}
function useWindowHeight() {
  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(window.innerHeight),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5, 2),
    height = _useState6[0],
    setHeight = _useState6[1];
  var updateSize = function updateSize() {
    return setHeight(window.innerHeight);
  };
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    window.addEventListener('resize', updateSize);
    return function () {
      return window.removeEventListener('resize', updateSize);
    };
  }, []);
  return height;
}
function useIsMobile() {
  var _useWindowDimensions = useWindowDimensions(),
    _useWindowDimensions2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useWindowDimensions, 1),
    windowWidth = _useWindowDimensions2[0];
  var is = function is() {
    return windowWidth <= 640;
  };
  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(is()),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState7, 2),
    flag = _useState8[0],
    setFlag = _useState8[1];
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    return setFlag(is());
  }, [windowWidth]);
  return flag;
}
function useIsTouch() {
  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(!!(typeof window !== 'undefined' && (
    //@ts-ignore
    'ontouchstart' in window || window.DocumentTouch && typeof document !== 'undefined' && document instanceof window.DocumentTouch)) || !!(typeof navigator !== 'undefined' && (navigator.maxTouchPoints || navigator.msMaxTouchPoints))),
    _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState9, 1),
    flag = _useState10[0];
  return flag;
}
function useIsMobileSidebar() {
  var _useWindowDimensions3 = useWindowDimensions(),
    _useWindowDimensions4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useWindowDimensions3, 1),
    windowWidth = _useWindowDimensions4[0];
  var is = function is() {
    return windowWidth <= 992;
  };
  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(is()),
    _useState12 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState11, 2),
    flag = _useState12[0],
    setFlag = _useState12[1];
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    return setFlag(is());
  }, [windowWidth]);
  return flag;
}
function useParseGameId() {
  var _useParams = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["useParams"])(),
    id = _useParams.id,
    _useState13 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(function () {
      //@ts-ignore
      if (id) window.game_id = id;
      return id;
    }),
    _useState14 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState13, 2),
    state = _useState14[0],
    setState = _useState14[1];
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    if (id) {
      //@ts-ignore
      window.game_id = id;
      setState(id);
    }
  }, [id]);
  return state;
}
function useIsStoredGameSameWithRoute() {
  var requestGameSlugOrId = useParseGameId(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_10__["getGame"]),
    gameStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_10__["getGameStatus"]),
    _useState15 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState16 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState15, 2),
    flag = _useState16[0],
    setFlag = _useState16[1];
  use_debounced_effect__WEBPACK_IMPORTED_MODULE_11___default()(function () {
    if (game && game.id && gameStatus == 'succeeded') {
      setFlag([game.id, game.slug].includes(requestGameSlugOrId));
    }
  }, {
    timeout: 0,
    ignoreInitialCall: false
  }, [requestGameSlugOrId, game.id, game.slug, gameStatus]);
  return flag;
}
var tariffsCache = {};
function useTariffs() {
  var _useSuggestedCurrency = useSuggestedCurrency(),
    suggestedCurrency = _useSuggestedCurrency.currency;
  var initialState = {
      status: 'idle',
      data: []
    },
    _useReducer = Object(react__WEBPACK_IMPORTED_MODULE_4__["useReducer"])(function (state, action) {
      switch (action.type) {
        case 'FETCHING':
          return _objectSpread(_objectSpread({}, initialState), {}, {
            status: 'fetching'
          });
        case 'FETCHED':
          return _objectSpread(_objectSpread({}, state), {}, {
            status: 'fetched'
          });
        case 'FETCHED_DATA':
          return _objectSpread(_objectSpread({}, state), {}, {
            data: action.payload
          });
        default:
          return state;
      }
    }, initialState),
    _useReducer2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useReducer, 2),
    state = _useReducer2[0],
    dispatch = _useReducer2[1];
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    if (Object.keys(tariffsCache).length) return dispatch({
      type: 'FETCHED_DATA',
      payload: tariffsCache
    });
    if (suggestedCurrency) {
      dispatch({
        type: 'FETCHING'
      });
      _ky__WEBPACK_IMPORTED_MODULE_5__["default"].get('prices').json().then(function (response) {
        var mappedPrices = {};
        response.map(function (item) {
          if (!mappedPrices[item.name]) mappedPrices[item.name] = {};
          if (suggestedCurrency == item.currency && item.payment_type == 'full') mappedPrices[item.name][item.payment_type] = item;
        });
        dispatch({
          type: 'FETCHED_DATA',
          payload: mappedPrices
        });
        tariffsCache = mappedPrices;
      })["finally"](function () {
        return dispatch({
          type: 'FETCHED'
        });
      });
    }
  }, [suggestedCurrency]);
  return {
    tariffs: state.data,
    isTariffsLoading: state.status == 'fetching'
  };
}
function useSuggestedCurrency() {
  var queryCurrency = new URLSearchParams(location.search).get('currency'),
    _useState17 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(queryCurrency ? queryCurrency : Object(_utils__WEBPACK_IMPORTED_MODULE_7__["getDomainZone"])() == 'ru' ? 'rub' : _initialState__WEBPACK_IMPORTED_MODULE_12__["initialState"].suggested_currency),
    _useState18 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState17, 2),
    currency = _useState18[0],
    setCurrency = _useState18[1],
    _useState19 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(''),
    _useState20 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState19, 2),
    formattedCurrency = _useState20[0],
    setFormattedCurrency = _useState20[1];
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    setFormattedCurrency(Object(_utils__WEBPACK_IMPORTED_MODULE_7__["formatCurrency"])(currency));
  }, [currency]);
  return {
    currency: currency,
    isCurrencyLoading: false,
    formattedCurrency: formattedCurrency
  };
}
function usePrevious(value) {
  var ref = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])();
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    ref.current = value;
  }, [value]);
  return ref.current;
}
function useLocalesLoaded() {
  var _useState21 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState22 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState21, 2),
    isLoaded = _useState22[0],
    setIsLoaded = _useState22[1];
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    var langLoadedEventDestroyer = Object(_core_i18n__WEBPACK_IMPORTED_MODULE_8__["onLanguageLoaded"])(function () {
      return setIsLoaded(true);
    });
    return function () {
      return langLoadedEventDestroyer();
    };
  }, []);
  return {
    localesLoaded: isLoaded
  };
}
function useApi(kyRequest) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var _useState23 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])({}),
    _useState24 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState23, 2),
    data = _useState24[0],
    setData = _useState24[1],
    _useState25 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(''),
    _useState26 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState25, 2),
    error = _useState26[0],
    setError = _useState26[1],
    _useState27 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState28 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState27, 2),
    isLoading = _useState28[0],
    setIsLoadingState = _useState28[1],
    abortController = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(null),
    isLoadingRef = Object(react__WEBPACK_IMPORTED_MODULE_4__["useRef"])(false),
    setIsLoading = function setIsLoading(flag) {
      setIsLoadingState(flag);
      isLoadingRef.current = flag;
    },
    request = /*#__PURE__*/function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee() {
        var _len,
          args,
          _key,
          _args = arguments;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                setIsLoading(true);
                abortController.current = new AbortController();
                for (_len = _args.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                  args[_key] = _args[_key];
                }
                return _context.abrupt("return", kyRequest.apply(null, args)({
                  signal: abortController.current.signal
                }).then(function (response) {
                  setData(response);
                  return response;
                })["catch"](function (e) {
                  options.infiniteLoading && setIsLoading(false);
                  setError(e.message || "Unexpected Error!");
                  if (options.throwExceptions) throw e;
                })["finally"](function () {
                  !options.infiniteLoading && setIsLoading(false);
                }));
              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));
      return function request() {
        return _ref.apply(this, arguments);
      };
    }();
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    options.callOnInit && request(options.callInitData || {});
    return function () {
      var _abortController$curr;
      (_abortController$curr = abortController.current) === null || _abortController$curr === void 0 ? void 0 : _abortController$curr.abort();
    };
  }, []);
  var abort = function abort() {
    var _abortController$curr2;
    (_abortController$curr2 = abortController.current) === null || _abortController$curr2 === void 0 ? void 0 : _abortController$curr2.abort();
  };
  var isLoadingActual = function isLoadingActual() {
    return isLoadingRef.current;
  };
  return {
    data: data,
    error: error,
    isLoading: isLoading,
    isLoadingActual: isLoadingActual,
    request: request,
    setIsLoading: setIsLoading,
    cancel: abort
  };
}

/***/ }),

/***/ "./app/javascript/helpers/initialState.ts":
/*!************************************************!*\
  !*** ./app/javascript/helpers/initialState.ts ***!
  \************************************************/
/*! exports provided: initialState, setInitialState, isForeignEnv, isRuEnv */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialState", function() { return initialState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setInitialState", function() { return setInitialState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isForeignEnv", function() { return isForeignEnv; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isRuEnv", function() { return isRuEnv; });
var initialState = window.__STATE__;
var isForeignEnv = function isForeignEnv() {
  return initialState.region != 'rus';
};
var isRuEnv = function isRuEnv() {
  return initialState.region == 'rus';
};
var setInitialState = function setInitialState(state) {
  initialState = window.__STATE__ = state;
};


/***/ }),

/***/ "./app/javascript/helpers/ky.ts":
/*!**************************************!*\
  !*** ./app/javascript/helpers/ky.ts ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ky__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ky */ "./node_modules/ky/distribution/index.js");
/* harmony import */ var _toastify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toastify */ "./app/javascript/helpers/toastify.tsx");




/* harmony default export */ __webpack_exports__["default"] = (ky__WEBPACK_IMPORTED_MODULE_2__["default"].create({
  timeout: 60 * 1000,
  prefixUrl: "https://vs.mysanta-dev.xyz" || false,
  throwHttpErrors: false,
  headers: {
    'Accept': 'application/json',
    'X-Requested-With': 'XMLHttpRequest'
  },
  hooks: {
    beforeRequest: [function (request) {
      var authToken = localStorage.getItem('auth_token');
      authToken && request.headers.set('Authorization', authToken);
    }],
    afterResponse: [/*#__PURE__*/function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(_request, _options, response) {
        var jsonResponse, errorResponse;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return response.json()["catch"](function () {});
              case 2:
                jsonResponse = _context.sent;
                if (jsonResponse && jsonResponse.mobile_authentication_token) localStorage.setItem('auth_token', jsonResponse.mobile_authentication_token);
                if (!(!response.ok && response.status != 404)) {
                  _context.next = 11;
                  break;
                }
                errorResponse = false;
                _context.next = 8;
                return response.json()["catch"](function () {
                  return errorResponse = true;
                });
              case 8:
                if (!errorResponse) {
                  _context.next = 11;
                  break;
                }
                _toastify__WEBPACK_IMPORTED_MODULE_3__["toastify"].error("\u0427\u0442\u043E-\u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A: <br /> ".concat(response.status, " ").concat(response.statusText));
                return _context.abrupt("return", new Response('[]'));
              case 11:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));
      return function (_x, _x2, _x3) {
        return _ref.apply(this, arguments);
      };
    }()]
  }
}));

/***/ }),

/***/ "./app/javascript/helpers/snow.ts":
/*!****************************************!*\
  !*** ./app/javascript/helpers/snow.ts ***!
  \****************************************/
/*! exports provided: Snow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Snow", function() { return Snow; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);





var SnowItem = /*#__PURE__*/function () {
  function SnowItem(canvas, ctx, options) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, SnowItem);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "canvas", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "ctx", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "params", void 0);
    var radius = options.radius,
      speed = options.speed,
      wind = options.wind,
      color = options.color;
    this.params = {
      color: color,
      x: Object(lodash__WEBPACK_IMPORTED_MODULE_4__["random"])(0, canvas.offsetWidth),
      y: Object(lodash__WEBPACK_IMPORTED_MODULE_4__["random"])(-canvas.offsetHeight, 0),
      radius: lodash__WEBPACK_IMPORTED_MODULE_4__["random"].apply(void 0, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(radius)),
      speed: lodash__WEBPACK_IMPORTED_MODULE_4__["random"].apply(void 0, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(speed)),
      wind: lodash__WEBPACK_IMPORTED_MODULE_4__["random"].apply(void 0, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(wind)),
      isResized: false
    };
    this.canvas = canvas;
    this.ctx = ctx;
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(SnowItem, [{
    key: "updateData",
    value: function updateData() {
      this.params.x = Object(lodash__WEBPACK_IMPORTED_MODULE_4__["random"])(0, this.canvas.offsetWidth);
      this.params.y = Object(lodash__WEBPACK_IMPORTED_MODULE_4__["random"])(-this.canvas.offsetHeight, 0);
    }
  }, {
    key: "translate",
    value: function translate() {
      this.params.y += this.params.speed;
      this.params.x += this.params.wind;
    }
  }, {
    key: "onDown",
    value: function onDown() {
      if (this.params.y < this.canvas.offsetHeight) return;
      if (this.params.isResized) {
        this.updateData();
        this.params.isResized = false;
      } else {
        this.params.y = 0;
        this.params.x = Object(lodash__WEBPACK_IMPORTED_MODULE_4__["random"])(0, this.canvas.offsetWidth);
      }
    }
  }, {
    key: "resized",
    value: function resized() {
      this.params.isResized = true;
    }
  }, {
    key: "draw",
    value: function draw() {
      this.ctx.beginPath();
      this.ctx.arc(this.params.x, this.params.y, this.params.radius, 0, 2 * Math.PI);
      this.ctx.fillStyle = this.params.color;
      this.ctx.fill();
      this.ctx.closePath();
    }
  }, {
    key: "update",
    value: function update() {
      this.translate();
      this.onDown();
    }
  }]);
  return SnowItem;
}();
var Snow = /*#__PURE__*/function () {
  function Snow(canvas, count) {
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Snow);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "canvas", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "ctx", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "snowFlakes", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "options", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "countSnowFlakes", void 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this, "defaultOptions", {
      color: 'white',
      radius: [0.5, 3.0],
      speed: [1, 3],
      wind: [-0.5, 3.0]
    });
    this.countSnowFlakes = count;
    this.options = Object.assign({}, this.defaultOptions, options);
    this.canvas = canvas;
    this.ctx = canvas.getContext('2d');
    this.snowFlakes = [];
    this.init();
    this.resize();
  }
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Snow, [{
    key: "add",
    value: function add(item) {
      this.snowFlakes.push(item);
    }
  }, {
    key: "update",
    value: function update() {
      this.snowFlakes.forEach(function (el) {
        return el.update();
      });
    }
  }, {
    key: "resize",
    value: function resize() {
      this.ctx.canvas.width = this.canvas.offsetWidth;
      this.ctx.canvas.height = this.canvas.offsetHeight;
      this.snowFlakes.forEach(function (el) {
        return el.resized();
      });
    }
  }, {
    key: "draw",
    value: function draw() {
      this.ctx.clearRect(0, 0, this.canvas.offsetWidth, this.canvas.offsetHeight);
      this.snowFlakes.forEach(function (el) {
        return el.draw();
      });
    }
  }, {
    key: "events",
    value: function events() {
      window.addEventListener('resize', this.resize.bind(this));
    }
  }, {
    key: "loop",
    value: function loop() {
      this.draw();
      this.update();
      window.requestAnimationFrame(this.loop.bind(this));
    }
  }, {
    key: "init",
    value: function init() {
      var _this = this;
      Object(lodash__WEBPACK_IMPORTED_MODULE_4__["times"])(this.countSnowFlakes, function () {
        return _this.add(new SnowItem(_this.canvas, _this.ctx, _this.options));
      });
      this.events();
      this.loop();
    }
  }]);
  return Snow;
}();


/***/ }),

/***/ "./app/javascript/helpers/toastify.tsx":
/*!*********************************************!*\
  !*** ./app/javascript/helpers/toastify.tsx ***!
  \*********************************************/
/*! exports provided: toastify, defaultOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toastify", function() { return toastify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultOptions", function() { return defaultOptions; });
/* harmony import */ var react_toastify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-toastify */ "./node_modules/react-toastify/dist/react-toastify.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var defaultOptions = {
  position: "top-right",
  autoClose: 5000,
  hideProgressBar: true,
  closeOnClick: true,
  pauseOnHover: true,
  pauseOnFocusLoss: false,
  draggable: true,
  transition: react_toastify__WEBPACK_IMPORTED_MODULE_0__["Flip"],
  icon: false
};
var toastify = {
  call: function call(msg, type) {
    react_toastify__WEBPACK_IMPORTED_MODULE_0__["toast"][type]( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      dangerouslySetInnerHTML: {
        __html: msg
      }
    }), defaultOptions);
  },
  error: function error(msg) {
    this.call(msg, 'error');
  },
  success: function success(msg) {
    this.call(msg, 'success');
  }
};


/***/ }),

/***/ "./app/javascript/helpers/utils.tsx":
/*!******************************************!*\
  !*** ./app/javascript/helpers/utils.tsx ***!
  \******************************************/
/*! exports provided: formatDate, formatCurrency, getCSRFToken, assignExistingProperties, removeEmpty, editDate, importExternal, formatMoney, formatDateCustomFormat, convertCustomDateStringToDate, getEnv, callFunctionAtEndOfEl, trailingZero, nl2br, isDevelopmentEnv, isProductionEnv, truncateText, copyToClipboard, isMatchDateFormat, getDomainZone, bodyScrollLock, scrollToEl, importAll, createDate, diffArrayOfObjects, activeStorageUpload, fillArray, isValidUUID, addTrailingSlash, removeTrailingSlash, objectToFormData, url, openSupport, isLocalEmail, generateRandom, getTimestamp, generateRefData, deleteRefStorage, catchRefData, mergeDeep, uppercaseFirstLetter, isCordova, isServerUse, isSupportNativeShare, nativeShare */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDate", function() { return formatDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatCurrency", function() { return formatCurrency; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCSRFToken", function() { return getCSRFToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "assignExistingProperties", function() { return assignExistingProperties; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeEmpty", function() { return removeEmpty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "editDate", function() { return editDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "importExternal", function() { return importExternal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatMoney", function() { return formatMoney; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDateCustomFormat", function() { return formatDateCustomFormat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "convertCustomDateStringToDate", function() { return convertCustomDateStringToDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getEnv", function() { return getEnv; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "callFunctionAtEndOfEl", function() { return callFunctionAtEndOfEl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trailingZero", function() { return trailingZero; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nl2br", function() { return nl2br; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDevelopmentEnv", function() { return isDevelopmentEnv; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isProductionEnv", function() { return isProductionEnv; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "truncateText", function() { return truncateText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "copyToClipboard", function() { return copyToClipboard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMatchDateFormat", function() { return isMatchDateFormat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDomainZone", function() { return getDomainZone; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bodyScrollLock", function() { return bodyScrollLock; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scrollToEl", function() { return scrollToEl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "importAll", function() { return importAll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createDate", function() { return createDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "diffArrayOfObjects", function() { return diffArrayOfObjects; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "activeStorageUpload", function() { return activeStorageUpload; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fillArray", function() { return fillArray; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isValidUUID", function() { return isValidUUID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addTrailingSlash", function() { return addTrailingSlash; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeTrailingSlash", function() { return removeTrailingSlash; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "objectToFormData", function() { return objectToFormData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "url", function() { return url; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openSupport", function() { return openSupport; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isLocalEmail", function() { return isLocalEmail; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateRandom", function() { return generateRandom; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTimestamp", function() { return getTimestamp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateRefData", function() { return generateRefData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteRefStorage", function() { return deleteRefStorage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "catchRefData", function() { return catchRefData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeDeep", function() { return mergeDeep; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uppercaseFirstLetter", function() { return uppercaseFirstLetter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isCordova", function() { return isCordova; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isServerUse", function() { return isServerUse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSupportNativeShare", function() { return isSupportNativeShare; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nativeShare", function() { return nativeShare; });
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_Placeholders__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Placeholders */ "./app/javascript/components/Placeholders.tsx");
/* harmony import */ var _initialState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _Chatra__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Chatra */ "./app/javascript/helpers/Chatra.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/constants */ "./app/javascript/core/constants.ts");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }





var assignExistingProperties = function assignExistingProperties(target, additional) {
  var targetCopy = Object.assign({}, target);
  var _loop = function _loop(i) {
    if (Array.isArray(targetCopy)) {
      targetCopy.forEach(function (arr) {
        arr.hasOwnProperty(i) && (arr[i] = additional[i]);
      });
    } else targetCopy.hasOwnProperty(i) && (targetCopy[i] = additional[i]);
  };
  for (var i in additional) {
    _loop(i);
  }
  return targetCopy;
};
var removeEmpty = function removeEmpty(obj) {
  var clone = _objectSpread({}, obj);
  Object.entries(clone).forEach(function (_ref) {
    var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref, 2),
      key = _ref2[0],
      val = _ref2[1];
    return val && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(val) === 'object' && removeEmpty(val) || (val === null || val === "") && delete clone[key];
  });
  return clone;
};
var formatDate = function formatDate(datePayload, t) {
  var dt = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(datePayload) == 'object' ? datePayload : new Date(datePayload);
  var months = t('months_genitive', {
    returnObjects: true
  });
  return !months.length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Placeholders__WEBPACK_IMPORTED_MODULE_4__["PlaceholderText"], null) : dt.getDate() + ' ' + months[dt.getMonth()];
};
var formatCurrency = function formatCurrency(curr) {
  return Object(_core_constants__WEBPACK_IMPORTED_MODULE_7__["CURRENCIES"])()[curr];
};
var getCSRFToken = function getCSRFToken() {
  var csrfTokenMeta = document.head.querySelector("meta[name=csrf-token]");
  return csrfTokenMeta ? csrfTokenMeta.getAttribute('content') : false;
};
var editDate = function editDate(daysDiff, dt) {
  return new Date(((dt === null || dt === void 0 ? void 0 : dt.getTime()) || Date.now()) + daysDiff * 60 * 60 * 24 * 1000);
};
var importExternal = function importExternal(url) {
  return new Promise(function (resolve, reject) {
    var scriptId = url.replace(/[^\d\w]+/ig, '');
    if (document.getElementById(scriptId)) resolve();else {
      var script = document.createElement('script');
      script.src = url;
      script.async = true;
      script.onload = function () {
        return resolve();
      };
      script.onerror = reject;
      script.id = scriptId;
      document.body.appendChild(script);
    }
  });
};
var formatMoney = function formatMoney(x) {
  return x ? x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ") : 0;
};
var trailingZero = function trailingZero(num) {
  return ((parseInt(num) || 0) <= 9 ? '0' : '') + (parseInt(num) || 0);
};
var formatDateCustomFormat = function formatDateCustomFormat(payload) {
  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'dd.mm.yyyy';
  if (!payload || !format || typeof format !== 'string') return '';
  if (!(payload instanceof Date)) payload = new Date(payload);
  var _ref3 = [format.match(/d+/)[0], format.match(/m+/)[0], format.match(/y+/)[0]],
    dayFormat = _ref3[0],
    monthFormat = _ref3[1],
    yearFormat = _ref3[2];
  var day = trailingZero(payload.getDate());
  var month = trailingZero(payload.getMonth() + 1);
  var year = payload.getFullYear() + '';
  return format.replace(/d+/, day.substr(-dayFormat.length)).replace(/m+/, month.substr(-monthFormat.length)).replace(/y+/, year.substr(-yearFormat.length));
};
var convertCustomDateStringToDate = function convertCustomDateStringToDate(payload) {
  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'dd.mm.yyyy';
  if (!payload || !format) return new Date();
  var _ref4 = [format.match(/d+/)[0], format.match(/m+/)[0], format.match(/y+/)[0]],
    dayFormat = _ref4[0],
    monthFormat = _ref4[1],
    yearFormat = _ref4[2];
  var _ref5 = [format.indexOf('d'), format.indexOf('m'), format.indexOf('y')],
    startIndexDay = _ref5[0],
    startIndexMonth = _ref5[1],
    startIndexYear = _ref5[2];
  var _ref6 = [payload.substr(startIndexDay, dayFormat.length), payload.substr(startIndexMonth, monthFormat.length), payload.substr(startIndexYear, yearFormat.length)],
    day = _ref6[0],
    month = _ref6[1],
    year = _ref6[2];
  return new Date("".concat(year, "-").concat(trailingZero(month), "-").concat(trailingZero(day), "T00:00:00"));
};
var isMatchDateFormat = function isMatchDateFormat(date) {
  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'dd.mm.yyyy';
  return date.match(new RegExp(format.replace(/[dmy]/g, '\\d').replace(/([\.\-\/])/g, '\\$1')));
};
var getEnv = function getEnv() {
  var env = "development" || false;
  return env || 'development';
};
var isDevelopmentEnv = function isDevelopmentEnv() {
  return getEnv() == 'development';
};
var isProductionEnv = function isProductionEnv() {
  return getEnv() == 'production';
};
var callFunctionAtEndOfEl = function callFunctionAtEndOfEl(el, func) {
  if (el && window.outerHeight >= el.getBoundingClientRect().top + el.scrollHeight) func();
};
var nl2br = function nl2br(str) {
  var splittedString = (str || '').split("\n");
  return splittedString.map(function (item, idx) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, {
      key: idx
    }, item, idx < splittedString.length - 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null));
  });
};
var truncateText = function truncateText(text, limit) {
  var ellipsis = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '...';
  return text.substr(0, limit) + (text.length > limit ? ellipsis : '');
};
var copyToClipboard = function copyToClipboard(text) {
  return new Promise(function (resolve, reject) {
    if (isCordova()) {
      cordova.plugins.clipboard.copy(text, resolve, reject);
    } else {
      var textArea = document.createElement("textarea");
      textArea.value = text;

      // Avoid scrolling to bottom
      textArea.style.opacity = textArea.style.top = textArea.style.left = textArea.style.width = textArea.style.height = "0";
      textArea.style.position = "fixed";
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      document.execCommand('copy') ? resolve() : reject();
      document.body.removeChild(textArea);
    }
  });
};
var getDomainZone = function getDomainZone() {
  var matches = location.host.match(/.+\.([\w]+)/);
  return matches ? matches[1] : null;
};
var bodyScrollLock = function bodyScrollLock() {
  var add = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  var body = document.querySelector('body');
  body && body.classList[add ? 'add' : 'remove']('scroll-lock');
};
var scrollToEl = function scrollToEl(el) {
  if (!el || !el.getBoundingClientRect) return;
  var elOffset = el.getBoundingClientRect().top,
    elHeight = el.getBoundingClientRect().height,
    windowHeight = window.innerHeight;
  var offset;
  offset = elOffset;
  window.scrollTo(0, offset);
  return false;
};
var importAll = function importAll(require) {
  return require.keys().reduce(function (acc, next) {
    acc[next.replace("./", "")] = require(next);
    return acc;
  }, {});
};
var createDate = function createDate(dateString) {
  return new Date(dateString.indexOf('T') == -1 ? dateString.replace(/-/g, "/") : dateString);
};
var diffArrayOfObjects = function diffArrayOfObjects(arr1, arr2, diffKey) {
  return arr1.filter(function (item1) {
    return !arr2.some(function (item2) {
      return item2[diffKey] === item1[diffKey];
    });
  });
};
var activeStorageUpload = function activeStorageUpload(file) {
  return new Promise(function (resolve, reject) {
    __webpack_require__.e(/*! import() */ 12).then(__webpack_require__.t.bind(null, /*! @rails/activestorage */ "./node_modules/@rails/activestorage/app/assets/javascripts/activestorage.js", 7)).then(function (_ref7) {
      var DirectUpload = _ref7.DirectUpload;
      new DirectUpload(file, _initialState__WEBPACK_IMPORTED_MODULE_5__["initialState"].direct_uploads_url).create(function (error, blob) {
        !error ? resolve(blob) : reject(error);
      });
    });
  });
};
var fillArray = function fillArray(count, item) {
  return Array.from(Array(count).keys()).map(function (i) {
    return item;
  });
};
var isValidUUID = function isValidUUID(str) {
  return /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(str);
};
var addTrailingSlash = function addTrailingSlash(url) {
  return url.replace(/\/?$/, '/');
};
var removeTrailingSlash = function removeTrailingSlash(url) {
  return url.replace(/\/$/, "");
};
var objectToFormData = function objectToFormData(data) {
  var formData = new FormData();
  Object.entries(data).map(function (_ref8) {
    var _ref9 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref8, 2),
      key = _ref9[0],
      value = _ref9[1];
    formData.append(key, value);
  });
  return formData;
};
var url = function url(sub) {
  var isQuery = /^\?+/.test(sub);
  var urlHandleFunction = isQuery ? removeTrailingSlash : addTrailingSlash;
  return urlHandleFunction(_initialState__WEBPACK_IMPORTED_MODULE_5__["initialState"].host) + sub.replace(/^\//, '');
};
var openSupport = function openSupport(e) {
  e instanceof Event && e.preventDefault();
  _Chatra__WEBPACK_IMPORTED_MODULE_6__["ChatraInstance"].open();
};
var isLocalEmail = function isLocalEmail(email) {
  return /\.local$/i.test(email);
};
var generateRandom = function generateRandom(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min) + min);
};
var getTimestamp = function getTimestamp() {
  return Math.round(Date.now() / 1000);
};
var catchRefData = function catchRefData() {
  var queryParams = new URLSearchParams(window.location.search);
  if (queryParams.get('ref')) {
    localStorage.setItem('ref', JSON.stringify({
      ref: queryParams.get('ref'),
      created_at: Date.now()
    }));
  }
};
var generateRefData = function generateRefData() {
  var ref = JSON.parse(localStorage.getItem('ref'));
  return ref ? {
    ref: ref.ref,
    ref_created_at: new Date(ref.created_at).toString()
  } : null;
};
var deleteRefStorage = function deleteRefStorage() {
  localStorage.removeItem('ref');
};
var mergeDeep = function mergeDeep(target, source) {
  var isObject = function isObject(item) {
    return item && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(item) === 'object' && !Array.isArray(item);
  };
  var output = Object.assign({}, target);
  if (isObject(target) && isObject(source)) {
    Object.keys(source).forEach(function (key) {
      if (isObject(source[key])) {
        if (!(key in target)) Object.assign(output, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, key, source[key]));else output[key] = mergeDeep(target[key], source[key]);
      } else {
        Object.assign(output, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, key, source[key]));
      }
    });
  }
  return output;
};
var uppercaseFirstLetter = function uppercaseFirstLetter(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
};
var isCordova = function isCordova() {
  return window.hasOwnProperty("cordova");
};
var isServerUse = function isServerUse() {
  return /https?:/.test(document.location.protocol);
};
var isSupportNativeShare = function isSupportNativeShare() {
  return isCordova() || navigator.share;
};
var nativeShare = function nativeShare(url, title) {
  var description = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
  if (navigator.share) navigator.share({
    title: title,
    text: description,
    url: url
  });else if (isCordova()) window.plugins.socialsharing.shareWithOptions({
    message: description,
    subject: title,
    url: url
  });
};


/***/ }),

/***/ "./app/javascript/helpers/yupDefaultValidations.ts":
/*!*********************************************************!*\
  !*** ./app/javascript/helpers/yupDefaultValidations.ts ***!
  \*********************************************************/
/*! exports provided: ErrorMessages, requiredValidation, checkboxRequiredValidation, passwordValidation, passwordConfirmValidation, emailValidation, phoneValidation, urlValidation, domainValidation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorMessages", function() { return ErrorMessages; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "requiredValidation", function() { return requiredValidation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checkboxRequiredValidation", function() { return checkboxRequiredValidation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "passwordValidation", function() { return passwordValidation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "passwordConfirmValidation", function() { return passwordConfirmValidation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "emailValidation", function() { return emailValidation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "phoneValidation", function() { return phoneValidation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "urlValidation", function() { return urlValidation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "domainValidation", function() { return domainValidation; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _core_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../core/i18n */ "./app/javascript/core/i18n.tsx");



var ErrorMessages = {
  INVALID_EMAIL: function INVALID_EMAIL() {
    return _core_i18n__WEBPACK_IMPORTED_MODULE_2__["default"].t('form_invalid_email');
  },
  INVALID_URL: function INVALID_URL() {
    return _core_i18n__WEBPACK_IMPORTED_MODULE_2__["default"].t('form_invalid_url');
  },
  REQUIRED: function REQUIRED() {
    return _core_i18n__WEBPACK_IMPORTED_MODULE_2__["default"].t('form_required');
  }
};
yup__WEBPACK_IMPORTED_MODULE_1__["addMethod"](yup__WEBPACK_IMPORTED_MODULE_1__["string"], "realMin", function (limit, errorMessage) {
  return this.test("test-real-string-min-length", errorMessage, function (value) {
    var path = this.path,
      createError = this.createError;
    return value && _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(value).length >= limit || createError({
      path: path,
      message: errorMessage
    });
  });
});
yup__WEBPACK_IMPORTED_MODULE_1__["addMethod"](yup__WEBPACK_IMPORTED_MODULE_1__["string"], "realMax", function (limit, errorMessage) {
  return this.test("test-real-string-max-length", errorMessage, function (value) {
    var path = this.path,
      createError = this.createError;
    return value && _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(value).length <= limit || createError({
      path: path,
      message: errorMessage
    });
  });
});
var requiredValidation = yup__WEBPACK_IMPORTED_MODULE_1__["string"]().transform(function (value) {
  return value ? value.trim() : value;
}).required(ErrorMessages.REQUIRED);
var checkboxRequiredValidation = yup__WEBPACK_IMPORTED_MODULE_1__["bool"]().oneOf([true]);
var passwordValidation = yup__WEBPACK_IMPORTED_MODULE_1__["string"]().min(6, function () {
  return _core_i18n__WEBPACK_IMPORTED_MODULE_2__["default"].t('form_invalid_password', {
    min: 6
  });
}).required(ErrorMessages.REQUIRED);
var passwordConfirmValidation = yup__WEBPACK_IMPORTED_MODULE_1__["string"]().required(ErrorMessages.REQUIRED).oneOf([yup__WEBPACK_IMPORTED_MODULE_1__["ref"]('password'), null], function () {
  return _core_i18n__WEBPACK_IMPORTED_MODULE_2__["default"].t('form_passwords_must_same');
});
var emailValidation = requiredValidation.email(ErrorMessages.INVALID_EMAIL).test('has-nipigas-email', function () {
  return _core_i18n__WEBPACK_IMPORTED_MODULE_2__["default"].t('form_invalid_email_use_own_email');
}, function (v) {
  return !/(nipigas\.ru|novaenergies\.com)$/.test(v);
});
var phoneValidation = yup__WEBPACK_IMPORTED_MODULE_1__["string"]().min(5, function () {
  return _core_i18n__WEBPACK_IMPORTED_MODULE_2__["default"].t('form_invalid_phone');
}).max(15, function () {
  return _core_i18n__WEBPACK_IMPORTED_MODULE_2__["default"].t('form_invalid_phone');
});
var urlValidation = yup__WEBPACK_IMPORTED_MODULE_1__["string"]().transform(function (value) {
  return value.trim();
}).url(ErrorMessages.INVALID_URL);
var domainValidation = yup__WEBPACK_IMPORTED_MODULE_1__["string"]().test('is-domain', function () {
  return _core_i18n__WEBPACK_IMPORTED_MODULE_2__["default"].t('form_invalid_domain');
}, function (value) {
  return /[\w\d\-]+\.[\w]+$/i.test(value);
});


/***/ }),

/***/ "./app/javascript/layouts/GameLayout.tsx":
/*!***********************************************!*\
  !*** ./app/javascript/layouts/GameLayout.tsx ***!
  \***********************************************/
/*! exports provided: GameLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameLayout", function() { return GameLayout; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Inner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Inner */ "./app/javascript/layouts/Inner.tsx");
/* harmony import */ var _pages_Game_Components_Title__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../pages/Game/Components/Title */ "./app/javascript/pages/Game/Components/Title.tsx");



function GameLayout(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Inner__WEBPACK_IMPORTED_MODULE_1__["Inner"], null, props.title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_pages_Game_Components_Title__WEBPACK_IMPORTED_MODULE_2__["Title"], {
    title: props.title
  }), props.children);
}

/***/ }),

/***/ "./app/javascript/layouts/GameWrapper.tsx":
/*!************************************************!*\
  !*** ./app/javascript/layouts/GameWrapper.tsx ***!
  \************************************************/
/*! exports provided: GameWrapper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameWrapper", function() { return GameWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _pages_Game_Components_Title__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pages/Game/Components/Title */ "./app/javascript/pages/Game/Components/Title.tsx");
/* harmony import */ var _pages_Game_Components_GameHead__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../pages/Game/Components/GameHead */ "./app/javascript/pages/Game/Components/GameHead.tsx");



function GameWrapper(_ref) {
  var maxWidth = _ref.maxWidth,
    customWrapperMod = _ref.customWrapperMod,
    title = _ref.title,
    showHead = _ref.showHead,
    children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, showHead && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_pages_Game_Components_GameHead__WEBPACK_IMPORTED_MODULE_2__["GameHead"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: maxWidth ? {
      maxWidth: "".concat(maxWidth, "px")
    } : {},
    className: customWrapperMod || 'l-inner-wrapper l-inner-wrapper--v'
  }, title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_pages_Game_Components_Title__WEBPACK_IMPORTED_MODULE_1__["Title"], {
    title: title
  }), children));
}

/***/ }),

/***/ "./app/javascript/layouts/Inner.tsx":
/*!******************************************!*\
  !*** ./app/javascript/layouts/Inner.tsx ***!
  \******************************************/
/*! exports provided: InnerGroup, Inner */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InnerGroup", function() { return InnerGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Inner", function() { return Inner; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_Aside__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/Aside */ "./app/javascript/components/Aside/index.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var _components_CloseableAlert__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/CloseableAlert */ "./app/javascript/components/CloseableAlert.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _channels_PageProgressBar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../channels/PageProgressBar */ "./app/javascript/channels/PageProgressBar.tsx");











function CheckUserInfo() {
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_9__["getGame"]);
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useDispatch"])();
  var user = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["getAuthUser"]);
  var location = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["useLocation"])();

  // Save visited game id if user doesn't have info
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (user.info_was_given === false && game && game.id) dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["setTempGameId"])(game.id));
  }, []);
  return user.password_set === false ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Navigate"], {
    to: _routes__WEBPACK_IMPORTED_MODULE_5__["URLS"].AuthSetPassword
  }) : user.info_was_given === false && location.pathname != _routes__WEBPACK_IMPORTED_MODULE_5__["URLS"].UserEditInfo ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Navigate"], {
    to: _routes__WEBPACK_IMPORTED_MODULE_5__["URLS"].UserEditInfo
  }) : null;
}
function InnerGroup(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "p-inner__button"
  }, children);
}
function Inner(props) {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_8__["useTranslation"])(),
    t = _useTranslation.t;
  var aside = props.aside,
    children = props.children;
  var authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["getAuthUser"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_channels_PageProgressBar__WEBPACK_IMPORTED_MODULE_10__["PageProgressBar"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_6__["PageTitle"], {
    title: props.title
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CheckUserInfo, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "l-inner p-inner"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", {
    className: "l-inner__aside"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Aside__WEBPACK_IMPORTED_MODULE_1__["Aside"], null, aside)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
    className: "l-inner__main"
  }, authUser.id && authUser.confirmed_email === false && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CloseableAlert__WEBPACK_IMPORTED_MODULE_7__["CloseableAlert"], {
    name: "email_not_confirmed"
  }, t('non_confirmed_email_message')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "l-inner__main-inn"
  }, children))));
}

/***/ }),

/***/ "./app/javascript/layouts/SimplePage.tsx":
/*!***********************************************!*\
  !*** ./app/javascript/layouts/SimplePage.tsx ***!
  \***********************************************/
/*! exports provided: SimplePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimplePage", function() { return SimplePage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _partials_Footer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../partials/Footer */ "./app/javascript/partials/Footer.tsx");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var _partials_Logo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../partials/Logo */ "./app/javascript/partials/Logo.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");







function SimplePage(props) {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["useTranslation"])(),
    t = _useTranslation.t;
  var authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_5__["getAuthUser"]),
    isAuth = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_5__["isLogged"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "page"
  }, props.title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_2__["PageTitle"], {
    title: props.title
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "page__top"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "l-home-wrapper"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "page__header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "page__logo"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_partials_Logo__WEBPACK_IMPORTED_MODULE_3__["Logo"], null))), props.children)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_partials_Footer__WEBPACK_IMPORTED_MODULE_1__["Footer"], {
    wrapperClassName: "l-home-wrapper"
  }));
}

/***/ }),

/***/ "./app/javascript/locales lazy recursive ^\\.\\/.*\\.json$":
/*!*********************************************************************!*\
  !*** ./app/javascript/locales lazy ^\.\/.*\.json$ namespace object ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./en.json": [
		"./app/javascript/locales/en.json",
		9
	],
	"./es.json": [
		"./app/javascript/locales/es.json",
		10
	],
	"./ru.json": [
		"./app/javascript/locales/ru.json",
		11
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return __webpack_require__.e(ids[1]).then(function() {
		return __webpack_require__.t(id, 3);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./app/javascript/locales lazy recursive ^\\.\\/.*\\.json$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./app/javascript/modals/BaseModal.tsx":
/*!*********************************************!*\
  !*** ./app/javascript/modals/BaseModal.tsx ***!
  \*********************************************/
/*! exports provided: ModalContainer, BaseModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalContainer", function() { return ModalContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseModal", function() { return BaseModal; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");


var _excluded = ["name", "title", "children", "hideCloseButton", "onOpen", "onClose", "autoOpen", "disableOutsideClose"];




var Popup = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_2__["lazy"])(function () {
  return __webpack_require__.e(/*! import() */ 14).then(__webpack_require__.bind(null, /*! reactjs-popup */ "./node_modules/reactjs-popup/dist/reactjs-popup.esm.js"));
});
var storage = {
  openFunctions: {},
  closeFunctions: {},
  setOpen: function setOpen(modalName, func) {
    this.openFunctions[modalName] = func;
  },
  setClose: function setClose(modalName, func) {
    this.closeFunctions[modalName] = func;
  }
};
var ModalContainer = {
  activeModal: null,
  call: function call(funcType, e, modalName) {
    var args = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];
    e && e.preventDefault();
    var func = storage["".concat(funcType, "Functions")][modalName];
    func && func.apply(null, args);
  },
  open: function open(e, modalName) {
    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
      args[_key - 2] = arguments[_key];
    }
    this.call('open', e, modalName, args);
    this.activeModal = modalName;
  },
  close: function close(modalName) {
    var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    this.call('close', e, modalName);
    this.activeModal = null;
  },
  closeActive: function closeActive(e) {
    e && e.preventDefault();
    this.activeModal && this.close(this.activeModal);
  }
};

var scrollbarWidth = null;
var getScrollbarWidth = function getScrollbarWidth() {
  if (scrollbarWidth !== null) return scrollbarWidth;
  var scrollDiv = document.createElement("div");
  scrollDiv.style.position = 'absolute';
  scrollDiv.style.width = scrollDiv.style.height = '100px';
  scrollDiv.style.overflow = 'scroll';
  scrollDiv.style.top = '0';
  scrollDiv.style.opacity = '0';
  document.body.appendChild(scrollDiv);
  scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;
  document.body.removeChild(scrollDiv);
  document.head.insertAdjacentHTML("beforeend", "<style>.modal-open .compensate-scrollbar, body.modal-open {padding-right: ".concat(scrollbarWidth, "px}</style>"));
};
function BaseModal(_ref) {
  var name = _ref.name,
    title = _ref.title,
    children = _ref.children,
    hideCloseButton = _ref.hideCloseButton,
    onOpen = _ref.onOpen,
    onClose = _ref.onClose,
    autoOpen = _ref.autoOpen,
    disableOutsideClose = _ref.disableOutsideClose,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_5__["useTranslation"])(),
    t = _useTranslation.t;
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    open = _useState2[0],
    setOpen = _useState2[1];
  var modalEl = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])(0);
  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(true),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),
    closeOnEscape = _useState4[0],
    setCloseOnEscape = _useState4[1];
  var openModal = function openModal() {
    document.body.classList.add('modal-open');
    document.body.classList.add("".concat(name, "-modal-layout"));
    setOpen(true);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    onOpen && onOpen.apply(null, args);
    setTimeout(function () {
      modalEl.current.querySelectorAll('input, textarea').forEach(function (input) {
        input.addEventListener('input', function (e) {
          var hasFilledInputs = false;
          modalEl.current.querySelectorAll('input, textarea').forEach(function (inpt) {
            if (inpt.value.trim().length) hasFilledInputs = true;
          });
          setCloseOnEscape(!hasFilledInputs);
        });
      });
    });
  };
  var closeModal = function closeModal() {
    document.body.classList.remove('modal-open');
    document.body.classList.remove("".concat(name, "-modal-layout"));
    setOpen(false);
    onClose && onClose();
  };
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    getScrollbarWidth();
    storage.setOpen(name, function () {
      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }
      props.refOpen ? props.refOpen.apply(null, [openModal].concat(args)) : openModal.apply(null, args);
    });
    storage.setClose(name, closeModal);
    if (autoOpen) openModal();
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2__["Suspense"], {
    fallback: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Popup, {
    closeOnEscape: closeOnEscape,
    open: open,
    onClose: closeModal,
    closeOnDocumentClick: !disableOutsideClose,
    modal: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    ref: modalEl,
    id: name,
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('modal', 'md-' + name)
  }, !hideCloseButton && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    onClick: closeModal,
    className: "modal__close",
    title: t('close')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_4__["SvgIcon"], {
    name: "close"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "modal__inn"
  }, title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3", {
    className: "modal__title h3"
  }, title), children))));
}

/***/ }),

/***/ "./app/javascript/modals/EmailChangeCode.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/modals/EmailChangeCode.tsx ***!
  \***************************************************/
/*! exports provided: EmailChangeCode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmailChangeCode", function() { return EmailChangeCode; });
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _BaseModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseModal */ "./app/javascript/modals/BaseModal.tsx");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");










function EmailChangeCode(_ref) {
  var _onSubmit = _ref.onSubmit,
    email = _ref.email;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_0__["useTranslation"])(),
    t = _useTranslation.t;
  var _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_1__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_2__["Api"].users.validateChangeEmailCode),
    validateRequest = _useApi.request,
    isLoading = _useApi.isLoading;
  var formProps = {
    initialValues: {
      code: ''
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_9__["object"]().shape({
      code: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_8__["requiredValidation"]
    }),
    onSubmit: function onSubmit(values, actions) {
      validateRequest(values.code).then(function (response) {
        if (!response.code) {
          actions.setFieldError('code', '');
          _onSubmit(email);
        } else actions.setFieldError('code', true);
      });
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_BaseModal__WEBPACK_IMPORTED_MODULE_3__["BaseModal"], {
    name: "EmailChangeCode",
    title: t('user_edit_edit_email_confirm_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["Form"], formProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], {
    mod: ['sm']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "m-b-10"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_7__["TransProxy"], {
    i18nKey: "user_edit_edit_email_confirm_text",
    values: {
      email: email
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_5__["Input"], {
    name: "code",
    type: "number",
    placeholder: t('user_edit_edit_email_confirm_code_input_placeholder')
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["FormSubmit"], {
    isLoading: isLoading,
    label: t('send')
  }))));
}

/***/ }),

/***/ "./app/javascript/modals/NewWishlistGift.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/modals/NewWishlistGift.tsx ***!
  \***************************************************/
/*! exports provided: NewWishlistGift */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewWishlistGift", function() { return NewWishlistGift; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _BaseModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseModal */ "./app/javascript/modals/BaseModal.tsx");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../helpers/ky */ "./app/javascript/helpers/ky.ts");
/* harmony import */ var _components_Select__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/Select */ "./app/javascript/components/Select.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _components_DragDropImage__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/DragDropImage */ "./app/javascript/components/DragDropImage.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _components_Channel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../components/Channel */ "./app/javascript/components/Channel.tsx");


var _excluded = ["values"],
  _excluded2 = ["url", "image"];















function NewWishlistGift(_ref) {
  var _onSubmit = _ref.onSubmit;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_5__["useTranslation"])(),
    t = _useTranslation.t,
    _useSuggestedCurrency = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_14__["useSuggestedCurrency"])(),
    currency = _useSuggestedCurrency.currency,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    isShowExtendedForm = _useState2[0],
    setIsShowExtendedForm = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    isLinkLoading = _useState4[0],
    setIsLinkLoading = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    isLoading = _useState6[0],
    setIsLoading = _useState6[1];
  var formProps = {
    initialValues: {
      url: '',
      image: '',
      image_url: '',
      name: '',
      description: '',
      price: '',
      currency: '',
      comment: ''
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_8__["object"]().shape({
      url: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_9__["requiredValidation"],
      name: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_9__["requiredValidation"],
      price: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_9__["requiredValidation"]
    }),
    onSubmit: function onSubmit(values) {
      setIsLoading(true);
      _helpers_ky__WEBPACK_IMPORTED_MODULE_10__["default"].post('presents', {
        json: values
      }).json().then(function (response) {
        _onSubmit && _onSubmit(response);
        _BaseModal__WEBPACK_IMPORTED_MODULE_3__["ModalContainer"].closeActive(null);
      })["finally"](function () {
        return setIsLoading(false);
      });
    }
  };
  var onOpen = function onOpen() {
    setIsLinkLoading(false);
    setIsShowExtendedForm(false);
    setIsLoading(false);
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_BaseModal__WEBPACK_IMPORTED_MODULE_3__["BaseModal"], {
    onOpen: onOpen,
    name: "NewWishlistGift",
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_4__["TransProxy"], {
      i18nKey: "shop_new_gift_modal_title"
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["Form"], formProps, function (_ref2) {
    var values = _ref2.values,
      formikProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref2, _excluded);
    var linkLoadTimeout = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])(0),
      failedParseTimeout = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])(0);
    var onListenSocket = function onListenSocket(_ref3) {
      var event = _ref3.event,
        inputData = _ref3.data;
      if (event != 'custom_parsing_ready') return;
      var _removeEmpty = Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_12__["removeEmpty"])(inputData),
        url = _removeEmpty.url,
        image = _removeEmpty.image,
        data = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_removeEmpty, _excluded2);
      Object.entries(data).map(function (_ref4) {
        var _ref5 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref4, 2),
          key = _ref5[0],
          value = _ref5[1];
        return formikProps.setFieldValue(key, value);
      });
      image && formikProps.setFieldValue('image_url', image);
      setIsShowExtendedForm(true);
      setIsLinkLoading(false);
      clearTimeout(failedParseTimeout.current);
    };
    Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
      if (!values.url) return;
      var _ref6 = values.url.match(/(((https?:\/\/)|(www\.))[^\s]+)/g) || [],
        _ref7 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref6, 1),
        url = _ref7[0];
      if (!url) {
        formikProps.setFieldError('url', _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_9__["ErrorMessages"].INVALID_URL());
        return;
      }
      formikProps.setFieldValue('url', url);
      clearTimeout(linkLoadTimeout.current);
      linkLoadTimeout.current = setTimeout(function () {
        setIsLinkLoading(true);
        _helpers_ky__WEBPACK_IMPORTED_MODULE_10__["default"].put('presents/parse_custom', {
          json: {
            url: values.url
          }
        }).text().then(function () {
          failedParseTimeout.current = setTimeout(function () {
            setIsLinkLoading(false);
            formikProps.setFieldError('url', t('shop_failed_parse'));
          }, _core_constants__WEBPACK_IMPORTED_MODULE_15__["NEW_GIFT_FAILED_PARSE_TIMEOUT_S"] * 1000);
        })["catch"](function () {
          return setIsLinkLoading(false);
        });
      }, _core_constants__WEBPACK_IMPORTED_MODULE_15__["NEW_GIFT_PARSE_LINK_TIMEOUT_MS"]);
    }, [values.url]);
    Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
      formikProps.setFieldValue('currency', currency);
    }, [currency]);
    Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
      return function () {
        clearTimeout(linkLoadTimeout.current);
      };
    }, []);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Channel__WEBPACK_IMPORTED_MODULE_16__["Channel"], {
      name: "RoomNotifications",
      onReceive: onListenSocket
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      label: t('shop_new_gift_modal_link_placeholder'),
      hint: t('shop_new_gift_modal_link_hint'),
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      isLoading: isLinkLoading,
      placeholder: "https://",
      name: "url"
    }), !isShowExtendedForm && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "m-t-15"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_4__["TransProxy"], {
      i18nKey: "shop_new_gift_manual_add",
      components: {
        l: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
          href: "#",
          onClick: function onClick(e) {
            e.preventDefault();
            setIsShowExtendedForm(true);
          },
          className: "link"
        })
      }
    }))), isShowExtendedForm && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      label: t('image'),
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_DragDropImage__WEBPACK_IMPORTED_MODULE_13__["DragDropImage"], {
      id: "new_gift_image",
      name: "image",
      preview: values.image_url
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "new_gift_name",
      visiblePlaceholder: true,
      placeholder: t('shop_new_gift_modal_name_placeholder'),
      name: "name"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "new_gift_description",
      isTextarea: true,
      visiblePlaceholder: true,
      placeholder: t('shop_new_gift_modal_desc_placeholder'),
      name: "description"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "row"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-xxs-8 col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "new_gift_price",
      name: "price",
      type: "number",
      visiblePlaceholder: true,
      placeholder: t('shop_new_gift_modal_price_placeholder')
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-xxs-4 col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Select__WEBPACK_IMPORTED_MODULE_11__["SelectFormik"], {
      id: "new_gift_price_currency",
      name: "currency",
      data: Object.entries(Object(_core_constants__WEBPACK_IMPORTED_MODULE_15__["CURRENCIES"])()),
      dataMapper: {
        id: 0,
        text: 1
      }
    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "new_gift_price_comment",
      isTextarea: true,
      visiblePlaceholder: true,
      placeholder: t('shop_new_gift_modal_comment_placeholder'),
      name: "comment"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      style: {
        maxWidth: '100%'
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormSubmit"], {
      isLoading: isLoading,
      id: "new_gift_price_save",
      label: t('save')
    }))));
  }));
}

/***/ }),

/***/ "./app/javascript/modals/Player.tsx":
/*!******************************************!*\
  !*** ./app/javascript/modals/Player.tsx ***!
  \******************************************/
/*! exports provided: Player */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Player", function() { return Player; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _BaseModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseModal */ "./app/javascript/modals/BaseModal.tsx");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_User__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/User */ "./app/javascript/components/User.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _pages_Game__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../pages/Game */ "./app/javascript/pages/Game/index.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
















function Player() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_5__["useTranslation"])(),
    t = _useTranslation.t;
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])({}),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    player = _useState2[0],
    setPlayer = _useState2[1];
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_8__["getGame"]);
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useDispatch"])();
  var _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_16__["Api"].usersInGame.edit),
    editUserInGameRequest = _useApi.request,
    isUserInGameLoading = _useApi.isLoading;
  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    disableOutsideClose = _useState4[0],
    setDisableOutsideClose = _useState4[1];
  var getTossGroupType = function getTossGroupType(id) {
    return game.toss_groups.filter(function (group) {
      return group.id == id;
    })[0].type;
  };
  var onOpenModal = function onOpenModal(player) {
    setPlayer(player);
  };
  var telegramUsername = Object(react__WEBPACK_IMPORTED_MODULE_2__["useMemo"])(function () {
    var t = player.user_omniauths && player.user_omniauths.length ? player.user_omniauths.filter(function (omni) {
      return omni.provider == 'telegram';
    })[0] : null;
    return t ? t.messenger_data : '';
  }, [player]);
  var shareWishlistLink = function shareWishlistLink() {
    var link = Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["url"])("/wishlist/".concat(player.user_id));
    Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["isSupportNativeShare"])() ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["nativeShare"])(link, t('shop_share_title'), t('shop_share_text')) : Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["copyToClipboard"])(link).then(function () {
      return _helpers_toastify__WEBPACK_IMPORTED_MODULE_13__["toastify"].success(t('copied'));
    })["catch"](function () {
      return _helpers_toastify__WEBPACK_IMPORTED_MODULE_13__["toastify"].success(t('copied_error'));
    });
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_14__["gtm"])('Dashboard - Player info - copy link');
  };
  var onChangeTossGroup = function onChangeTossGroup(selectedTossGroupId) {
    var action = function action() {
      editUserInGameRequest(player.user_in_game_id, {
        game_id: game.id,
        toss_group_id: selectedTossGroupId
      }).then(function (response) {
        // If response is valid then update current game and mark gtm
        if (response.id) {
          _helpers_toastify__WEBPACK_IMPORTED_MODULE_13__["toastify"].success(t('save_success'));
          Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["batch"])(function () {
            dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_8__["updatePlayers"])());
            dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_8__["updateGame"])());
          });
        } else _helpers_toastify__WEBPACK_IMPORTED_MODULE_13__["toastify"].error(t('save_error'));
      });
      setDisableOutsideClose(false);
    };
    setDisableOutsideClose(true);
    if (getTossGroupType(selectedTossGroupId) != getTossGroupType(player.toss_group_id)) Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_17__["confirmAlert"])(t('dashboard_player_toss_group_change_alert'), {}).then(action);else action();
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_BaseModal__WEBPACK_IMPORTED_MODULE_3__["BaseModal"], {
    onOpen: onOpenModal,
    disableOutsideClose: disableOutsideClose,
    name: "Player",
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_User__WEBPACK_IMPORTED_MODULE_6__["User"], {
      avatar: player.avatar,
      name: player.display_name || player.email
    })
  }, Object.entries(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, game.toss_groups && game.toss_groups.length > 1 && game.isOfficesAndRemoteGetType() && !game.isTossCompleted() ? {
    toss_group: 'toss_group'
  } : {}), {}, {
    wishlist: 'wishlist'
  }, !Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["isLocalEmail"])(player.email) ? {
    email: 'email'
  } : {}), telegramUsername ? {
    Telegram: ''
  } : {}), {}, {
    present_bought: 'gift_bought',
    present_sended: 'gift_sent',
    present_received: 'gift_received',
    status: 'status'
  })).map(function (_ref, index) {
    var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref, 2),
      key = _ref2[0],
      translationKey = _ref2[1];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("dl", {
      className: "definition",
      key: index
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("dt", null, translationKey ? t(translationKey) : key), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("dd", null, typeof player[key] == 'boolean' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: classnames__WEBPACK_IMPORTED_MODULE_10___default()('dot', 'dot--' + (player[key] ? 'green' : 'red'))
    }) : key == 'toss_group' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_pages_Game__WEBPACK_IMPORTED_MODULE_9__["SelectTossGroups"], {
      onChange: onChangeTossGroup,
      value: player.toss_group_id
    }) : key == 'Telegram' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
      target: "_blank",
      className: "link",
      href: "https://t.me/".concat(telegramUsername)
    }, "@", telegramUsername) : key == 'wishlist' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
      className: "link",
      href: Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["url"])('wishlist/' + player.user_id),
      target: "_blank"
    }, t('link'), " "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      onClick: shareWishlistLink,
      className: "info-tooltip"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_12__["SvgIcon"], {
      name: "share"
    }))) : key == 'status' && game.isTossCompleted() ? player.present_received && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "font-green"
    }, t('gift_received')) || !player.present_received && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "font-red"
    }, t('gift_not_received')) : key == 'status' ? player[key] == 'approved' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "font-orange"
    }, t('approved')) || player[key] == 'pending' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "font-gray"
    }, t('moderate')) || player[key] == 'rejected' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "font-red"
    }, t('rejected')) : player[key]));
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    className: "m-t-20",
    mod: ['block'],
    onClick: function onClick(e) {
      return _BaseModal__WEBPACK_IMPORTED_MODULE_3__["ModalContainer"].closeActive(e);
    },
    label: t('close')
  }));
}

/***/ }),

/***/ "./app/javascript/modals/SuccessModal.tsx":
/*!************************************************!*\
  !*** ./app/javascript/modals/SuccessModal.tsx ***!
  \************************************************/
/*! exports provided: openSuccessAlert, SuccessModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openSuccessAlert", function() { return openSuccessAlert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SuccessModal", function() { return SuccessModal; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _BaseModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseModal */ "./app/javascript/modals/BaseModal.tsx");
/* harmony import */ var images_success_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! images/success.svg */ "./app/assets/images/success.svg");
/* harmony import */ var images_success_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(images_success_svg__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");






var openSuccessAlert = function openSuccessAlert(title, desc) {
  var buttonLabel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
};

function SuccessModal(props) {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_5__["useTranslation"])(),
    t = _useTranslation.t,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(props.title),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    title = _useState2[0],
    setTitle = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(props.desc),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),
    desc = _useState4[0],
    setDesc = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(''),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState5, 2),
    buttonLabel = _useState6[0],
    setButtonLabel = _useState6[1];
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    openSuccessAlert = function openSuccessAlert(title, desc) {
      var buttonLabel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
      setTitle(title);
      setDesc(desc);
      setButtonLabel(buttonLabel);
      _BaseModal__WEBPACK_IMPORTED_MODULE_2__["ModalContainer"].open(null, 'SuccessModal');
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_BaseModal__WEBPACK_IMPORTED_MODULE_2__["BaseModal"], {
    name: "SuccessModal",
    hideCloseButton: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "md-SuccessModal__icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
    alt: title,
    src: images_success_svg__WEBPACK_IMPORTED_MODULE_3___default.a
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "md-SuccessModal__title"
  }, title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "md-SuccessModal__desc"
  }, typeof desc == 'function' ? desc() : desc), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    mod: ['block'],
    onClick: function onClick(e) {
      return _BaseModal__WEBPACK_IMPORTED_MODULE_2__["ModalContainer"].closeActive(e);
    },
    label: buttonLabel || t('continue')
  }));
}

/***/ }),

/***/ "./app/javascript/pages/AuthCallback.tsx":
/*!***********************************************!*\
  !*** ./app/javascript/pages/AuthCallback.tsx ***!
  \***********************************************/
/*! exports provided: AuthCallback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthCallback", function() { return AuthCallback; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_MakeLogin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/MakeLogin */ "./app/javascript/components/MakeLogin.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _components_SocialAuth_TelegramAuth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/SocialAuth/TelegramAuth */ "./app/javascript/components/SocialAuth/TelegramAuth.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");








function AuthCallback() {
  var _useParams = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useParams"])(),
    social = _useParams.social,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    activateLogin = _useState2[0],
    setActivateLogin = _useState2[1],
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_6__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_7__["Api"].users.setRef),
    setRefRequest = _useApi.request;
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    if (Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["generateRefData"])()) setRefRequest().then(function () {
      return setActivateLogin(true);
    });else setActivateLogin(true);
  }, []);
  if (social == 'telegram') return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_SocialAuth_TelegramAuth__WEBPACK_IMPORTED_MODULE_4__["TelegramCatchCallbackData"], {
    authData: Object.fromEntries(new URLSearchParams(window.location.search))
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_MakeLogin__WEBPACK_IMPORTED_MODULE_2__["MakeLogin"], {
    activateLogin: activateLogin,
    values: {}
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "preloader"
  }));
}

/***/ }),

/***/ "./app/javascript/pages/AuthEmailLink.tsx":
/*!************************************************!*\
  !*** ./app/javascript/pages/AuthEmailLink.tsx ***!
  \************************************************/
/*! exports provided: UrlAfterEnterEmail, AuthEmailLink */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UrlAfterEnterEmail", function() { return UrlAfterEnterEmail; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthEmailLink", function() { return AuthEmailLink; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_StartAuthForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/StartAuthForm */ "./app/javascript/components/StartAuthForm.tsx");





var UrlAfterEnterEmail = function UrlAfterEnterEmail() {
  return _routes__WEBPACK_IMPORTED_MODULE_1__["URLS"].AuthRegister;
};

function AuthEmailLink(props) {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_3__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_2__["PageTitle"], {
    title: t('start_auth_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t('start_auth_page_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_StartAuthForm__WEBPACK_IMPORTED_MODULE_4__["StartAuthForm"], props));
}

/***/ }),

/***/ "./app/javascript/pages/AuthEmailSent.tsx":
/*!************************************************!*\
  !*** ./app/javascript/pages/AuthEmailSent.tsx ***!
  \************************************************/
/*! exports provided: AuthEmailSent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthEmailSent", function() { return AuthEmailSent; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../helpers/ky */ "./app/javascript/helpers/ky.ts");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");


var _excluded = ["values"];














function AuthEmailSent(props) {
  var CODE_LENGTH = 4;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_14__["useTranslation"])(),
    t = _useTranslation.t;
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useDispatch"])();
  var navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useNavigate"])();
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    noEmail = _useState2[0],
    setNoEmail = _useState2[1];
  var tempEmail = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__["getTempEmail"]);
  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    isCodeLoading = _useState4[0],
    setIsCodeLoading = _useState4[1];
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_12__["getGame"]);
  var _useLocation = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useLocation"])(),
    redirectState = _useLocation.state;
  var handleSubmit = function handleSubmit(values, _ref) {
    var setFieldError = _ref.setFieldError;
    if (isCodeLoading) return;
    setIsCodeLoading(true);
    _helpers_ky__WEBPACK_IMPORTED_MODULE_9__["default"].get('email_links/validate?token=' + values.code).json().then(function (response) {
      if (response.code == 'not_found') {
        setFieldError('code', '  ');
        setIsCodeLoading(false);
      } else {
        Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_13__["gtm"])(response.first_login ? 'Sign up' : 'Sign in');
        Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["batch"])(function () {
          dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__["setJustLogged"])());
          dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__["setUser"])(response.user));
          dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_12__["clearGame"])());
        });
        navigate(redirectState ? redirectState.from : _routes__WEBPACK_IMPORTED_MODULE_4__["URLS"].Home);
      }
    })["catch"](function () {
      return setIsCodeLoading(false);
    });
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_15__["PageTitle"], {
    title: "\u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0432\u0430\u0448\u0443 \u043F\u043E\u0447\u0442\u0443"
  }), noEmail ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h1", {
    className: "h2 page__title"
  }, "\u0415\u0441\u043B\u0438 \u043D\u0435 \u043F\u043E\u043B\u0443\u0447\u0438\u043B\u0438 \u0441\u0441\u044B\u043B\u043A\u0443 \u043F\u043E\u0438\u0449\u0438\u0442\u0435 \u0432 \u0441\u043F\u0430\u043C\u0435 \u0438\u043B\u0438 \u043F\u0430\u043F\u043A\u0430\u0445"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "page__desc text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, "\u0415\u0441\u043B\u0438 \u0432\u0441\u0435-\u0440\u0430\u0432\u043D\u043E \u043D\u0435\u0442, \u043D\u0430\u043F\u0438\u0448\u0438\u0442\u0435 \u043D\u0430 ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
    href: "#"
  }, t('support_email'))))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h1", {
    className: "h2 page__title"
  }, "\u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0432\u0430\u0448\u0443 \u043F\u043E\u0447\u0442\u0443"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "page__desc text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, "\u041C\u044B \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u043B\u0438 \u0432\u0430\u043C ", CODE_LENGTH, "-\u0445 \u0437\u043D\u0430\u0447\u043D\u044B\u0439 \u043A\u043E\u0434 \u043D\u0430 ", tempEmail, ". \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044D\u0442\u043E\u0442 \u043A\u043E\u0434 \u043D\u0438\u0436\u0435:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_7__["Form"], {
    className: "m-t-20",
    onSubmit: handleSubmit,
    initialValues: {
      code: ''
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_10__["object"]().shape({
      code: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_11__["requiredValidation"].length(CODE_LENGTH, "\u041A\u043E\u0434 \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0441\u0442\u043E\u0438\u0442\u044C \u0438\u0437 ".concat(CODE_LENGTH, "-\u0445 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"))
    })
  }, function (_ref2) {
    var values = _ref2.values,
      formikProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref2, _excluded);
    Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
      if (values.code.length == CODE_LENGTH) formikProps.submitForm();
    }, [values.code]);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_8__["Input"], {
      style: values.code.length ? {
        transition: 'none',
        fontSize: '30px',
        textTransform: 'uppercase',
        letterSpacing: '4px'
      } : {
        transition: 'none'
      },
      isLoading: isCodeLoading,
      pattern: "[0-9]*",
      type: "number",
      name: "code",
      maxLength: CODE_LENGTH,
      onChange: function onChange(e) {
        formikProps.setFieldError('code', '');
        formikProps.setFieldValue('code', e.target.value);
      },
      onInput: function onInput(object) {
        if (object.target.value.length > object.target.maxLength) {
          object.target.value = object.target.value.slice(0, object.target.maxLength);
        }
      },
      placeholder: "".concat(CODE_LENGTH, "-\u0445 \u0437\u043D\u0430\u0447\u043D\u044B\u0439 \u043A\u043E\u0434")
    });
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "page-links"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: game.id ? game.getUrl() : _routes__WEBPACK_IMPORTED_MODULE_4__["URLS"].AuthLogin,
    className: "link"
  }, "\u041D\u0430\u0437\u0430\u0434"))));
}

/***/ }),

/***/ "./app/javascript/pages/AuthLoginPassword.tsx":
/*!****************************************************!*\
  !*** ./app/javascript/pages/AuthLoginPassword.tsx ***!
  \****************************************************/
/*! exports provided: AuthLoginPassword */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthLoginPassword", function() { return AuthLoginPassword; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var _components_LoginForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/LoginForm */ "./app/javascript/components/LoginForm.tsx");






function AuthLoginPassword(props) {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_3__["useTranslation"])(),
    t = _useTranslation.t,
    tempEmail = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_2__["getTempEmail"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_4__["PageTitle"], {
    title: t('login_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t(tempEmail ? 'login_page_title' : 'login_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LoginForm__WEBPACK_IMPORTED_MODULE_5__["LoginForm"], props));
}

/***/ }),

/***/ "./app/javascript/pages/AuthRegister.tsx":
/*!***********************************************!*\
  !*** ./app/javascript/pages/AuthRegister.tsx ***!
  \***********************************************/
/*! exports provided: AuthRegister */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthRegister", function() { return AuthRegister; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _components_RegisterForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/RegisterForm */ "./app/javascript/components/RegisterForm.tsx");







function AuthRegister() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_3__["useTranslation"])(),
    t = _useTranslation.t,
    tempEmail = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_2__["getTempEmail"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_4__["PageTitle"], {
    title: t('reg_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t(tempEmail ? 'reg_page_title' : 'reg_title')), tempEmail && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "page__desc m-b-25 text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_5__["TransProxy"], {
    i18nKey: "reg_desc"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_RegisterForm__WEBPACK_IMPORTED_MODULE_6__["RegisterForm"], null));
}

/***/ }),

/***/ "./app/javascript/pages/AuthSetPassword.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/pages/AuthSetPassword.tsx ***!
  \**************************************************/
/*! exports provided: AuthSetPassword */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthSetPassword", function() { return AuthSetPassword; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _components_Checkbox__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../components/Checkbox */ "./app/javascript/components/Checkbox.tsx");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../redux/slices/games */ "./app/javascript/redux/slices/games.ts");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");



var _excluded = ["values"];


















function AuthSetPassword(props) {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_7__["useTranslation"])(),
    t = _useTranslation.t,
    user = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__["getAuthUser"]),
    mergedGamesStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_18__["getMergedGamesStatus"]),
    mergedGames = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_18__["getMergedGames"]),
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useDispatch"])(),
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_19__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_20__["Api"].users.edit, {
      infiniteLoading: true
    }),
    request = _useApi.request,
    isLoading = _useApi.isLoading,
    setIsLoading = _useApi.setIsLoading,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(user.password_set === true ? _routes__WEBPACK_IMPORTED_MODULE_15__["URLS"].Home : ''),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    redirect = _useState2[0],
    setRedirect = _useState2[1];
  var formProps = {
    initialValues: {
      password: ''
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_11__["object"]().shape({
      password: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_12__["passwordValidation"],
      agree: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_12__["checkboxRequiredValidation"]
    }),
    onSubmit: function onSubmit(values, actions) {
      request({
        password: values.password,
        password_confirmation: values.password
      }).then( /*#__PURE__*/function () {
        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(response) {
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  if (response.error || response.code == 'forbidden') {
                    _helpers_toastify__WEBPACK_IMPORTED_MODULE_14__["toastify"].error(response.message);
                    setIsLoading(false);
                  } else {
                    dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__["setUserInfo"])({
                      password_set: true
                    }));
                    setRedirect(_routes__WEBPACK_IMPORTED_MODULE_15__["URLS"].UserEditInfo);
                  }
                case 1:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }));
        return function (_x) {
          return _ref.apply(this, arguments);
        };
      }());
    }
  };
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    if (mergedGamesStatus == 'idle') dispatch(Object(_redux_slices_games__WEBPACK_IMPORTED_MODULE_18__["fetchMergedGames"])());
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    if (mergedGamesStatus == 'succeeded' && mergedGames[0]) dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__["setTempGameId"])(mergedGames[0].id));
  }, [mergedGamesStatus, mergedGames]);
  return redirect ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_13__["Navigate"], {
    to: redirect
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_8__["PageTitle"], {
    title: t('set_password_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t('set_password_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "page__desc text m-b-15"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, t('set_password_desc'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["Form"], formProps, function (_ref2) {
    var values = _ref2.values,
      formikBag = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref2, _excluded);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_10__["Input"], {
      autoFocus: true,
      type: "password",
      placeholder: t('reg_password'),
      name: "password",
      autoComplete: "new-password"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Checkbox__WEBPACK_IMPORTED_MODULE_16__["Checkbox"], {
      name: "agree",
      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_17__["TransProxy"], {
        i18nKey: "agree_with_all",
        components: {
          privacy_link: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
            href: _routes__WEBPACK_IMPORTED_MODULE_15__["URLS"].Privacy,
            target: "_blank"
          }),
          terms_link: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
            href: _routes__WEBPACK_IMPORTED_MODULE_15__["URLS"].Terms,
            target: "_blank"
          })
        }
      })
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormSubmit"], {
      isLoading: isLoading,
      label: t('save')
    })));
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Blocked.tsx":
/*!******************************************!*\
  !*** ./app/javascript/pages/Blocked.tsx ***!
  \******************************************/
/*! exports provided: Blocked */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Blocked", function() { return Blocked; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _layouts_SimplePage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layouts/SimplePage */ "./app/javascript/layouts/SimplePage.tsx");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_MakeLogin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/MakeLogin */ "./app/javascript/components/MakeLogin.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");










function Blocked() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_4__["useTranslation"])(),
    t = _useTranslation.t,
    authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_7__["getAuthUser"]);

  // if the user is not blocked
  if (authUser.status != 'blocked') return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__["Navigate"], {
    to: _routes__WEBPACK_IMPORTED_MODULE_9__["URLS"].Home
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_SimplePage__WEBPACK_IMPORTED_MODULE_1__["SimplePage"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_2__["PageTitle"], {
    title: t('blocked_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t('blocked_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "page__desc text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_3__["TransProxy"], {
    i18nKey: "blocked_desc",
    values: {
      email: authUser.email
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "m-t-20"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#",
    className: "link",
    onClick: function onClick(e) {
      e.preventDefault();
      Object(_components_MakeLogin__WEBPACK_IMPORTED_MODULE_5__["logOut"])(authUser, t);
    }
  }, t('blocked_logout')))));
}

/***/ }),

/***/ "./app/javascript/pages/FastToss.tsx":
/*!*******************************************!*\
  !*** ./app/javascript/pages/FastToss.tsx ***!
  \*******************************************/
/*! exports provided: FastToss */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FastToss", function() { return FastToss; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _components_Checkbox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/Checkbox */ "./app/javascript/components/Checkbox.tsx");
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../helpers/ky */ "./app/javascript/helpers/ky.ts");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _components_StartAuthForm__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../components/StartAuthForm */ "./app/javascript/components/StartAuthForm.tsx");
/* harmony import */ var _components_LoginForm__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../components/LoginForm */ "./app/javascript/components/LoginForm.tsx");
/* harmony import */ var _components_RegisterForm__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../components/RegisterForm */ "./app/javascript/components/RegisterForm.tsx");
/* harmony import */ var _components_UserEditForm__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../components/UserEditForm */ "./app/javascript/components/UserEditForm.tsx");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _modals_SuccessModal__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../modals/SuccessModal */ "./app/javascript/modals/SuccessModal.tsx");




var _excluded = ["values"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }























function FastToss() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["useTranslation"])(),
    t = _useTranslation.t,
    i18n = _useTranslation.i18n,
    navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["useNavigate"])(),
    _useSuggestedCurrency = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_17__["useSuggestedCurrency"])(),
    suggestedCurrency = _useSuggestedCurrency.currency,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(1),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState, 2),
    activeStep = _useState2[0],
    setActiveStep = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState3, 2),
    isLoading = _useState4[0],
    setIsLoading = _useState4[1],
    isAuth = Object(react_redux__WEBPACK_IMPORTED_MODULE_14__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_15__["isLogged"]),
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(''),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState5, 2),
    authMode = _useState6[0],
    setAuthMode = _useState6[1],
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(true),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState7, 2),
    isDisabledNext = _useState8[0],
    setIsDisabledNext = _useState8[1],
    _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])({}),
    _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState9, 2),
    fastTossFormData = _useState10[0],
    setFastTossFormData = _useState10[1];
  var FINAL_STEP = 3;
  var formProps = {
    initialValues: {
      unprocessed_players_data: '',
      players: [],
      is_admin_playing: true
    },
    onSubmit: function onSubmit() {},
    onChange: function onChange(values) {
      return setFastTossFormData(values);
    }
  };
  var onAuthBeforeRequest = function onAuthBeforeRequest() {
    return setIsLoading(true);
  };
  var onFinishAuth = function onFinishAuth() {
    setIsLoading(true);
    setAuthMode('');
    _helpers_ky__WEBPACK_IMPORTED_MODULE_16__["default"].post('fast_toss', {
      json: {
        "fast_toss": {
          "present_price": _core_constants__WEBPACK_IMPORTED_MODULE_18__["GAME_DEFAULT_PRICE_GRID"][suggestedCurrency],
          "currency": suggestedCurrency,
          "message": t('game_default_description'),
          "game_name": t('game_name_placeholder'),
          "is_admin_playing": fastTossFormData.is_admin_playing,
          "locale": i18n.language,
          "users": fastTossFormData.players
        }
      }
    }).json().then(function (response) {
      response.message && _helpers_toastify__WEBPACK_IMPORTED_MODULE_25__["toastify"].error(response.message);
      if (response.id) {
        navigate(_routes__WEBPACK_IMPORTED_MODULE_20__["URLS"].Game('', response.id));
        Object(_modals_SuccessModal__WEBPACK_IMPORTED_MODULE_26__["openSuccessAlert"])(t('fast_toss_success_alert_title'), t('fast_toss_success_alert_desc'), t('fast_toss_success_alert_button'));
      }
    })["finally"](function () {
      return setIsLoading(false);
    });
  };
  var BackButton = activeStep > 1 && activeStep <= FINAL_STEP ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_10__["Button"], {
    label: t('back'),
    onClick: function onClick() {
      if (!authMode || isAuth) {
        setIsDisabledNext(false);
        setActiveStep(function (s) {
          return s - 1;
        });
      } else setAuthMode('');
    },
    mod: ['outline']
  })) : null;
  var SubmitButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_7__["FormSubmit"], {
    isLoading: isLoading,
    label: t(!authMode || authMode == 'register' ? 'next' : 'fast_toss_submit')
  }));
  var ComplexButtons = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, BackButton, SubmitButton);
  var FinalStep = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", {
    className: "h4 m-b-20"
  }, t('fast_toss_step3_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "page__desc text m-b-30"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, t('fast_toss_step3_desc'))), authMode == 'info_required' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_UserEditForm__WEBPACK_IMPORTED_MODULE_24__["UserEditForm"], {
    onBeforeRequest: onAuthBeforeRequest,
    compactShowMode: true,
    onEdit: onFinishAuth,
    ButtonsRow: ComplexButtons
  }), !isAuth && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, !authMode && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_StartAuthForm__WEBPACK_IMPORTED_MODULE_21__["StartAuthForm"], {
    AdditionalRows: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_7__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Checkbox__WEBPACK_IMPORTED_MODULE_11__["Checkbox"], {
      onChange: function onChange(e) {
        setFastTossFormData(function (d) {
          return _objectSpread(_objectSpread({}, d), {}, {
            is_admin_playing: e.target.checked
          });
        });
      },
      name: "is_admin_playing",
      label: t('fast_toss_i_play_too'),
      mods: ['center']
    }))),
    ButtonsRow: ComplexButtons,
    onBeforeRequest: onAuthBeforeRequest,
    onRequested: function onRequested() {
      return setIsLoading(false);
    },
    onLoginRequired: function onLoginRequired() {
      return setAuthMode('login');
    },
    onRegisterRequired: function onRegisterRequired() {
      return setAuthMode('register');
    }
  }), authMode == 'login' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_LoginForm__WEBPACK_IMPORTED_MODULE_22__["LoginForm"], {
    onError: function onError() {
      return setIsLoading(false);
    },
    onBeforeRequest: onAuthBeforeRequest,
    onLogin: onFinishAuth,
    ButtonsRow: ComplexButtons
  }), authMode == 'register' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_RegisterForm__WEBPACK_IMPORTED_MODULE_23__["RegisterForm"], {
    additionalData: {
      registred_from: 'fast_toss'
    },
    onBeforeRequest: onAuthBeforeRequest,
    onLogin: function onLogin() {
      setAuthMode('info_required');
      setIsLoading(false);
    },
    ButtonsRow: ComplexButtons
  })), isAuth && !authMode && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_7__["Form"], {
    initialValues: {},
    onSubmit: onFinishAuth
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "row row--sm align-items-center"
  }, ComplexButtons)));
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    isAuth && navigate(_routes__WEBPACK_IMPORTED_MODULE_20__["URLS"].GameCreate);
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_9__["PageTitle"], {
    title: t('fast_toss_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t('fast_toss_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_7__["Form"], formProps, function (_ref) {
    var values = _ref.values,
      formikBag = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
    var validate = function validate(step) {
      var isError = false;
      var makeError = function makeError(playerIndex, errorMessage) {
        formikBag.setFieldError("players[".concat(playerIndex, "][email]"), errorMessage);
        isError = true;
      };
      return new Promise(function (resolve) {
        var emailIndexMapper = {};
        setIsDisabledNext(!values.players || !values.players.length);
        values.players.map(function (i, index) {
          if (emailIndexMapper[i.email] !== undefined) makeError(index, t('fast_toss_existing_email'));
          emailIndexMapper[i.email] = index;
        });
        if (!isError) {
          setIsLoading(true);
          _helpers_ky__WEBPACK_IMPORTED_MODULE_16__["default"].post('fast_toss/validate_emails', {
            json: {
              emails: values.players.map(function (i) {
                return i.email;
              })
            }
          }).json().then(function (_ref2) {
            var incorrect = _ref2.incorrect;
            incorrect.length && incorrect.map(function (invalidEmail) {
              makeError(emailIndexMapper[invalidEmail], _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_19__["ErrorMessages"].INVALID_EMAIL());
            });
            resolve(!isError);
          })["finally"](function () {
            return setIsLoading(false);
          });
        } else resolve(false);
      });
    };
    Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
      var rows = values.unprocessed_players_data.split(/[\n]+/);
      var processedPlayers = [];
      rows.map(function (row) {
        if (!row.trim()) return;
        var _ref3 = row.match(/([a-zA-Z0-9._\-+]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi) || [],
          _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_ref3, 1),
          email = _ref4[0],
          _row$replace$split$fi = row.replace(email || '', '').split(/[\s;,_:\/\\\t]+/).filter(function (s) {
            return !!s;
          }),
          _row$replace$split$fi2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_row$replace$split$fi, 2),
          first_name = _row$replace$split$fi2[0],
          last_name = _row$replace$split$fi2[1];
        if (!email) return;
        processedPlayers.push({
          first_name: first_name,
          last_name: last_name,
          email: email
        });
      });
      formikBag.setFieldValue('players', processedPlayers);
    }, [values.unprocessed_players_data]);
    Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
      activeStep == 1 && setIsDisabledNext(!values.players || !values.players.length);
    }, [values.players]);
    var Step1 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", {
      className: "h4 m-b-20"
    }, t('fast_toss_step1_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_7__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_8__["Input"], {
      style: {
        minHeight: '200px',
        lineHeight: '27px'
      },
      name: "unprocessed_players_data",
      placeholder: t('fast_toss_preprocessed_input_placeholder'),
      isTextarea: true
    })));
    var Step2 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", {
      className: "h4 m-b-20"
    }, t('fast_toss_step2_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_7__["FormRow"], {
      style: {
        maxWidth: '100%'
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "row row--sm"
    }, values.players.map(function (player, index) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        key: index,
        className: "col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "fast-toss-player"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "row row--xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "col-xs-3 col-6"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_8__["Input"], {
        name: "players[".concat(index, "][first_name]"),
        placeholder: t('name')
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "col-xs-3 col-6"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_8__["Input"], {
        name: "players[".concat(index, "][last_name]"),
        placeholder: t('surname')
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "col"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_8__["Input"], {
        name: "players[".concat(index, "][email]"),
        placeholder: t('email')
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "col-auto"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_10__["Button"], {
        style: {
          padding: '0 20px'
        },
        onClick: function onClick() {
          var l = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(values.players);
          l.splice(index, 1);
          formikBag.setFieldValue('players', l);
        },
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_12__["PngIcon"], {
          name: "trash"
        }),
        mod: ['light', 'gray']
      })))));
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_10__["Button"], {
      type: "button",
      mod: ['block', 'sm', 'red', 'light'],
      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_13__["SvgIcon"], {
        name: "plus"
      }),
      label: t('fast_toss_add_player'),
      onClick: function onClick() {
        return formikBag.setFieldValue('players', [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(values.players), [{
          name: '',
          surname: '',
          email: ''
        }]));
      }
    })))));
    var onClickNext = function onClickNext() {
      if (values.players.length < _core_constants__WEBPACK_IMPORTED_MODULE_18__["MIN_PLAYERS_FOR_TOSS"]) return _helpers_toastify__WEBPACK_IMPORTED_MODULE_25__["toastify"].error(t('fast_toss_validation', {
        min: _core_constants__WEBPACK_IMPORTED_MODULE_18__["MIN_PLAYERS_FOR_TOSS"]
      }));
      validate(activeStep + 1).then(function (isValid) {
        (isValid || activeStep == 1) && setActiveStep(function (s) {
          return s + 1;
        });
      });
    };
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, activeStep == 1 && Step1, activeStep == 2 && Step2, activeStep != FINAL_STEP && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_7__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "row row--sm"
    }, BackButton, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_10__["Button"], {
      isLoading: isLoading,
      disabled: isDisabledNext,
      label: t('next'),
      onClick: onClickNext
    })))));
  }), activeStep == 3 && FinalStep);
}

/***/ }),

/***/ "./app/javascript/pages/ForgotPassword.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/pages/ForgotPassword.tsx ***!
  \*************************************************/
/*! exports provided: ForgotPassword */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ForgotPassword", function() { return ForgotPassword; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");













function ForgotPassword() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_8__["useTranslation"])(),
    t = _useTranslation.t,
    tempEmail = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_5__["getTempEmail"]),
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    error = _useState2[0],
    setError = _useState2[1],
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_11__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_12__["Api"].users.sendPasswordRecoveryLink),
    request = _useApi.request,
    isLoading = _useApi.isLoading,
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(''),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),
    submittedEmail = _useState4[0],
    setSubmittedEmail = _useState4[1];
  var formProps = {
    initialValues: {
      email: tempEmail
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_6__["object"]().shape({
      email: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_7__["emailValidation"]
    }),
    onSubmit: function onSubmit(values, actions) {
      request(values.email).then(function (response) {
        if (response.errors) {
          response.errors.email == 'not found' && setError(t('login_email_doesnt_exist'));
        } else setSubmittedEmail(values.email);
      });
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_10__["PageTitle"], {
    title: t('forgot_password_meta_title')
  }), !submittedEmail ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t('forgot_password_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_3__["Form"], formProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_3__["FormRow"], {
    mod: error ? ['sm'] : []
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_2__["Input"], {
    id: "forgot_password_email",
    placeholder: "example@gmail.com",
    name: "email"
  })), error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_3__["FormRow"], {
    mod: ['sm']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "alert alert--danger"
  }, error)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_3__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_3__["FormSubmit"], {
    id: "forgot_password_save",
    isLoading: isLoading,
    label: t('next')
  })))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t('forgot_password_title_submitted')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "page__desc text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_9__["TransProxy"], {
    i18nKey: "forgot_password_text_submitted",
    components: {
      l: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
        className: "link"
      })
    },
    values: {
      email: submittedEmail
    }
  })))));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Archived.tsx":
/*!************************************************!*\
  !*** ./app/javascript/pages/Game/Archived.tsx ***!
  \************************************************/
/*! exports provided: ArchivedAsPlayer, ArchivedAsAdmin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArchivedAsPlayer", function() { return ArchivedAsPlayer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArchivedAsAdmin", function() { return ArchivedAsAdmin; });
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../redux/slices/games */ "./app/javascript/redux/slices/games.ts");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../components/Button */ "./app/javascript/components/Button.tsx");












function ArchivedAsPlayer(_ref) {
  var showHead = _ref.showHead;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_0__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_1__["GameWrapper"], {
    showHead: showHead,
    title: t('archived_player_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_2__["TransProxy"], {
    i18nKey: "archived_player_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_2__["TransProxy"], {
    i18nKey: "archived_player_text"
  }))));
}
function ArchivedAsAdmin(_ref2) {
  var showHead = _ref2.showHead;
  var _useTranslation2 = Object(react_i18next__WEBPACK_IMPORTED_MODULE_0__["useTranslation"])(),
    t = _useTranslation2.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]),
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useDispatch"])(),
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_6__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_7__["Api"].games.activate, {
      infiniteLoading: true
    }),
    isLoading = _useApi.isLoading,
    activateRequest = _useApi.request;
  var activateGame = function activateGame() {
    Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_8__["confirmAlert"])(t('archived_admin_activate_confirm_text'), {
      buttonText: t('archived_admin_activate_confirm_yes'),
      title: t('archived_admin_activate_confirm_title')
    }).then(function () {
      activateRequest(game.id).then(function () {
        Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["batch"])(function () {
          dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["updateGame"])());
          dispatch(Object(_redux_slices_games__WEBPACK_IMPORTED_MODULE_9__["updateListGameInfo"])({
            id: game.id,
            state: 'active'
          }));
        });
        Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_10__["gtm"])('Game activate', game.id);
      });
    });
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_1__["GameWrapper"], {
    showHead: showHead,
    title: t('archived_admin_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h1", {
    className: "h2 inner-title m-b-40"
  }, t('archived_admin_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "text p-inner__text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_2__["TransProxy"], {
    i18nKey: "archived_admin_text"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_11__["Button"], {
    id: "activate_archived_game",
    label: t('archived_admin_activate_button'),
    onClick: activateGame,
    isLoading: isLoading
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Chat/Common.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/pages/Game/Chat/Common.tsx ***!
  \***************************************************/
/*! exports provided: Common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Common", function() { return Common; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_Chat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../components/Chat */ "./app/javascript/components/Chat/index.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _Components_Title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Components/Title */ "./app/javascript/pages/Game/Components/Title.tsx");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/api */ "./app/javascript/core/api/index.ts");





function Common() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_2__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_Title__WEBPACK_IMPORTED_MODULE_3__["Title"], {
    title: t('chat_all_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Chat__WEBPACK_IMPORTED_MODULE_1__["MessageBox"], {
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
      className: "h2 inner-title"
    }, t('chat_all_title')),
    deleteMessageRequest: _core_api__WEBPACK_IMPORTED_MODULE_4__["Api"].messages.deleteCommonChatMessage,
    fetchListRequest: _core_api__WEBPACK_IMPORTED_MODULE_4__["Api"].messages.getCommonMessages,
    mode: 'all'
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Chat/WithRecipient.tsx":
/*!**********************************************************!*\
  !*** ./app/javascript/pages/Game/Chat/WithRecipient.tsx ***!
  \**********************************************************/
/*! exports provided: WithRecipient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithRecipient", function() { return WithRecipient; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_Chat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../components/Chat */ "./app/javascript/components/Chat/index.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _Components_Title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Components/Title */ "./app/javascript/pages/Game/Components/Title.tsx");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/api */ "./app/javascript/core/api/index.ts");





function WithRecipient() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_2__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_Title__WEBPACK_IMPORTED_MODULE_3__["Title"], {
    title: t('chat_recipient_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Chat__WEBPACK_IMPORTED_MODULE_1__["MessageBox"], {
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
      className: "h2 inner-title"
    }, t('chat_recipient_title')),
    deleteMessageRequest: _core_api__WEBPACK_IMPORTED_MODULE_4__["Api"].messages.deleteAnonChatMessage,
    fetchListRequest: _core_api__WEBPACK_IMPORTED_MODULE_4__["Api"].messages.getRecipientMessages,
    mode: 'recipient'
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Chat/WithSanta.tsx":
/*!******************************************************!*\
  !*** ./app/javascript/pages/Game/Chat/WithSanta.tsx ***!
  \******************************************************/
/*! exports provided: WithSanta */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WithSanta", function() { return WithSanta; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_Chat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../components/Chat */ "./app/javascript/components/Chat/index.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _Components_Title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Components/Title */ "./app/javascript/pages/Game/Components/Title.tsx");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/api */ "./app/javascript/core/api/index.ts");





function WithSanta() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_2__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_Title__WEBPACK_IMPORTED_MODULE_3__["Title"], {
    title: t('chat_santa_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Chat__WEBPACK_IMPORTED_MODULE_1__["MessageBox"], {
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
      className: "h2 inner-title"
    }, t('chat_santa_title')),
    deleteMessageRequest: _core_api__WEBPACK_IMPORTED_MODULE_4__["Api"].messages.deleteAnonChatMessage,
    fetchListRequest: _core_api__WEBPACK_IMPORTED_MODULE_4__["Api"].messages.getSantaMessages,
    mode: 'santa'
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Chat/index.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/pages/Game/Chat/index.tsx ***!
  \**************************************************/
/*! exports provided: WithSanta, WithRecipient, Common, Chat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Chat", function() { return Chat; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _Components_CheckAccess__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Components/CheckAccess */ "./app/javascript/pages/Game/Components/CheckAccess.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _WithSanta__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./WithSanta */ "./app/javascript/pages/Game/Chat/WithSanta.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WithSanta", function() { return _WithSanta__WEBPACK_IMPORTED_MODULE_6__["WithSanta"]; });

/* harmony import */ var _WithRecipient__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./WithRecipient */ "./app/javascript/pages/Game/Chat/WithRecipient.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WithRecipient", function() { return _WithRecipient__WEBPACK_IMPORTED_MODULE_7__["WithRecipient"]; });

/* harmony import */ var _Common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Common */ "./app/javascript/pages/Game/Chat/Common.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Common", function() { return _Common__WEBPACK_IMPORTED_MODULE_8__["Common"]; });

/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");












function Chat() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_10__["useTranslation"])(),
    t = _useTranslation.t;
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]);
  var _useParams = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["useParams"])(),
    chatMode = _useParams['*'];
  var CheckComponent = !game.is_admin || game.is_admin && chatMode ? _Components_CheckAccess__WEBPACK_IMPORTED_MODULE_3__["CheckAccess"] : react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment;
  if (!game.isTossCompleted() && chatMode) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_1__["GameWrapper"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, t('chat_require_toss_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_9__["TransProxy"], {
    i18nKey: "chat_require_toss_text"
  }))));
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_1__["GameWrapper"], {
    customWrapperMod: ' '
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CheckComponent, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Outlet"], null)));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Components/AdminRequired.tsx":
/*!****************************************************************!*\
  !*** ./app/javascript/pages/Game/Components/AdminRequired.tsx ***!
  \****************************************************************/
/*! exports provided: AdminRequired */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminRequired", function() { return AdminRequired; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);





function AdminRequired(_ref) {
  var children = _ref.children;
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_1__["getGame"]),
    requestGameId = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_2__["useParseGameId"])();
  return requestGameId == game.id && game.is_admin === false ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Navigate"], {
    to: game.getUrl()
  }) : children;
}

/***/ }),

/***/ "./app/javascript/pages/Game/Components/CheckAccess.tsx":
/*!**************************************************************!*\
  !*** ./app/javascript/pages/Game/Components/CheckAccess.tsx ***!
  \**************************************************************/
/*! exports provided: CheckAccess */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckAccess", function() { return CheckAccess; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _components_User__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../components/User */ "./app/javascript/components/User.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");











function CheckAccess(props) {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_7__["useTranslation"])(),
    t = _useTranslation.t,
    requestGameId = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_9__["useParseGameId"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_3__["getGame"]),
    authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_10__["getAuthUser"]),
    _useLocation = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["useLocation"])(),
    path = _useLocation.pathname;
  var WaitForAccept = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "wait_accept_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "wait_accept_text"
  }))));
  var DontHaveAccess = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "dont_have_access_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "dont_have_access_text",
    components: {
      admin: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_User__WEBPACK_IMPORTED_MODULE_4__["User"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        mod: ['sm']
      }, game.game_owner))
    }
  }));
  var DisallowToJoin = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "disallow_to_join_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "text"
  }, game.isArchived() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "disallow_to_join_archived_text",
    components: {
      l: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["Link"], {
        to: _routes__WEBPACK_IMPORTED_MODULE_6__["URLS"].GameCreate
      })
    }
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "disallow_to_join_tossed_text",
    components: {
      l: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["Link"], {
        to: _routes__WEBPACK_IMPORTED_MODULE_6__["URLS"].GameCreate
      })
    }
  }))));
  var EmailNotAllowed = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "email_not_allowed_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "email_not_allowed_text"
  }))));
  var componentToRender = props.children || null;
  if (game.whitelist_domains && game.whitelist_domains.length && !game.is_admin && !new RegExp(game.whitelist_domains.join('|').replace('.', '\\.'), 'ig').test(authUser.email)) componentToRender = EmailNotAllowed;
  // If player did not join to the game then redirect to form
  else if (game.isParticipatingUnknown() && !path.endsWith('questionary')) componentToRender = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["Navigate"], {
    to: game.getUrl('questionary')
  });
  // Check availability to join on form
  else if (game.isParticipatingUnknown() && path.endsWith('questionary') && game.allowed_to_join === false) componentToRender = DisallowToJoin;
  // Wait for accept
  else if (game.isParticipatingPending()) componentToRender = WaitForAccept;
  // Join restrict
  else if (game.isParticipatingRejectedGame()) componentToRender = DontHaveAccess;
  return componentToRender;
}

/***/ }),

/***/ "./app/javascript/pages/Game/Components/GameHead.tsx":
/*!***********************************************************!*\
  !*** ./app/javascript/pages/Game/Components/GameHead.tsx ***!
  \***********************************************************/
/*! exports provided: GameHead */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameHead", function() { return GameHead; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var images_crazy_santa_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! images/crazy-santa.png */ "./app/assets/images/crazy-santa.png");
/* harmony import */ var images_crazy_santa_png__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(images_crazy_santa_png__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _components_ProgressCircle__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/ProgressCircle */ "./app/javascript/components/ProgressCircle.tsx");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");














function GameHead(props) {
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useDispatch"])(),
    _useGameTranslation = Object(_i18n__WEBPACK_IMPORTED_MODULE_13__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    isMobile = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_9__["useIsMobile"])(),
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    isCoverLoading = _useState2[0],
    setIsCoverLoading = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    isAvatarLoading = _useState4[0],
    setIsAvatarLoading = _useState4[1],
    gameStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["getGameStatus"]),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["getGame"]),
    gameIsLoading = gameStatus == 'loading';
  var statLineBreaker = isMobile ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("br", null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null);
  var handleImageUpload = function handleImageUpload(e, fieldName, successLabelKey, loaderSetter) {
    e.preventDefault();
    var file = e.target.files[0];
    if (isCoverLoading || !file) return;
    loaderSetter(true);
    Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["activeStorageUpload"])(file).then(function (blob) {
      _core_api__WEBPACK_IMPORTED_MODULE_12__["Api"].games.edit(game.id, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, fieldName, blob.signed_id))().then(function (response) {
        if (response.id) {
          dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["setGameInfo"])(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, fieldName, response[fieldName])));
          _helpers_toastify__WEBPACK_IMPORTED_MODULE_10__["toastify"].success(t(successLabelKey));
        } else _helpers_toastify__WEBPACK_IMPORTED_MODULE_10__["toastify"].error(t('save_error'));
      })["finally"](function () {
        return loaderSetter(false);
      });
    })["catch"](function (error) {
      return _helpers_toastify__WEBPACK_IMPORTED_MODULE_10__["toastify"].error(error);
    });
  };
  var handleCoverChange = function handleCoverChange(e) {
    handleImageUpload(e, 'cover', 'game_head_cover_updated', setIsCoverLoading);
  };
  var handleAvatarChange = function handleAvatarChange(e) {
    handleImageUpload(e, 'avatar', 'game_head_avatar_updated', setIsAvatarLoading);
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    style: game.cover ? {
      backgroundImage: "url(".concat(game.cover, ")")
    } : {},
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()('game-head', {
      'game-head--home': props.homeMode
    })
  }, !game.hide_funny_santa && gameStatus == 'succeeded' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "game-head__santa"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    alt: game.name,
    src: game.santa_image || images_crazy_santa_png__WEBPACK_IMPORTED_MODULE_7___default.a
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()({
      'l-home-wrapper': props.homeMode,
      'l-inner-wrapper': !props.homeMode
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h1", {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()('game-head__title', {
      'h1': props.homeMode,
      'h2': !props.homeMode
    })
  }, (gameIsLoading || game.avatar || game.is_admin) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_ProgressCircle__WEBPACK_IMPORTED_MODULE_11__["ProgressCircle"], {
    size: 60,
    color: "#F74F4F",
    backgroundColor: "#27AE60",
    activate: isAvatarLoading
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    style: gameIsLoading ? {
      background: 'transparent'
    } : {},
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()('game-avatar', {
      'game-avatar--absolute': props.homeMode
    })
  }, game.is_admin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
    onChange: handleAvatarChange,
    type: "file",
    accept: "image/jpeg,image/png"
  }), gameIsLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "ph-round-image"
  }) : game.avatar ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    alt: game.name,
    src: game.avatar
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_8__["SvgIcon"], {
    name: "camera"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()({
      'ph-text': gameIsLoading
    })
  }, game.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "game-head__info"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "row"
  }, [{
    label_key: 'game_head_join_before',
    value: game.join_before ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(game.join_before, t) : '',
    valueMobile: game.join_before ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["formatDateCustomFormat"])(game.join_before, t('date_format_short')) : ''
  }, {
    label_key: 'game_head_gift_send_date',
    value: game.presents_send_date ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(game.presents_send_date, t) : '',
    valueMobile: game.presents_send_date ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["formatDateCustomFormat"])(game.presents_send_date, t('date_format_short')) : ''
  }, {
    label_key: 'game_head_gift_price',
    value: game.present_price ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["formatMoney"])(parseInt(game.present_price)) + ' ' + Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_5__["formatCurrency"])(game.currency) : ''
  }].filter(function (i) {
    return gameIsLoading || i.value;
  }).map(function (item, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      key: index,
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "num-info"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "num-info__label"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_i18n__WEBPACK_IMPORTED_MODULE_13__["T"], {
      i18nKey: item.label_key,
      components: {
        breaker: statLineBreaker
      }
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: classnames__WEBPACK_IMPORTED_MODULE_6___default()('num-info__value', {
        'd-xs-block d-none': item.valueMobile,
        'ph-text': gameIsLoading
      })
    }, item.value), item.valueMobile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: classnames__WEBPACK_IMPORTED_MODULE_6___default()('num-info__value d-xs-none', {
        'ph-text': gameIsLoading
      })
    }, item.valueMobile)));
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "game-head__bottom"
  }, game.message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "game-head__desc"
  }, game.message.split("\n").map(function (t, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, {
      key: index
    }, t, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("br", null));
  }))), game.is_admin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()('game-head__change', {
      'is-loading': isCoverLoading
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
    onChange: handleCoverChange,
    type: "file",
    accept: "image/jpeg,image/png"
  }), isCoverLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "loader"
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_8__["SvgIcon"], {
    name: "image"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, t(isMobile ? 'game_head_change_cover_mobile' : 'game_head_change_cover')))));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Components/Link.tsx":
/*!*******************************************************!*\
  !*** ./app/javascript/pages/Game/Components/Link.tsx ***!
  \*******************************************************/
/*! exports provided: Link */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Link", function() { return Link; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../routes */ "./app/javascript/routes/index.tsx");


var _excluded = ["to", "children"];





function Link(_ref) {
  var to = _ref.to,
    children = _ref.children,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useDispatch"])(),
    navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["useNavigate"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]);
  var handleClick = function handleClick(e) {
    e.preventDefault();
    var _matchPath = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["matchPath"])(_routes__WEBPACK_IMPORTED_MODULE_6__["URLS"].Game('*', ':id'), to),
      params = _matchPath.params;
    if (params.id != (game.slug || game.id)) {
      dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["fetchGame"])(params.id)).then(function () {
        navigate(to);
      });
    } else {
      navigate(to);
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    onClick: handleClick,
    href: to
  }, props), children);
}

/***/ }),

/***/ "./app/javascript/pages/Game/Components/MakeToss.tsx":
/*!***********************************************************!*\
  !*** ./app/javascript/pages/Game/Components/MakeToss.tsx ***!
  \***********************************************************/
/*! exports provided: useTossRestrictions, MakeToss */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useTossRestrictions", function() { return useTossRestrictions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MakeToss", function() { return MakeToss; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../index */ "./app/javascript/pages/Game/index.tsx");
/* harmony import */ var _helpers_snow__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../helpers/snow */ "./app/javascript/helpers/snow.ts");
/* harmony import */ var _components_RequestEmailConfirm__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../components/RequestEmailConfirm */ "./app/javascript/components/RequestEmailConfirm.tsx");
/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");



var _excluded = ["confirmTossLabel", "confirmTossTitle", "gtmEvent", "children", "className"];

















function useTossRestrictions() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_10__["useTranslation"])(),
    t = _useTranslation.t,
    authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_15__["getAuthUser"]),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getGame"]),
    tariffMaxPlayers = Object(_index__WEBPACK_IMPORTED_MODULE_16__["useGameMaxPlayers"])();
  var isNotEnoughPlayers = game.getApprovedPlayersCount() < _core_constants__WEBPACK_IMPORTED_MODULE_13__["MIN_PLAYERS_FOR_TOSS"],
    isMoreThanTariffMaxPlayers = !!tariffMaxPlayers && game.getApprovedPlayersCount() > tariffMaxPlayers,
    isNotConfirmedEmail = authUser.confirmed_email === false,
    issueTossGroups = Object(react__WEBPACK_IMPORTED_MODULE_3__["useMemo"])(function () {
      return (game.toss_groups || []).filter(function (g) {
        return g.players_count && g.players_count < _core_constants__WEBPACK_IMPORTED_MODULE_13__["MIN_PLAYERS_FOR_TOSS"];
      });
    }, [game.toss_groups]),
    isNotEnoughPlayersInGroups = game.isOfficesAndRemoteGetType() && issueTossGroups.length;
  var disableReason = isNotConfirmedEmail ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, t('dashboard_tossed_state_require_confirm_email'), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_RequestEmailConfirm__WEBPACK_IMPORTED_MODULE_18__["RequestEmailConfirm"], null)) : isNotEnoughPlayers ? t('dashboard_tossed_state_require_players') : isMoreThanTariffMaxPlayers ? t('dashboard_tossed_state_require_higher_rate', {
    tariff_players: tariffMaxPlayers
  }) : isNotEnoughPlayersInGroups ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_i18n__WEBPACK_IMPORTED_MODULE_19__["T"], {
    i18nKey: "dashboard_tossed_state_require_group_players",
    values: {
      group_name: issueTossGroups[0].name
    }
  }) : '';
  return {
    isNotEnoughPlayers: isNotEnoughPlayers,
    isMoreThanTariffMaxPlayers: isMoreThanTariffMaxPlayers,
    isNotConfirmedEmail: isNotConfirmedEmail,
    isNotEnoughPlayersInGroups: isNotEnoughPlayersInGroups,
    isEnable: isNotEnoughPlayers || isMoreThanTariffMaxPlayers || isNotConfirmedEmail || isNotEnoughPlayersInGroups,
    disableReason: disableReason
  };
}
function MakeToss(_ref) {
  var confirmTossLabel = _ref.confirmTossLabel,
    confirmTossTitle = _ref.confirmTossTitle,
    gtmEvent = _ref.gtmEvent,
    children = _ref.children,
    className = _ref.className,
    nativeProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useDispatch"])(),
    _useTranslation2 = Object(react_i18next__WEBPACK_IMPORTED_MODULE_10__["useTranslation"])(),
    t = _useTranslation2.t,
    _useTariffs = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_12__["useTariffs"])(),
    isTariffsLoading = _useTariffs.isTariffsLoading,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getGame"]),
    gameUpdateStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getGameUpdateStatus"]),
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    gameWasTossed = _useState2[0],
    setGameWasTossed = _useState2[1],
    navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["useNavigate"])(),
    tariffMaxPlayers = Object(_index__WEBPACK_IMPORTED_MODULE_16__["useGameMaxPlayers"])(),
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_12__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_14__["Api"].games.toss),
    tossRequest = _useApi.request,
    isLoading = _useApi.isLoading,
    setIsLoading = _useApi.setIsLoading,
    checkSuccessTimeout = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(0),
    canvasSnowRef = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(0),
    _useTossRestrictions = useTossRestrictions(),
    isNotEnoughPlayers = _useTossRestrictions.isNotEnoughPlayers,
    isMoreThanTariffMaxPlayers = _useTossRestrictions.isMoreThanTariffMaxPlayers,
    isNotConfirmedEmail = _useTossRestrictions.isNotConfirmedEmail,
    isNotEnoughPlayersInGroups = _useTossRestrictions.isNotEnoughPlayersInGroups,
    isEnable = _useTossRestrictions.isEnable,
    disableReason = _useTossRestrictions.disableReason;
  var onTossError = function onTossError() {
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_5__["gtm"])('Toss - Error', game.id);
    _helpers_toastify__WEBPACK_IMPORTED_MODULE_11__["toastify"].error(t('toss_timeout_error'));
    setIsLoading(false);
  };
  var makeToss = function makeToss(e) {
    e.preventDefault();
    setGameWasTossed(true);

    // Beg user for purchase
    if (isMoreThanTariffMaxPlayers) return Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_9__["confirmAlert"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_i18n__WEBPACK_IMPORTED_MODULE_19__["T"], {
      i18nKey: "toss_max_players_pro_require_message",
      values: {
        players: tariffMaxPlayers
      }
    }), {
      buttonText: t('toss_max_players_pro_require_button'),
      title: t('toss_max_players_pro_require_title')
    }).then(function () {
      return navigate(game.getUrl('purchase'));
    });
    if (disableReason) return Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_9__["confirmAlert"])(disableReason, {
      withoutCancel: true,
      title: t('error')
    });
    Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_9__["confirmAlert"])(confirmTossLabel, {
      buttonText: t('toss_confirm_yes'),
      title: confirmTossTitle || t('toss_confirm_title')
    }).then(function () {
      if (isNotEnoughPlayers) return _helpers_toastify__WEBPACK_IMPORTED_MODULE_11__["toastify"].error(t('toss_require_min_approved_players_error', {
        min: _core_constants__WEBPACK_IMPORTED_MODULE_13__["MIN_PLAYERS_FOR_TOSS"]
      }));
      setIsLoading(true);

      // Timeout checker
      checkSuccessTimeout.current = setTimeout(onTossError, _core_constants__WEBPACK_IMPORTED_MODULE_13__["TOSS_TIMEOUT_S"] * 1000);
      tossRequest(game.id).then(function (response) {
        if (!response.id) {
          clearTimeout(checkSuccessTimeout.current);
          onTossError();
        } else {
          Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_5__["gtm"])(gtmEvent);
          Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["batch"])(function () {
            dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["setJustTossed"])(true));
            dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["updateGame"])());
          });
        }
      })["catch"](function () {
        clearTimeout(checkSuccessTimeout.current);
        onTossError();
      });
    });
  };
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    canvasSnowRef.current && new _helpers_snow__WEBPACK_IMPORTED_MODULE_17__["Snow"](canvasSnowRef.current, 20, {
      speed: [0.5, 0.5]
    });
    return function () {
      return clearTimeout(checkSuccessTimeout.current);
    };
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (gameUpdateStatus == 'succeeded' && game.isTossCompleted() && gameWasTossed) {
      clearTimeout(checkSuccessTimeout.current);
      setGameWasTossed(false);
      navigate(game.getUrl('toss'));
    }
  }, [gameUpdateStatus]);

  // Success checker
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    var checkInterval = null;
    if (game.isTossing()) {
      checkInterval = setInterval(function () {
        ['succeeded', 'idle'].includes(gameUpdateStatus) && dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["updateGame"])());
      }, 1000);
    }
    return function () {
      return checkInterval && clearInterval(checkInterval);
    };
  }, [game.state, gameWasTossed]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, nativeProps, {
    id: "MakeTossBtn",
    onClick: makeToss,
    className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(className, 'toss-button', {
      'is-loading': isLoading || game.isTossing(),
      'btn--disabled': isTariffsLoading
    })
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("canvas", {
    ref: canvasSnowRef,
    style: {
      height: '100%',
      width: '100%',
      top: 0,
      left: 0,
      position: 'absolute'
    }
  }), children);
}

/***/ }),

/***/ "./app/javascript/pages/Game/Components/Players.tsx":
/*!**********************************************************!*\
  !*** ./app/javascript/pages/Game/Components/Players.tsx ***!
  \**********************************************************/
/*! exports provided: Players */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Players", function() { return Players; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_Select__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../components/Select */ "./app/javascript/components/Select.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _components_Player__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/Player */ "./app/javascript/components/Player.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _modals_Player__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../modals/Player */ "./app/javascript/modals/Player.tsx");
/* harmony import */ var _components_Pagination__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../components/Pagination */ "./app/javascript/components/Pagination.tsx");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../components/Button */ "./app/javascript/components/Button.tsx");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }















function Players(props) {
  var gameId = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_13__["useParseGameId"])(),
    _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_10__["useTranslation"])(),
    t = _useTranslation.t,
    isStoredGameSameWithRoute = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_13__["useIsStoredGameSameWithRoute"])(),
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useDispatch"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getGame"]),
    _useLocalesLoaded = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_13__["useLocalesLoaded"])(),
    localesLoaded = _useLocalesLoaded.localesLoaded,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])('all'),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    activeFilter = _useState2[0],
    setActiveFilter = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])([]),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
    players = _useState4[0],
    setPlayers = _useState4[1],
    paginationState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])({}),
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(0),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5, 2),
    page = _useState6[0],
    setPage = _useState6[1],
    PLACEHOLDERS_COUNT = Math.min(_core_constants__WEBPACK_IMPORTED_MODULE_14__["PLAYERS_LOAD_ITEMS"], game.players_count.approved),
    isLoading = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getPlayersStatus"]) == 'loading',
    playersTotalCount = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getPlayersTotalCount"]),
    playersUpdatedData = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getPlayersUpdated"]);
  var filtersList = {
    wait_toss: [{
      text: t('all'),
      id: 'all'
    }, {
      text: t('moderate'),
      id: 'status:pending'
    }, {
      text: t('wait_toss'),
      id: 'status:approved'
    }, {
      text: t('rejected'),
      id: 'status:rejected'
    }],
    toss_completed: [{
      text: t('all'),
      id: 'all'
    }, {
      text: t('bought_present'),
      id: 'present_bought:1'
    }, {
      text: t('received_present'),
      id: 'present_received:1'
    }, {
      text: t('not_bought_present'),
      id: 'present_bought:0'
    }, {
      text: t('not_received_present'),
      id: 'present_received:0'
    }],
    who_is_santa: [{
      text: t('all'),
      id: 'all'
    }, {
      text: t('received_present'),
      id: 'present_received:1'
    }, {
      text: t('not_received_present'),
      id: 'present_received:0'
    }]
  };
  var loadPlayers = function loadPlayers() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var _activeFilter$split = activeFilter.split(':'),
      _activeFilter$split2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_activeFilter$split, 2),
      filterKey = _activeFilter$split2[0],
      filterValue = _activeFilter$split2[1],
      queryParams = {
        limit: _core_constants__WEBPACK_IMPORTED_MODULE_14__["PLAYERS_LOAD_ITEMS"],
        mode: props.mode
      },
      placeholderItems = Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_8__["fillArray"])(PLACEHOLDERS_COUNT, {
        placeholder: true
      });
    if (isLoading) return;

    // Handle user filter
    if (activeFilter != 'all') queryParams[filterKey] = filterValue;

    // Set placeholders to state
    if (options.withFakeItems) setPlayers(function (p) {
      return options.listMode ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(p), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(placeholderItems)) : placeholderItems;
    });
    dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["fetchPlayers"])(_objectSpread(_objectSpread({}, queryParams), options.data))).then(function (_ref) {
      var response = _ref.payload;
      if (!response.players) return _helpers_toastify__WEBPACK_IMPORTED_MODULE_12__["toastify"].error(t('players_load_error'));

      // Set presents with slice fake items
      setPlayers(function (p) {
        var tempPlayers = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(p);
        var responsePlayers = response.players.filter(function (i) {
          return props.mode == 'who_is_santa' ? i.status != 'rejected' : true;
        });
        options.withFakeItems && tempPlayers.splice(p.length - PLACEHOLDERS_COUNT, PLACEHOLDERS_COUNT);
        return options.listMode ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(tempPlayers), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(responsePlayers)) : responsePlayers;
      });
    });
  };
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (isStoredGameSameWithRoute) {
      setPage(0);
      loadPlayers({
        withFakeItems: true
      });
    }
  }, [activeFilter, isStoredGameSameWithRoute]);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (playersUpdatedData !== null) setPlayers(playersUpdatedData);
  }, [playersUpdatedData]);
  var handlePageChange = function handlePageChange(selectedPage, newOffset) {
    setPage(selectedPage);
    loadPlayers({
      withFakeItems: true,
      data: {
        offset: newOffset
      }
    });
  };
  var handleLoadMoreClick = function handleLoadMoreClick() {
    setPage(paginationState.current.nextPage);
    loadPlayers({
      withFakeItems: true,
      listMode: true,
      data: {
        offset: paginationState.current.nextOffset
      }
    });
  };
  var modeFiltersList = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(filtersList[props.mode]), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(game.toss_groups.length > 1 ? [{
    name: localesLoaded ? t('toss_groups') : '',
    children: game.toss_groups.map(function (i) {
      return {
        id: "toss_group_id:".concat(i.id),
        text: i.name
      };
    })
  }] : []));
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_9___default()('players')
  }, game.is_admin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_modals_Player__WEBPACK_IMPORTED_MODULE_15__["Player"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "players__head"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "row align-items-center justify-content-between"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-auto d-flex align-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "row row--sm align-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h4", {
    className: "h4"
  }, props.title || t('players'), !!playersTotalCount && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "font-light m-l-20 d-inline-block"
  }, playersTotalCount))))), modeFiltersList.length > 0 && game.is_admin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-sm-4 col-xxs-6 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Select__WEBPACK_IMPORTED_MODULE_4__["Select"], {
    value: activeFilter,
    onChange: function onChange(v) {
      return setActiveFilter(v);
    },
    data: modeFiltersList
  })))), players.length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "players__list"
  }, players.map(function (player, index) {
    var key = player.email ? "player_".concat(player.email) : index;
    return player.placeholder ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Player__WEBPACK_IMPORTED_MODULE_7__["PlayerPlaceholder"], {
      key: key
    }) : props.mode == 'who_is_santa' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Player__WEBPACK_IMPORTED_MODULE_7__["SantaPlayer"], {
      key: key,
      showSendTo: props.showAllSendTo,
      data: player,
      sendTo: player.send_present_to
    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Player__WEBPACK_IMPORTED_MODULE_7__["Player"], {
      key: key,
      data: player,
      onStatusChange: function onStatusChange(status) {
        dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["updatePlayers"])());
      },
      withControls: props.withControls
    });
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "placeholder-block"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_11__["TransProxy"], {
    i18nKey: "no_such_players"
  }))), !paginationState.current.isEnd && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "players__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_17__["Button"], {
    mod: ['block', 'red', 'light'],
    disabled: isLoading,
    onClick: handleLoadMoreClick,
    label: t('load_more')
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Pagination__WEBPACK_IMPORTED_MODULE_16__["Pagination"], {
    className: "players__pagination",
    paginationStateRef: paginationState,
    itemsPerPage: _core_constants__WEBPACK_IMPORTED_MODULE_14__["PLAYERS_LOAD_ITEMS"],
    totalItems: playersTotalCount || game.players_count.total,
    forcePage: page,
    onPageChange: handlePageChange
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Components/SelectTossGroups.tsx":
/*!*******************************************************************!*\
  !*** ./app/javascript/pages/Game/Components/SelectTossGroups.tsx ***!
  \*******************************************************************/
/*! exports provided: SelectTossGroups */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectTossGroups", function() { return SelectTossGroups; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _components_Select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/Select */ "./app/javascript/components/Select.tsx");


var _excluded = ["isUseFormik"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }






function SelectTossGroups(_ref) {
  var isUseFormik = _ref.isUseFormik,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_2__["useTranslation"])(),
    t = _useTranslation.t;
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["getGame"]);
  var _useLocalesLoaded = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_5__["useLocalesLoaded"])(),
    localesLoaded = _useLocalesLoaded.localesLoaded;
  var tossGroupsForSelect = Object(react__WEBPACK_IMPORTED_MODULE_6__["useMemo"])(function () {
    var labels = {
      office: t('game_toss_groups_offices_placeholder'),
      remote: t('game_toss_groups_remote_placeholder')
    };
    var acceptTypes = ['office', 'remote'];
    var sorted = {};
    var arr = [];
    if (localesLoaded && Array.isArray(game.toss_groups) && game.toss_groups.length) {
      game.toss_groups.forEach(function (group) {
        if (!acceptTypes.includes(group.type)) return;
        if (!sorted[group.type]) sorted[group.type] = {
          name: labels[group.type],
          children: []
        };
        sorted[group.type].children.push({
          id: group.id,
          text: group.name
        });
      });
      Object.values(sorted).forEach(function (v) {
        return arr.push(v);
      });
    }
    return arr;
  }, [game.toss_groups, localesLoaded]);
  var componentProps = _objectSpread(_objectSpread({}, props), {}, {
    search: game.toss_groups.length > 3,
    data: tossGroupsForSelect
  });
  return isUseFormik ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Select__WEBPACK_IMPORTED_MODULE_7__["SelectFormik"], componentProps) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Select__WEBPACK_IMPORTED_MODULE_7__["Select"], componentProps);
}

/***/ }),

/***/ "./app/javascript/pages/Game/Components/Settings.tsx":
/*!***********************************************************!*\
  !*** ./app/javascript/pages/Game/Components/Settings.tsx ***!
  \***********************************************************/
/*! exports provided: Settings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Settings", function() { return Settings; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _components_Datepicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/Datepicker */ "./app/javascript/components/Datepicker.tsx");
/* harmony import */ var _components_Checkbox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../components/Checkbox */ "./app/javascript/components/Checkbox.tsx");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_PhotoUpload__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../components/PhotoUpload */ "./app/javascript/components/PhotoUpload.tsx");
/* harmony import */ var _components_Select__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../components/Select */ "./app/javascript/components/Select.tsx");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../redux/slices/games */ "./app/javascript/redux/slices/games.ts");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _components_ArrayInput__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../components/ArrayInput */ "./app/javascript/components/ArrayInput.tsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../core/api */ "./app/javascript/core/api/index.ts");





var _excluded = ["onSubmit", "formData"],
  _excluded2 = ["values"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }





























function Settings(_ref) {
  var onSubmit = _ref.onSubmit,
    initialFormData = _ref.formData,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4___default()(_ref, _excluded);
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_14__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_11__["getGame"]),
    _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_15__["useTranslation"])(),
    t = _useTranslation.t,
    i18n = _useTranslation.i18n,
    navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_24__["useNavigate"])(),
    _useSuggestedCurrency = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_27__["useSuggestedCurrency"])(),
    suggestedCurrency = _useSuggestedCurrency.currency,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState, 2),
    isShowAdditionalInfo = _useState2[0],
    setIsShowAdditionalInfo = _useState2[1],
    gameId = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_27__["useParseGameId"])(),
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_14__["useDispatch"])(),
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_5__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState3, 2),
    isLoading = _useState4[0],
    setIsLoading = _useState4[1],
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_27__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_30__["Api"].games["delete"]),
    deleteRequest = _useApi.request,
    isDeleteLoading = _useApi.isLoading,
    _useApi2 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_27__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_30__["Api"].games.archive),
    archiveRequest = _useApi2.request,
    isArchivedLoading = _useApi2.isLoading,
    beginData = {
      name: '',
      join_before: new Date(Date.now() + 14 * 60 * 60 * 24 * 1000),
      where_to_get_presents: 'one_place',
      //game_type: 'open',
      //whitelist_domains: [],
      toss_groups: [],
      presents_send_date: '',
      present_price: '',
      currency: suggestedCurrency,
      message: ''
    };
  var deleteGame = function deleteGame(e) {
    e.preventDefault();
    if (isDeleteLoading) return;
    Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_18__["confirmAlert"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_19__["TransProxy"], {
      i18nKey: "game_delete_confirm_text"
    }), {
      buttonText: t('game_delete_confirm_yes'),
      title: t('game_delete_confirm_title')
    }).then(function () {
      deleteRequest(game.id).then(function () {
        dispatch(Object(_redux_slices_games__WEBPACK_IMPORTED_MODULE_21__["removeOrganizerGame"])(game.id));
        Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_22__["gtm"])('Game delete', game.id);
        _helpers_toastify__WEBPACK_IMPORTED_MODULE_23__["toastify"].success(t('game_delete_success'));
        navigate(_routes__WEBPACK_IMPORTED_MODULE_20__["URLS"].GameCreate);
      });
    });
  };
  var archivedGame = function archivedGame(e) {
    e.preventDefault();
    if (isArchivedLoading) return;
    Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_18__["confirmAlert"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_19__["TransProxy"], {
      i18nKey: "game_archive_confirm_text",
      values: {
        game: game.name
      }
    }), {
      buttonText: t('game_archive_confirm_yes'),
      title: t('game_archive_confirm_title')
    }).then(function () {
      archiveRequest(game.id).then(function () {
        Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_22__["gtm"])('Game archive', game.id);
        dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_11__["setGameInfo"])({
          state: 'archived'
        }));
        dispatch(Object(_redux_slices_games__WEBPACK_IMPORTED_MODULE_21__["updateListGameInfo"])({
          id: game.id,
          state: 'archived'
        }));
        _helpers_toastify__WEBPACK_IMPORTED_MODULE_23__["toastify"].success(t('game_archive_success'));
        navigate(game.getUrl());
      });
    });
  };
  var copyGame = function copyGame(e) {
    e.preventDefault();
    dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_29__["setCopyGame"])(_objectSpread(_objectSpread({}, initialFormData), {}, {
      name: "\u041A\u043E\u043F\u0438\u044F \u0438\u0433\u0440\u044B \xAB".concat(initialFormData.name, "\xBB"),
      isCopiedGame: true
    })));
    navigate(_routes__WEBPACK_IMPORTED_MODULE_20__["URLS"].GameCreate);
  };
  var handleSubmit = function handleSubmit(formData) {
    setIsLoading(true);
    if (gameId) {
      var groupsToPost = [],
        groupsToDelete = [],
        domainsToPost = [],
        domainsToDelete = [];
      if (formData.where_to_get_presents == 'offices_n_remote' && Array.isArray(formData.toss_groups)) {
        // To post only if is a new value
        formData.toss_groups.map(function (i) {
          return !i.id && groupsToPost.push({
            name: i.value,
            involvment_type: i.type
          });
        });
        groupsToDelete = game && game.toss_groups && game.toss_groups.length ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_10__["diffArrayOfObjects"])(game.toss_groups, formData.toss_groups, 'id') : [];
      }

      /*if (game.isPro()) {
          // To post only if is a new value
          (formData.whitelist_domains || []).map(i => !i.id && domainsToPost.push(i.value));
           domainsToDelete = game && game.whitelist_domains && game.whitelist_domains.length ? diffArrayOfObjects(game.whitelist_domains, formData.whitelist_domains, 'id') : []
      }*/

      return Promise.all([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(groupsToDelete.map(function (i) {
        return _core_api__WEBPACK_IMPORTED_MODULE_30__["Api"].games.deleteTossGroup(game.id, i.id)();
      })), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(groupsToPost.map(function (i) {
        return _core_api__WEBPACK_IMPORTED_MODULE_30__["Api"].games.addTossGroup(game.id, i)();
      })), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(domainsToDelete.map(function (i) {
        return _core_api__WEBPACK_IMPORTED_MODULE_30__["Api"].games.deleteWhitelistDomain(game.id, i.id)();
      })), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(domainsToPost.map(function (i) {
        return _core_api__WEBPACK_IMPORTED_MODULE_30__["Api"].games.addWhitelistDomain(game.id, i)();
      })))).then(function () {
        return onSubmit(formData);
      })["finally"](function () {
        return setIsLoading(false);
      });
    } else onSubmit(formData).then(function (response) {
      !response.id && setIsLoading(false);
    });
  };
  var formProps = {
    initialValues: Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_10__["assignExistingProperties"])(beginData, initialFormData),
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_12__["object"]().shape({
      name: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"],
      join_before: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"],
      where_to_get_presents: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"],
      toss_groups: yup__WEBPACK_IMPORTED_MODULE_12__["array"]().test('check-toss-groups', _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["ErrorMessages"].REQUIRED, function (value) {
        return value && value.length;
      }),
      //game_type:             requiredValidation,
      presents_send_date: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"],
      present_price: yup__WEBPACK_IMPORTED_MODULE_12__["number"]().required(_helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["ErrorMessages"].REQUIRED).max(10000000, t('form_price_max', {
        max: 10000000
      })),
      message: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"].min(4, t('form_message_min', {
        min: 4
      }))
    }),
    onSubmit: handleSubmit
  };
  var TossGroupInput = function TossGroupInput(props) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_ArrayInput__WEBPACK_IMPORTED_MODULE_25__["ArrayInput"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      limit: 20,
      name: "toss_groups",
      dataMapper: {
        id: 'id',
        value: 'name',
        type: 'type'
      },
      validationSchema: yup__WEBPACK_IMPORTED_MODULE_12__["string"]().test('is-correct-name', t('game_toss_groups_validation_error'), function (value) {
        return /[\w\d\-\s--]$/i.test(value);
      })
    }));
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, props.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["Form"], formProps, function (_ref2) {
    var values = _ref2.values,
      formikProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4___default()(_ref2, _excluded2);
    Object(react__WEBPACK_IMPORTED_MODULE_5__["useEffect"])(function () {
      gameId && game.toss_groups && game.toss_groups.length && formikProps.setFieldValue('toss_groups', game.toss_groups);
    }, [game.toss_groups]);
    Object(react__WEBPACK_IMPORTED_MODULE_5__["useEffect"])(function () {
      dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_11__["setGameInfo"])({
        name: values.name || t('unnamed')
      }));
    }, [values.name]);
    Object(react__WEBPACK_IMPORTED_MODULE_5__["useEffect"])(function () {
      var joinBefore = values.join_before;
      joinBefore && !values.presents_send_date && formikProps.setFieldValue('presents_send_date', Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_10__["editDate"])(7, new Date(joinBefore)).toISOString());
    }, [values.join_before]);
    Object(react__WEBPACK_IMPORTED_MODULE_5__["useEffect"])(function () {
      initialFormData.id && formikProps.setValues(Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_10__["assignExistingProperties"])(beginData, initialFormData));
    }, [initialFormData.id]);
    Object(react__WEBPACK_IMPORTED_MODULE_5__["useEffect"])(function () {
      if (!initialFormData.id && suggestedCurrency) {
        formikProps.setFieldValue('currency', suggestedCurrency);
        formikProps.setFieldValue('present_price', _core_constants__WEBPACK_IMPORTED_MODULE_28__["GAME_DEFAULT_PRICE_GRID"][suggestedCurrency] || '');
      }
    }, [suggestedCurrency]);
    Object(react__WEBPACK_IMPORTED_MODULE_5__["useEffect"])(function () {
      // Add default group when it's new game
      !initialFormData.id && formikProps.setFieldValue('toss_groups', values.where_to_get_presents == 'offices_n_remote' ? [{
        value: t('game_toss_groups_office_default_group'),
        type: 'office'
      }, {
        value: t('game_toss_groups_remote_default_group'),
        type: 'remote'
      }] : [{
        value: ' ',
        type: 'office'
      }]);
    }, [values.where_to_get_presents]);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormValuesDependingOnI18n"], {
      handler: function handler() {
        !initialFormData.id && formikProps.setFieldValue('message', t('game_default_description'));
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], {
      label: t('game_name'),
      hint: t('game_name_hint')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      id: "game_name",
      autoFocus: !initialFormData.id,
      name: "name",
      placeholder: t('game_name_placeholder')
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], {
      disabled: game.getPlayersCount() > 0 ? t('game_get_type_disabled') : false,
      label: t('game_get_type')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Checkbox__WEBPACK_IMPORTED_MODULE_8__["CheckboxList"], {
      id: "game_where_get_presents",
      name: "where_to_get_presents",
      className: "m-t-20",
      type: "radio",
      data: [{
        label: t('game_one_place'),
        value: 'one_place',
        hint: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_19__["TransProxy"], {
          i18nKey: "game_one_place_hint"
        })
      }, {
        label: t('game_delivery'),
        value: 'delivery',
        hint: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_19__["TransProxy"], {
          i18nKey: "game_delivery_hint"
        })
      }, {
        label: t('game_offices_and_remote'),
        value: 'offices_n_remote',
        hint: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_19__["TransProxy"], {
          i18nKey: "game_offices_and_remote_hint"
        })
      }]
    })), values.where_to_get_presents == 'offices_n_remote' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], {
      label: t('game_toss_groups_label'),
      disabled: game.getPlayersCount() > 0 ? t('game_toss_groups_disabled') : false
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(TossGroupInput, {
      parentProps: {
        hint: t('game_toss_groups_offices_hint')
      },
      placeholder: t('game_toss_groups_offices_placeholder'),
      onAdd: function onAdd(item) {
        return _objectSpread(_objectSpread({}, item), {}, {
          type: 'office'
        });
      },
      showFilter: function showFilter(i) {
        return i.type == 'office';
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(TossGroupInput, {
      parentProps: {
        wrapperClassName: 'm-t-20',
        hint: t('game_toss_groups_remote_hint')
      },
      placeholder: t('game_toss_groups_remote_placeholder'),
      onAdd: function onAdd(item) {
        return _objectSpread(_objectSpread({}, item), {}, {
          type: 'remote'
        });
      },
      showFilter: function showFilter(i) {
        return i.type == 'remote';
      }
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], {
      label: t('game_gift_price')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "row"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-xxs-8 col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      id: "game_present_price",
      name: "present_price",
      type: "number",
      placeholder: t('sum')
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-xxs-4 col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Select__WEBPACK_IMPORTED_MODULE_17__["SelectFormik"], {
      id: "game_present_price_currency",
      name: "currency",
      data: Object.entries(Object(_core_constants__WEBPACK_IMPORTED_MODULE_28__["CURRENCIES"])()),
      dataMapper: {
        id: 0,
        text: 1
      }
    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], {
      label: t('game_join_before'),
      hint: t('game_join_before_hint')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Datepicker__WEBPACK_IMPORTED_MODULE_7__["Datepicker"], {
      id: "game_join_before_date",
      placeholder: t('date'),
      name: "join_before",
      minDate: new Date()
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a", {
      className: classnames__WEBPACK_IMPORTED_MODULE_26___default()('link dropdown-link', {
        'is-open': isShowAdditionalInfo
      }),
      onClick: function onClick(e) {
        e.preventDefault();
        setIsShowAdditionalInfo(function (f) {
          return !f;
        });
      },
      href: "app/javascript/pages/Game/Components/GameSettings#Settings.tsx"
    }, t('additionally'))), isShowAdditionalInfo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_PhotoUpload__WEBPACK_IMPORTED_MODULE_16__["PhotoUpload"], {
      id: "game_avatar",
      onSelected: function onSelected(base64String) {
        return dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_11__["setGameInfo"])({
          avatar: base64String
        }));
      },
      name: "avatar",
      preview: {
        url: initialFormData.avatar,
        signed_id: initialFormData.avatar_signed_id
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormLabel"], {
      label: t('game_avatar'),
      hint: t('game_avatar_hint')
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], {
      label: t('game_gift_send_date')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Datepicker__WEBPACK_IMPORTED_MODULE_7__["Datepicker"], {
      id: "game_presents_send_date",
      name: "presents_send_date",
      placeholder: t('date'),
      minDate: new Date()
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], {
      label: t('game_description')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      id: "game_message",
      name: "message",
      placeholder: t('game_description_placeholder'),
      isTextarea: true,
      style: {
        height: '200px'
      }
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "row align-items-center"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-xs-auto col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_9__["FormSubmit"], {
      id: "game_save",
      isLoading: isLoading,
      label: props.buttonText || t('create_game')
    })), game.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "col-xs-auto col-12"
    }, !game.getPlayersCount() ? isDeleteLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "loader"
    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a", {
      id: "game_delete_button",
      className: "link",
      onClick: deleteGame,
      href: "app/javascript/pages/Game/Components/GameSettings#Settings.tsx"
    }, t('delete_game')) : isArchivedLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "loader"
    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a", {
      id: "game_archive_button",
      className: "link",
      onClick: archivedGame,
      href: "app/javascript/pages/Game/Components/GameSettings#Settings.tsx"
    }, t('archive_game'))))));
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Components/Title.tsx":
/*!********************************************************!*\
  !*** ./app/javascript/pages/Game/Components/Title.tsx ***!
  \********************************************************/
/*! exports provided: Title */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Title", function() { return Title; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");




function Title(props) {
  var gameStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_3__["getGameStatus"]);
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_3__["getGame"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_1__["PageTitle"], {
    title: gameStatus == 'succeeded' && props.title ? "".concat(props.title, " - ").concat(game.name) : undefined
  });
}

/***/ }),

/***/ "./app/javascript/pages/Game/Components/i18n.tsx":
/*!*******************************************************!*\
  !*** ./app/javascript/pages/Game/Components/i18n.tsx ***!
  \*******************************************************/
/*! exports provided: useGameTranslation, T */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useGameTranslation", function() { return useGameTranslation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "T", function() { return T; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");


var _excluded = ["t", "i18n"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }





function useGameTranslation() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["useTranslation"])(),
    nativeT = _useTranslation.t,
    i18n = _useTranslation.i18n,
    other = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_useTranslation, _excluded);
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]);
  var t = function t(key, options) {
    var customI18n = (game.i18n ? game.i18n[i18n.language] || {} : '')[key];
    return nativeT(customI18n ? '' : key, _objectSpread(_objectSpread({}, options), {}, {
      defaultValue: customI18n || null
    }));
  };
  return _objectSpread({
    t: t,
    i18n: i18n
  }, other);
}
function T(_ref) {
  var i18nKey = _ref.i18nKey,
    components = _ref.components,
    values = _ref.values;
  var _useTranslation2 = Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["useTranslation"])(),
    i18n = _useTranslation2.i18n;
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]);
  var customI18n = (game.i18n ? game.i18n[i18n.language] || {} : '')[i18nKey];
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_3__["TransProxy"], {
    i18nKey: customI18n ? '' : i18nKey,
    defaults: customI18n || null,
    components: components,
    values: values
  });
}

/***/ }),

/***/ "./app/javascript/pages/Game/Dashboard.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/pages/Game/Dashboard.tsx ***!
  \*************************************************/
/*! exports provided: Dashboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Dashboard", function() { return Dashboard; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _Components_CheckAccess__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Components/CheckAccess */ "./app/javascript/pages/Game/Components/CheckAccess.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _Components_MakeToss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Components/MakeToss */ "./app/javascript/pages/Game/Components/MakeToss.tsx");
/* harmony import */ var _Components_Players__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Components/Players */ "./app/javascript/pages/Game/Components/Players.tsx");
/* harmony import */ var _components_PresentForMeStatus__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../components/PresentForMeStatus */ "./app/javascript/components/PresentForMeStatus.tsx");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _components_InfoPanel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../components/InfoPanel */ "./app/javascript/components/InfoPanel.tsx");
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _components_Channel__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../components/Channel */ "./app/javascript/components/Channel.tsx");
/* harmony import */ var _Invite__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Invite */ "./app/javascript/pages/Game/Invite.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _components_PremiumFunctionality__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../components/PremiumFunctionality */ "./app/javascript/components/PremiumFunctionality.tsx");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _Archived__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Archived */ "./app/javascript/pages/Game/Archived.tsx");
/* harmony import */ var _components_ConfirmExample__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../components/ConfirmExample */ "./app/javascript/components/ConfirmExample.tsx");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./index */ "./app/javascript/pages/Game/index.tsx");





























function Dashboard() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["useTranslation"])(),
    t = _useTranslation.t,
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useDispatch"])(),
    requestGameId = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_8__["useParseGameId"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["getGame"]),
    isStoredGameSameWithRoute = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_8__["useIsStoredGameSameWithRoute"])(),
    authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_14__["getAuthUser"]),
    isMobile = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_8__["useIsMobile"])(),
    tariffMaxPlayers = Object(_index__WEBPACK_IMPORTED_MODULE_28__["useGameMaxPlayers"])(),
    _useTariffs = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_8__["useTariffs"])(),
    isTariffsLoading = _useTariffs.isTariffsLoading,
    isPlayer = !game.is_admin,
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_8__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_22__["Api"].games.cancelToss),
    cancelTossRequest = _useApi.request,
    isCancelTossLoading = _useApi.isLoading,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(authUser.wishlist_liked_counter || 0),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    wishlistLikedCounter = _useState2[0],
    setWishlistLikedCounter = _useState2[1],
    _useTossRestrictions = Object(_Components_MakeToss__WEBPACK_IMPORTED_MODULE_10__["useTossRestrictions"])(),
    isNotEnoughPlayers = _useTossRestrictions.isNotEnoughPlayers,
    isMoreThanTariffMaxPlayers = _useTossRestrictions.isMoreThanTariffMaxPlayers,
    isNotConfirmedEmail = _useTossRestrictions.isNotConfirmedEmail,
    isNotEnoughPlayersInGroups = _useTossRestrictions.isNotEnoughPlayersInGroups,
    tossDisableReason = _useTossRestrictions.disableReason;
  var ParentComponent = isPlayer ? _Components_CheckAccess__WEBPACK_IMPORTED_MODULE_5__["CheckAccess"] : react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment;
  var onListenSocket = function onListenSocket(_ref) {
    var event = _ref.event,
      data = _ref.data;
    if (!['user_like', 'user_unlike'].includes(event)) return;
    setWishlistLikedCounter(data.likes_count);
  };
  var cancelToss = function cancelToss() {
    if (isCancelTossLoading) return;
    var cancel = function cancel() {
      return cancelTossRequest(game.id).then(function () {
        Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_25__["gtm"])('Dashboard - Toss - cancel');
        dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["setGameInfo"])({
          state: 'active'
        }));
      });
    };
    Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_24__["confirmAlert"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_13__["TransProxy"], {
      i18nKey: "dashboard_cancel_draw_confirm_text",
      components: {
        example: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_ConfirmExample__WEBPACK_IMPORTED_MODULE_27__["ConfirmExample"], {
          onSubmit: cancel,
          submitText: t('dashboard_cancel_draw_confirm_button')
        })
      }
    }), {
      withoutButtons: true,
      title: t('dashboard_cancel_draw_confirm_title')
    });
  };
  var TossResults = game.isTossCompleted() && game.isJoinedGame() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "text p-inner__text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, t('dashboard_tossed_state_text'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-md-4 col-xs-6 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_17__["InfoPanel"], {
    label: t('dashboard_info_for_give_to'),
    value: game.getSendPresentTo().name,
    icon: game.getSendPresentTo().avatar ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
      alt: game.getSendPresentTo().name,
      src: game.getSendPresentTo().avatar
    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_18__["PngIcon"], {
      name: "eyes"
    }),
    more: {
      link: game.getUrl('toss/for_receiver')
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-md-4 col-xs-6 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_17__["InfoPanel"], {
    label: t('dashboard_info_my_gift_status'),
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PresentForMeStatus__WEBPACK_IMPORTED_MODULE_12__["PresentForMeStatusLabel"], null),
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PresentForMeStatus__WEBPACK_IMPORTED_MODULE_12__["PresentForMeStatusIcon"], null),
    more: {
      link: game.getUrl('toss/for_me')
    }
  }))));
  var ChatWithOther = game.isTossCompleted() && game.isJoinedGame() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4", {
    className: "h4"
  }, t('dashboard_info_chat_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "p-inner__text text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, t('dashboard_info_chat_text'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row row--xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: game.getUrl('chat/recipient'),
    className: "btn"
  }, t('dashboard_info_chat_with_receiver'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: game.getUrl('chat/santa'),
    className: "btn btn--green"
  }, t('dashboard_info_chat_with_santa')))));
  var NoApprovedPlayersInvite = game.is_admin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "m-b-20"
  }, t('dashboard_no_players_desc')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ol", {
    className: "list"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, t('dashboard_no_players_desc_invite_via_share'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "m-t-10"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Invite__WEBPACK_IMPORTED_MODULE_20__["ShareLink"], {
    pageName: "Dashboard"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, t('dashboard_no_players_desc_invite_via_bulk_emails'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "m-t-10"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Invite__WEBPACK_IMPORTED_MODULE_20__["BulkInvite"], null)))));
  var TossStatus = game.is_admin && !game.isTossCompleted() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_15___default()('m-b-20', {
      'ph-text': isTariffsLoading
    })
  }, tossDisableReason || t('dashboard_tossed_state_ready')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row row--sm align-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Components_MakeToss__WEBPACK_IMPORTED_MODULE_10__["MakeToss"], {
    confirmTossLabel: t('dashboard_toss_confirm_text'),
    gtmEvent: "Toss - performed",
    className: "btn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, t('dashboard_make_toss')), isMoreThanTariffMaxPlayers && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "pro pro--static"
  }))), isNotEnoughPlayers && !isNotConfirmedEmail && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: game.getUrl('invite'),
    className: "btn btn--green"
  }, t('dashboard_invite'))), isMoreThanTariffMaxPlayers && !isTariffsLoading && tariffMaxPlayers && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: game.getUrl('purchase'),
    className: "link"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_13__["TransProxy"], {
    i18nKey: "dashboard_buy_pro"
  })))));
  var WhenIWait = !game.isTossCompleted() && game.isJoinedGame() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "p-inner__text"
  }, game.is_admin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4", {
    className: "h4"
  }, t('dashboard_info_wait_toss_wait_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "m-b-20"
  }, t('dashboard_info_wait_toss_wait_text')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row row--xs"
  }, !game.hide_wait_toss_wishlist_button && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: _routes__WEBPACK_IMPORTED_MODULE_9__["URLS"].Wishlist,
    className: classnames__WEBPACK_IMPORTED_MODULE_15___default()('btn', [wishlistLikedCounter < _core_constants__WEBPACK_IMPORTED_MODULE_16__["WISHLIST_REQUIRE_TO_LIKE"] ? 'btn--outline' : 'btn--green'])
  }, t('dashboard_info_wait_toss_wishlist_button') + (wishlistLikedCounter < _core_constants__WEBPACK_IMPORTED_MODULE_16__["WISHLIST_REQUIRE_TO_LIKE"] ? " ".concat(wishlistLikedCounter, "/").concat(_core_constants__WEBPACK_IMPORTED_MODULE_16__["WISHLIST_REQUIRE_TO_LIKE"]) : ''))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: game.getUrl('chat'),
    className: "btn btn--outline"
  }, t('dashboard_info_wait_toss_chat_button')))));
  var DontForgetJoin = !game.isTossCompleted() && !game.isJoinedGame() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "p-inner__text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "m-b-20"
  }, t('dashboard_info_wait_toss_dont_forget_join_text')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row row--xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: game.getUrl('questionary'),
    className: "btn btn--green"
  }, t('dashboard_join')))));
  var WhoIsSantaAdv = game.isTossCompleted() && game.is_admin && !game.isPro() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "who-santa-trigger"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "who-santa-trigger__inn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4", {
    className: "h4 who-santa-trigger__title"
  }, t('dashboard_who_is_santa_adv_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", {
    className: "who-santa-trigger__desc"
  }, t('dashboard_who_is_santa_adv_text')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row align-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: game.getUrl('who_is_santa'),
    className: "btn btn--black"
  }, t('dashboard_who_is_santa_adv_button'), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "pro pro--static"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-xs-auto col-12 text-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: game.getUrl('purchase'),
    className: "who-santa-trigger__link"
  }, t('dashboard_who_is_santa_adv_change_tariff'))))));
  var isPlayersFrom7To10 = game.getApprovedPlayersCount() >= 7 && game.getApprovedPlayersCount() <= 10,
    isPlayersFrom11To35 = game.getApprovedPlayersCount() >= 11 && game.getApprovedPlayersCount() <= 35,
    isPlayersMoreThan36 = game.getApprovedPlayersCount() >= 36,
    YouHaveToPurchasePro = game.is_admin && !game.isPro() && !game.isTossCompleted() && (isPlayersFrom7To10 || isPlayersFrom11To35 || isPlayersMoreThan36) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "p-inner__button"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "purchase-pro"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "purchase-pro__inner"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4", {
      className: "h4 purchase-pro__title"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_13__["TransProxy"], {
      i18nKey: "dashboard_pro_adv_title"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "text"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_13__["TransProxy"], {
      i18nKey: isPlayersFrom7To10 ? 'dashboard_pro_adv_7_to_10' : isPlayersFrom11To35 ? 'dashboard_pro_adv_11_to_35' : isPlayersMoreThan36 ? 'dashboard_pro_adv_from_36' : null,
      values: {
        players: game.getApprovedPlayersCount()
      },
      components: {
        l: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
          className: "link",
          to: game.getUrl('purchase')
        })
      }
    }))))));
  var CancelDraw = game.is_admin && game.isTossCompleted() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4", {
    className: "h4"
  }, t('dashboard_cancel_draw_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "m-b-20"
  }, Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_21__["nl2br"])(t('dashboard_cancel_draw_description'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row row--sm align-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PremiumFunctionality__WEBPACK_IMPORTED_MODULE_23__["PremiumFunctionality"], {
    tag: "button",
    onClick: cancelToss,
    className: classnames__WEBPACK_IMPORTED_MODULE_15___default()('btn', {
      'btn--disabled': !game.isPro(),
      'is-loading': isCancelTossLoading
    }),
    id: "cancel_toss"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, t('dashboard_cancel_draw_button')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "pro pro--static"
  }))), !game.isPro() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    className: isMobile ? 'btn btn--outline' : 'link',
    to: game.getUrl('purchase')
  }, t('dashboard_cancel_draw_change_rate')))));
  var PlayersBlock = !!game.getPlayersCount() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Components_Players__WEBPACK_IMPORTED_MODULE_11__["Players"], {
    mode: game.isTossCompleted() ? 'toss_completed' : 'wait_toss',
    withControls: game.is_admin && !game.isArchived()
  }));
  if (game.isArchived()) return game.is_admin ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Archived__WEBPACK_IMPORTED_MODULE_26__["ArchivedAsAdmin"], {
    showHead: true
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Archived__WEBPACK_IMPORTED_MODULE_26__["ArchivedAsPlayer"], {
    showHead: true
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_7__["GameWrapper"], {
    showHead: true,
    title: t('dashboard_meta_title')
  }, isStoredGameSameWithRoute && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ParentComponent, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Channel__WEBPACK_IMPORTED_MODULE_19__["Channel"], {
    name: "RoomNotifications",
    onReceive: onListenSocket
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Channel__WEBPACK_IMPORTED_MODULE_19__["Channel"], {
    name: "Room",
    connectParams: {
      id: game.id
    },
    onReceive: function onReceive(_ref2) {
      var event = _ref2.event,
        data = _ref2.data;
      switch (event) {
        case 'update_game':
          dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["updateGame"])());
          break;
        case 'players_changed':
          Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["batch"])(function () {
            dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["updateGame"])());
            dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["updatePlayers"])());
          });
          break;
      }
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
    className: "h2 inner-title m-b-40"
  }, t(game.is_admin && !game.getApprovedPlayersCount() ? 'dashboard_no_players_title' : !game.isTossCompleted() && !game.is_admin && !game.isJoinedGame() ? 'dashboard_info_wait_toss_dont_forget_join_title' : game.isTossCompleted() ? 'dashboard_title_tossed' : 'dashboard_title_wait_for_toss')), game.getApprovedPlayersCount() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, TossStatus, YouHaveToPurchasePro, WhenIWait, DontForgetJoin, TossResults, ChatWithOther, WhoIsSantaAdv) : NoApprovedPlayersInvite, PlayersBlock, CancelDraw));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Invite.tsx":
/*!**********************************************!*\
  !*** ./app/javascript/pages/Game/Invite.tsx ***!
  \**********************************************/
/*! exports provided: BulkInvite, ShareLink, Invite */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BulkInvite", function() { return BulkInvite; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShareLink", function() { return ShareLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Invite", function() { return Invite; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _components_SocialsList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/SocialsList */ "./app/javascript/components/SocialsList.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _components_PremiumFunctionality__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../components/PremiumFunctionality */ "./app/javascript/components/PremiumFunctionality.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _components_MobileAccordion__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../components/MobileAccordion */ "./app/javascript/components/MobileAccordion.tsx");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../redux/slices/games */ "./app/javascript/redux/slices/games.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./index */ "./app/javascript/pages/Game/index.tsx");
/* harmony import */ var _modals_SuccessModal__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../modals/SuccessModal */ "./app/javascript/modals/SuccessModal.tsx");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _components_RequestEmailConfirm__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../components/RequestEmailConfirm */ "./app/javascript/components/RequestEmailConfirm.tsx");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _components_Checkbox__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../components/Checkbox */ "./app/javascript/components/Checkbox.tsx");
/* harmony import */ var use_deep_compare_effect__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! use-deep-compare-effect */ "./node_modules/use-deep-compare-effect/dist/use-deep-compare-effect.esm.js");
/* harmony import */ var autosize__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! autosize */ "./node_modules/autosize/dist/autosize.esm.js");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");


var _excluded = ["values"];































function EditSlug(props) {
  var navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_18__["useNavigate"])(),
    _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_31__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_7__["getGame"]),
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(game.slug || ''),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    slug = _useState2[0],
    setSlug = _useState2[1],
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_17__["Api"].games.edit),
    request = _useApi.request,
    isLoading = _useApi.isLoading,
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(''),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    error = _useState4[0],
    setError = _useState4[1];
  var handleEdit = function handleEdit(e) {
    e.preventDefault();
    if (isLoading) return;
    if (!/^[\d\w\-_]+$/ig.test(slug)) return setError(t('invite_game_link_validation'));
    request(game.id, {
      slug: slug
    }).then(function (response) {
      if (response.id) {
        navigate(_routes__WEBPACK_IMPORTED_MODULE_8__["URLS"].Game('invite', response), {
          replace: true
        });
        props.onEdit(response);
      } else _helpers_toastify__WEBPACK_IMPORTED_MODULE_13__["toastify"].error(t('save_error'));
    });
  };
  var handleCancel = function handleCancel(e) {
    e.preventDefault();
    props.onCancel && props.onCancel();
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_4__["InputBoilerplate"], {
    isLoading: isLoading,
    error: error,
    prefix: game.getFullUrl().replace(new RegExp("".concat(game.id, "|").concat(game.slug, "$")), ''),
    autoFocus: true,
    value: slug,
    onChange: function onChange(e) {
      return setSlug(e.target.value);
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "row row--sm m-t-20"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
    onClick: handleEdit,
    className: "link d-inline-block",
    href: "app/javascript/pages/Game/GameInvite#"
  }, t('save'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
    onClick: handleCancel,
    className: "link m-t-20 font-gray",
    href: "app/javascript/pages/Game/GameInvite#"
  }, t('cancel')))));
}
function BulkInvite() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_12__["useTranslation"])(),
    t = _useTranslation.t;
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_7__["getGame"]);
  var authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_22__["getAuthUser"]);
  var _useApi2 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_17__["Api"].games.bulkInvite),
    bulkRequest = _useApi2.request,
    isLoading = _useApi2.isLoading;
  var formProps = {
    initialValues: {
      emails: '',
      processedEmails: []
    },
    onSubmit: function onSubmit(values, actions) {
      if (Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_30__["getTimestamp"])() - parseInt(localStorage.getItem('bulk_invite_last_send')) < _core_constants__WEBPACK_IMPORTED_MODULE_25__["BULK_INVITE_TIMEOUT_BETWEEN_M"] * 60) Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_24__["confirmAlert"])(t('invite_bulk_too_freq_submit'), {
        title: t('error'),
        withoutCancel: true
      });else bulkRequest(game.id, values.processedEmails).then(function () {
        Object(_modals_SuccessModal__WEBPACK_IMPORTED_MODULE_21__["openSuccessAlert"])(t('invite_bulk_success_title'), t('invite_bulk_success_desc'));
        actions.setFieldValue('emails', '');
        localStorage.setItem('bulk_invite_last_send', Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_30__["getTimestamp"])().toString());
      });
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_3__["Form"], formProps, function (_ref) {
    var values = _ref.values,
      formikBag = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, _excluded);
    Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
      if (!game.isPro()) formikBag.setFieldError('emails', values.processedEmails.length > _core_constants__WEBPACK_IMPORTED_MODULE_25__["BULK_INVITE_MAX_EMAILS"] ? t('invite_bulk_too_many_emails', {
        max: _core_constants__WEBPACK_IMPORTED_MODULE_25__["BULK_INVITE_MAX_EMAILS"]
      }) : '');
    }, [values.processedEmails]);
    Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
      var rows = values.emails.split(/[\n]+/);
      var processedEmails = [];
      rows.map(function (row) {
        if (!row.trim()) return;
        var _ref2 = row.match(/([a-zA-Z0-9._\-+]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi) || [],
          _ref3 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref2, 1),
          email = _ref3[0];
        if (!email) return;
        processedEmails.push(email);
      });
      formikBag.setFieldValue('processedEmails', processedEmails);
    }, [values.emails]);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "m-b-20"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_4__["Input"], {
      name: "emails",
      placeholder: "example@gmail.com\nexample2@gmail.com\nexample3@gmail.com",
      isTextarea: true
    })), authUser && authUser.confirmed_email === false && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "input-error m-b-10",
      style: {
        fontSize: '14px'
      }
    }, t('invite_bulk_email_unconfirmed'), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_RequestEmailConfirm__WEBPACK_IMPORTED_MODULE_23__["RequestEmailConfirm"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_3__["FormSubmit"], {
      disabled: authUser.confirmed_email === false || !values.processedEmails || !values.processedEmails.length || formikBag.errors.emails,
      isLoading: isLoading,
      label: t('invite_bulk_button')
    }));
  });
}
function ShareLink(_ref4) {
  var pageName = _ref4.pageName;
  var _useTranslation2 = Object(react_i18next__WEBPACK_IMPORTED_MODULE_12__["useTranslation"])(),
    t = _useTranslation2.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_7__["getGame"]),
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    withText = _useState6[0],
    setWithText = _useState6[1],
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(''),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7, 2),
    inviteText = _useState8[0],
    setInviteText = _useState8[1],
    textareaElRef = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])(null),
    isMobile = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useIsMobile"])();
  Object(use_deep_compare_effect__WEBPACK_IMPORTED_MODULE_28__["default"])(function () {
    setInviteText(t('invite_message_default', {
      link: game.getFullUrl()
    }));
  }, [game]);
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    withText && textareaElRef.current && Object(autosize__WEBPACK_IMPORTED_MODULE_29__["default"])(textareaElRef.current);
    return function () {
      !withText && textareaElRef.current && autosize__WEBPACK_IMPORTED_MODULE_29__["default"].destroy(textareaElRef.current);
    };
  }, [withText]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "m-b-20"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_4__["InputBoilerplate"], {
    wrapperClassName: "m-b-10",
    value: game.getFullUrl(),
    readOnly: true,
    isCopiable: true,
    onCopied: function onCopied(v) {
      return Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_9__["gtm"])("".concat(pageName, " - copy link"), {
        link: v
      });
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Checkbox__WEBPACK_IMPORTED_MODULE_27__["CheckboxBoilerplate"], {
    onChange: function onChange(e) {
      setWithText(e.target.checked);
    },
    label: t('invite_share_with_text'),
    mods: ['center']
  }), withText && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "share-msg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "share-msg__tooltip"
  }, t('invite_message_you_can_edit')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("textarea", {
    ref: textareaElRef,
    onChange: function onChange(e) {
      return setInviteText(e.target.value);
    },
    className: "share-msg__input"
  }, inviteText))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_SocialsList__WEBPACK_IMPORTED_MODULE_5__["SocialsList"], {
    shareTitle: game.name,
    shareMessage: withText ? inviteText : '',
    shareLink: game.getFullUrl(),
    onClick: function onClick(item) {
      return Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_9__["gtm"])("".concat(pageName, " - click msg - ").concat(item.key));
    },
    socials: isMobile && Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_30__["isSupportNativeShare"])() ? ['native'] : Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_26__["isRuEnv"])() ? ['telegram', 'whatsapp', 'viber'] : ['whatsapp', 'facebook']
  }));
}
function Invite() {
  var _useTranslation3 = Object(react_i18next__WEBPACK_IMPORTED_MODULE_12__["useTranslation"])(),
    t = _useTranslation3.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_7__["getGame"]),
    _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState9, 2),
    editLinkMode = _useState10[0],
    setEditLinkMode = _useState10[1],
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useDispatch"])(),
    isMobile = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useIsMobile"])();
  var EditGameLink = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "m-b-20"
  }, editLinkMode ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(EditSlug, {
    onCancel: function onCancel() {
      return setEditLinkMode(false);
    },
    onEdit: function onEdit(response) {
      var slug = response.slug,
        custom_url = response.custom_url;
      Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["batch"])(function () {
        dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_7__["setGameInfo"])({
          slug: slug,
          custom_url: custom_url
        }));
        dispatch(Object(_redux_slices_games__WEBPACK_IMPORTED_MODULE_19__["updateListGameInfo"])(response));
      });
      setEditLinkMode(false);
    }
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ShareLink, {
    pageName: "Invite"
  }));
  var EditGameLinkTrigger = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_PremiumFunctionality__WEBPACK_IMPORTED_MODULE_11__["PremiumFunctionality"], {
    tag: "a",
    onClick: function onClick(e) {
      e.preventDefault();
      game.isPro() && setEditLinkMode(true);
      e.stopPropagation();
    },
    className: classnames__WEBPACK_IMPORTED_MODULE_10___default()('link d-inline-block', {
      'font-light': !game.isPro()
    }),
    href: "#"
  }, t('invite_game_link_set'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    style: {
      verticalAlign: 'inherit',
      marginLeft: '4px'
    },
    className: "pro"
  }));
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_20__["AdminRequired"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_14__["GameWrapper"], {
    title: t('invite_meta_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, t('invite_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "form"
  }, isMobile ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_MobileAccordion__WEBPACK_IMPORTED_MODULE_16__["MobileAccordion"], {
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      style: {
        marginRight: '15px'
      }
    }, t('invite_game_link')), !editLinkMode && EditGameLinkTrigger),
    open: true
  }, EditGameLink), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_MobileAccordion__WEBPACK_IMPORTED_MODULE_16__["MobileAccordion"], {
    title: t('invite_bulk_label'),
    description: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_32__["TransProxy"], {
      i18nKey: game.isPro() ? 'invite_bulk_description_pro' : 'invite_bulk_description',
      values: {
        max: _core_constants__WEBPACK_IMPORTED_MODULE_25__["BULK_INVITE_MAX_EMAILS"]
      },
      components: {
        l: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_18__["Link"], {
          className: "link",
          to: game.getUrl('purchase')
        })
      }
    }),
    open: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(BulkInvite, null))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_3__["FormRow"], {
    label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      style: {
        marginRight: '15px'
      }
    }, t('invite_game_link')), !editLinkMode && EditGameLinkTrigger)
  }, EditGameLink), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_3__["FormRow"], {
    label: t('invite_bulk_label'),
    hint: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_32__["TransProxy"], {
      i18nKey: game.isPro() ? 'invite_bulk_description_pro' : 'invite_bulk_description',
      values: {
        max: _core_constants__WEBPACK_IMPORTED_MODULE_25__["BULK_INVITE_MAX_EMAILS"]
      },
      components: {
        l: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_18__["Link"], {
          className: "link",
          to: game.getUrl('purchase')
        })
      }
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(BulkInvite, null))))));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Join.tsx":
/*!********************************************!*\
  !*** ./app/javascript/pages/Game/Join.tsx ***!
  \********************************************/
/*! exports provided: Join */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Join", function() { return Join; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _Components_CheckAccess__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Components/CheckAccess */ "./app/javascript/pages/Game/Components/CheckAccess.tsx");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../redux/slices/games */ "./app/javascript/redux/slices/games.ts");
/* harmony import */ var _components_AddressSuggestionFormik__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../components/AddressSuggestionFormik */ "./app/javascript/components/AddressSuggestionFormik.tsx");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _components_PhoneInput__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../components/PhoneInput */ "./app/javascript/components/PhoneInput.tsx");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var use_deep_compare_effect__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! use-deep-compare-effect */ "./node_modules/use-deep-compare-effect/dist/use-deep-compare-effect.esm.js");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./index */ "./app/javascript/pages/Game/index.tsx");



var _excluded = ["values"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
























function Join() {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_11__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    gameId = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_23__["useParseGameId"])(),
    navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_8__["useNavigate"])(),
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useDispatch"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]),
    gameStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGameStatus"]),
    gameUpdateStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGameUpdateStatus"]),
    user = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_17__["getAuthUser"]),
    tempGameId = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_17__["getTempGameId"]);
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    isLoading = _useState2[0],
    setIsLoading = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
    isShowAdditionalDeliveryFields = _useState4[0],
    setIsShowAdditionalDeliveryFields = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5, 2),
    isShowExtendedAddress = _useState6[0],
    setIsShowExtendedAddress = _useState6[1],
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(0),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState7, 2),
    tossGroupItem = _useState8[0],
    setTossGroupItem = _useState8[1],
    oldGameState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(gameStatus == 'succeeded' ? _objectSpread({}, game) : null);
  var _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_23__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_25__["Api"].usersInGame.add),
    addRequest = _useApi.request,
    _useApi2 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_23__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_25__["Api"].usersInGame.edit),
    editRequest = _useApi2.request,
    _useApi3 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_23__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_25__["Api"].usersInGame["delete"]),
    deleteRequest = _useApi3.request;
  var isValidAddress = function isValidAddress(data) {
      return !!data.street_num;
    },
    checkForUrlRegExp = /(((https?:\/\/)|(www\.))[^\s]+)/g;

  // Save old state of the current game if it is updating
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if ((!oldGameState.current || oldGameState.current.id != game.id) && gameStatus == 'succeeded') oldGameState.current = _objectSpread({}, game);
    setIsShowExtendedAddress(false);
    setIsShowAdditionalDeliveryFields(isValidAddress(game.getParticipating()));
  }, [gameStatus]);

  // Watch game update status after valid response
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (gameUpdateStatus == 'succeeded' && isLoading) {
      setIsLoading(false);
      // If user has not joined the game before
      if (!oldGameState.current.participating) {
        tempGameId && tempGameId == game.id && dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_17__["setTempGameId"])(null));
        dispatch(Object(_redux_slices_games__WEBPACK_IMPORTED_MODULE_15__["addPlayableGame"])(game));
        // Redirect to wishlist only if currency is rouble otherwise toss
        navigate(game.getUrl());
      } else _helpers_toastify__WEBPACK_IMPORTED_MODULE_21__["toastify"].success(t('questionary_updated'));
    }
  }, [gameUpdateStatus]);
  var leaveGame = function leaveGame(e) {
    e.preventDefault();
    Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_19__["confirmAlert"])(t('questionary_leave_confirm_text'), {
      buttonText: t('questionary_leave_confirm_yes'),
      title: t('questionary_leave_confirm_title')
    }).then(function () {
      deleteRequest(game.participating.id).then(function (response) {
        if (response.message) return _helpers_toastify__WEBPACK_IMPORTED_MODULE_21__["toastify"].error(response.message);
        Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_18__["gtm"])('Left game');

        // Remove user's participating
        dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["setGameInfo"])({
          participating: null
        }));
        navigate(game.is_admin ? game.getUrl() : _routes__WEBPACK_IMPORTED_MODULE_9__["URLS"].UserEditInfo);
      });
    });
  };
  var telephoneValidate = _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["phoneValidation"].required(_helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["ErrorMessages"].REQUIRED);
  var addressValidate = !isShowExtendedAddress ? _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"].min(4, t('form_symbols_min', {
    min: 4
  })) : yup__WEBPACK_IMPORTED_MODULE_12__["string"]();
  var beginData = _objectSpread({
    wish_message: '',
    unwish_message: '',
    toss_group_id: '',
    i_m_remote_employee: game.isOfficesAndRemoteGetType() && (!!game.getParticipating('address') || !!game.getParticipating('telephone')),
    address: user.address,
    telephone: '',
    flat: '',
    floor: '',
    entrance: '',
    entrance_code: '',
    zip_code: '',
    delivery_comemnt: '',
    country: '',
    region: '',
    city: '',
    street: '',
    street_num: '',
    lat: '',
    lng: ''
  }, Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_14__["removeEmpty"])(game.getParticipating()));
  var formProps = {
    initialValues: beginData,
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_12__["object"]().shape(_objectSpread({
      wish_message: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"].min(4, t('form_symbols_min', {
        min: 4
      })).test('has-urls', t('questionary_disallow_urls'), function (v) {
        return !checkForUrlRegExp.test(v);
      }),
      unwish_message: yup__WEBPACK_IMPORTED_MODULE_12__["string"]().min(4, t('form_symbols_min', {
        min: 4
      })).test('has-urls', t('questionary_disallow_urls'), function (v) {
        return !checkForUrlRegExp.test(v);
      }),
      telephone: game.isDeliveryGetType() ? telephoneValidate : yup__WEBPACK_IMPORTED_MODULE_12__["string"]().nullable().when("i_m_remote_employee", {
        is: true,
        then: telephoneValidate
      }),
      address: game.isDeliveryGetType() || tossGroupItem.type == 'remote' ? addressValidate : yup__WEBPACK_IMPORTED_MODULE_12__["string"]().nullable().when("i_m_remote_employee", {
        is: true,
        then: addressValidate
      })
    }, isShowExtendedAddress ? {
      country: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"],
      city: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"],
      street: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"],
      street_num: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_13__["requiredValidation"]
    } : {})),
    onSubmit: function onSubmit(values, actions) {
      if (isLoading) return;
      var process = function process() {
        setIsLoading(true);
        var playerData = _objectSpread(_objectSpread({}, values), {}, {
          game_id: game.id
        });
        (game.isJoinedGame() ? editRequest(game.getParticipating('id'), playerData) : addRequest(playerData)).then(function (response) {
          if (Object.keys(values).filter(function (x) {
            return Object.keys(response).includes(x);
          }).length && !response.id) {
            actions.setErrors(response);
            setIsLoading(false);
          }

          // If response is valid then update current game and mark gtm
          if (response.id) {
            !game.isJoinedGame() && Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_18__["gtm"])('Joined to game', response);
            dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["updateGame"])());
          }
        });
      };
      if (game.isDeliveryGetType() || values.i_m_remote_employee) {
        if (!isShowExtendedAddress && !isValidAddress(values)) return Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_19__["confirmAlert"])(t('questionary_address_confirm_specify_text'), {
          title: t('questionary_address_confirm_specify_title'),
          buttonText: t('questionary_address_specify')
        }).then(function () {
          setIsShowExtendedAddress(true);
        });

        // Generate address string from country, city etc.
        if (isShowExtendedAddress) values.address = [values.country, values.region, t('city_short') + ' ' + values.city, t('street_short') + ' ' + values.street, t('building_short') + ' ' + values.street_num].join(', ');
        if (!game.participating || values.address != game.participating.address) Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_19__["confirmAlert"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_11__["T"], {
          i18nKey: values.flat ? 'questionary_address_confirm_text' : 'questionary_address_confirm_text_no_apart',
          values: {
            address: values.address + (values.flat ? ', ' + t('flat') + ' ' + values.flat : '')
          }
        }), {
          title: t('questionary_address_confirm_title'),
          buttonText: t('questionary_address_confirm_yes')
        }).then(process);else process();
      } else process();
    }
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_22__["GameWrapper"], {
    title: t('questionary_meta_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Components_CheckAccess__WEBPACK_IMPORTED_MODULE_10__["CheckAccess"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, t(game.isJoinedGame() ? 'questionary_title' : 'questionary_fill_required')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["Form"], formProps, function (_ref) {
    var values = _ref.values,
      formikProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, _excluded);
    var isAvailableTossGroups = game.toss_groups && !!game.toss_groups.length,
      tossGroups = game.toss_groups || [],
      selectedTossGroup = Object(react__WEBPACK_IMPORTED_MODULE_3__["useMemo"])(function () {
        return tossGroups.filter(function (i) {
          return i.id == values.toss_group_id;
        }).pop() || {};
      }, [values.toss_group_id]);
    Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
      formikProps.setValues(beginData);
    }, [game.id]);
    Object(use_deep_compare_effect__WEBPACK_IMPORTED_MODULE_24__["default"])(function () {
      isAvailableTossGroups && !values.toss_group_id && formikProps.setFieldValue('toss_group_id', tossGroups[0].id);
    }, [game.toss_groups]);
    Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
      if (isValidAddress(values)) setIsShowAdditionalDeliveryFields(true);
    }, [values.address, values.street_num]);
    Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
      setTossGroupItem(selectedTossGroup);
    }, [values.toss_group_id]);
    var onChangeImRemoteEmployee = function onChangeImRemoteEmployee(e) {
      ['telephone', 'address', 'country', 'region', 'city', 'street', 'street_num', 'flat', 'floor', 'entrance', 'entrance_code', 'zip_code', 'lat', 'lng'].map(function (i) {
        return formikProps.setFieldValue(i, '');
      });
    };
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      label: t('questionary_wish')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "questionary_wish",
      name: "wish_message",
      placeholder: t('questionary_wish_placeholder'),
      isTextarea: true
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      label: t('questionary_unwish')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "questionary_unwish",
      name: "unwish_message",
      placeholder: t('questionary_unwish_placeholder'),
      isTextarea: true
    })), game.isOfficesAndRemoteGetType() && !game.isTossCompleted() && isAvailableTossGroups && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, tossGroups.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      label: t('questionary_toss_group'),
      hint: t(game.play_only_offices ? 'questionary_toss_group_only_offices_hint' : 'questionary_toss_group_hint')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_26__["SelectTossGroups"], {
      isUseFormik: true,
      id: "questionary_toss_group",
      name: "toss_group_id"
    }))), (game.isDeliveryGetType() || values.i_m_remote_employee || selectedTossGroup.type == 'remote') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      label: t('user_edit_phone'),
      hint: t('user_edit_phone_hint')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_PhoneInput__WEBPACK_IMPORTED_MODULE_20__["PhoneInput"], {
      id: "questionary_phone",
      name: "telephone",
      placeholder: t('user_edit_phone_placeholder')
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      label: t('questionary_address'),
      hint: game.address_hint || t('questionary_address_hint')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "form-box"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "row row--xs"
    }, !isShowExtendedAddress ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_AddressSuggestionFormik__WEBPACK_IMPORTED_MODULE_16__["AddressSuggestionFormik"], {
      id: "questionary_address",
      name: "address",
      isValid: isValidAddress(values),
      onSuggestion: function onSuggestion(s) {
        var dataMapper = {
          'country': 'country',
          'region': 'region',
          'city': 'city',
          'street': 'street',
          'building': 'street_num',
          'lat': 'lat',
          'lng': 'lng',
          'postal_code': 'zip_code',
          'flat': 'flat'
        };
        Object.entries(dataMapper).map(function (_ref2) {
          var _ref3 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_ref2, 2),
            suggestionKey = _ref3[0],
            formKey = _ref3[1];
          formikProps.setFieldValue(formKey, s.extra[suggestionKey] || '');
        });
        setIsShowExtendedAddress(true);
        setIsShowAdditionalDeliveryFields(true);
      },
      placeholder: t('questionary_address_placeholder')
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "m-t-10"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "app/javascript/pages/Game/PlayerForm#",
      className: "link",
      onClick: function onClick(e) {
        setIsShowExtendedAddress(true);
        e.preventDefault();
      }
    }, t('questionary_address_manually')))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-4"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "country",
      name: "country",
      placeholder: t('country'),
      visiblePlaceholder: true
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-4"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "region",
      name: "region",
      placeholder: t('region'),
      visiblePlaceholder: true
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-4"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "city",
      name: "city",
      placeholder: t('city'),
      visiblePlaceholder: true
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-9"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "street",
      name: "street",
      placeholder: t('street'),
      visiblePlaceholder: true
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-3"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "street_num",
      name: "street_num",
      placeholder: t('building'),
      visiblePlaceholder: true
    }))), isShowAdditionalDeliveryFields && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-6"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "flat",
      name: "flat",
      type: "number",
      placeholder: t('flat'),
      visiblePlaceholder: true
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-6"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "zip_code",
      name: "zip_code",
      placeholder: t('postcode'),
      visiblePlaceholder: true
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-4"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "entrance",
      name: "entrance",
      placeholder: t('entrance'),
      visiblePlaceholder: true
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-4"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "floor",
      name: "floor",
      placeholder: t('floor'),
      visiblePlaceholder: true
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-4"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "entrance_code",
      name: "entrance_code",
      placeholder: t('entrance_code'),
      visiblePlaceholder: true
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_7__["Input"], {
      id: "delivery_comemnt",
      name: "delivery_comemnt",
      placeholder: t('courier_comment'),
      visiblePlaceholder: true,
      isTextarea: true
    }))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "row align-items-center"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-xs-auto col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormSubmit"], {
      id: "questionary_save",
      isLoading: isLoading,
      label: t(game.isJoinedGame() ? 'save' : 'join_game')
    })), !!game.participating && !game.isTossCompleted() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-xs-auto col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      id: "questionary_leave_game",
      className: "link",
      onClick: leaveGame,
      href: "app/javascript/pages/Game/PlayerForm#"
    }, t('leave_game'))))));
  })));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Landing.tsx":
/*!***********************************************!*\
  !*** ./app/javascript/pages/Game/Landing.tsx ***!
  \***********************************************/
/*! exports provided: Landing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Landing", function() { return Landing; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _components_Checkbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/Checkbox */ "./app/javascript/components/Checkbox.tsx");
/* harmony import */ var _Components_GameHead__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Components/GameHead */ "./app/javascript/pages/Game/Components/GameHead.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../components/Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _partials_Footer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../partials/Footer */ "./app/javascript/partials/Footer.tsx");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _NotFound__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../NotFound */ "./app/javascript/pages/NotFound.tsx");
/* harmony import */ var _layouts_SimplePage__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../layouts/SimplePage */ "./app/javascript/layouts/SimplePage.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _components_SmartAuth__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../components/SmartAuth */ "./app/javascript/components/SmartAuth.tsx");
/* harmony import */ var _components_SocialAuth_GoogleAuth__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../components/SocialAuth/GoogleAuth */ "./app/javascript/components/SocialAuth/GoogleAuth.tsx");
/* harmony import */ var _components_MakeLogin__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../components/MakeLogin */ "./app/javascript/components/MakeLogin.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _components_SocialAuth_YandexAuth__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../components/SocialAuth/YandexAuth */ "./app/javascript/components/SocialAuth/YandexAuth.tsx");
/* harmony import */ var _components_SocialAuth_MailRuAuth__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../components/SocialAuth/MailRuAuth */ "./app/javascript/components/SocialAuth/MailRuAuth.tsx");
/* harmony import */ var _components_SocialAuth_TelegramAuth__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../components/SocialAuth/TelegramAuth */ "./app/javascript/components/SocialAuth/TelegramAuth.tsx");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");





























function Landing(props) {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_28__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    requestedGameId = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_20__["useParseGameId"])(),
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useDispatch"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_7__["getGame"]),
    gameStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_7__["getGameStatus"]),
    isAuth = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_8__["isLogged"]),
    location = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["useLocation"])(),
    gameIsLoading = gameStatus == 'loading',
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    isJoinLoading = _useState2[0],
    setIsJoinLoading = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    activateLogin = _useState4[0],
    setActivateLogin = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    isStartAuth = _useState6[0],
    setIsStartAuth = _useState6[1];
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    game.id != requestedGameId && dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_7__["fetchGame"])(requestedGameId));
    !isAuth && dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_8__["setTempGameId"])(requestedGameId));
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_17__["gtm"])('See landing page');
  }, []);
  var formProps = {
    initialValues: {
      email: '',
      agree: true
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_14__["object"]().shape({
      email: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_15__["emailValidation"].test('check-whitelist-domain', function () {
        return t('landing_email_not_allowed');
      }, function (value) {
        return new RegExp((game.whitelist_domains || []).join('|').replace('.', '\\.'), 'ig').test(value);
      }),
      agree: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_15__["checkboxRequiredValidation"]
    }),
    onSubmit: function onSubmit(_ref, actions) {
      var email = _ref.email;
      Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_17__["gtm"])('Landing page - Left email');
      dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_8__["setTempEmail"])(email));
      setIsStartAuth(true);
    }
  };
  if (gameStatus == 'not_found') return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_layouts_SimplePage__WEBPACK_IMPORTED_MODULE_19__["SimplePage"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_NotFound__WEBPACK_IMPORTED_MODULE_18__["NotFound"], null));
  var JoinForm = game.id ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "game-join"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_SmartAuth__WEBPACK_IMPORTED_MODULE_21__["SmartAuth"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    activate: isStartAuth,
    loaderSetter: setIsJoinLoading
  }, props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_MakeLogin__WEBPACK_IMPORTED_MODULE_23__["MakeLogin"], {
    activateLogin: activateLogin,
    values: {}
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "l-home-wrapper"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h2", {
    className: "h2 game-join__title"
  }, game.game_owner.avatar && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("figure", {
    className: "game-avatar game-avatar--absolute"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    src: game.game_owner.avatar
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_28__["T"], {
    i18nKey: "landing_admin_invite",
    values: {
      owner: game.game_owner.name
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_13__["Form"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, formProps, {
    className: "game-join__form"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    className: "game-join__form-label"
  }, t('landing_join_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_13__["FormRow"], {
    mod: ['sm']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "col-xs col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_3__["Input"], {
    id: "landing_invite_email",
    autoFocus: false,
    name: "email",
    placeholder: t('landing_email_placeholder')
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "col-xs-auto col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_11__["Button"], {
    isLoading: isJoinLoading,
    type: "submit",
    label: t('next')
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_13__["FormRow"], {
    mod: ['sm']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Checkbox__WEBPACK_IMPORTED_MODULE_4__["Checkbox"], {
    name: "agree",
    mods: game.require_agree_process_personal_info ? ['center'] : [],
    label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_28__["T"], {
      i18nKey: game.require_agree_process_personal_info ? 'agree_with_process_personal_data' : 'agree_with_all',
      components: {
        privacy_link: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
          href: _routes__WEBPACK_IMPORTED_MODULE_10__["URLS"].Privacy,
          target: "_blank"
        }),
        terms_link: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
          href: _routes__WEBPACK_IMPORTED_MODULE_10__["URLS"].Terms,
          target: "_blank"
        })
      }
    })
  })), !game.disable_social_auth && !game.whitelist_domains.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_13__["FormRow"], {
    mod: ['sm']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "m-b-20"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b", null, t('use_fast_auth'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "row row--xs"
  }, Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_24__["isRuEnv"])() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_SocialAuth_TelegramAuth__WEBPACK_IMPORTED_MODULE_27__["TelegramAuth"], {
    wrapper: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-xxs-auto"
    }),
    onAuth: function onAuth() {
      return setActivateLogin(true);
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_SocialAuth_GoogleAuth__WEBPACK_IMPORTED_MODULE_22__["GoogleAuth"], {
    wrapper: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-xxs-auto"
    }),
    onAuth: function onAuth() {
      return setActivateLogin(true);
    }
  }), Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_24__["isRuEnv"])() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_SocialAuth_YandexAuth__WEBPACK_IMPORTED_MODULE_25__["YandexAuth"], {
    wrapper: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-xxs-auto"
    }),
    onAuth: function onAuth() {
      return setActivateLogin(true);
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_SocialAuth_MailRuAuth__WEBPACK_IMPORTED_MODULE_26__["MailRuAuth"], {
    wrapper: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-xxs-auto"
    }),
    onAuth: function onAuth() {
      return setActivateLogin(true);
    }
  }))))))) : null;
  var DisallowToJoin = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "game-error"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "l-home-wrapper"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h2", {
    className: "h2 game-error__title"
  }, t('landing_disallow_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "game-error__desc"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_28__["T"], {
    i18nKey: game.isArchived() ? 'landing_disallow_text_archived' : 'landing_disallow_text_tossed',
    components: {
      create_game: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Link"], {
        to: _routes__WEBPACK_IMPORTED_MODULE_10__["URLS"].GameCreate
      }),
      login: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Link"], {
        to: _routes__WEBPACK_IMPORTED_MODULE_10__["URLS"].AuthLogin,
        state: {
          from: props.location
        }
      })
    }
  }))));

  // Redirect all matched subroutes to the root
  if (!location.pathname.endsWith(requestedGameId)) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Navigate"], {
    to: _routes__WEBPACK_IMPORTED_MODULE_10__["URLS"].Game('', requestedGameId)
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_16__["PageTitle"], {
    title: t('landing_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-game"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_GameHead__WEBPACK_IMPORTED_MODULE_5__["GameHead"], {
    homeMode: true
  }), gameIsLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "game-join ph-item"
  }) : game.allowed_to_join ? JoinForm : DisallowToJoin, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-game__footer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "l-home-wrapper"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-game__about"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-game__text text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3", {
    className: "h3 p-game__text-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_28__["T"], {
    i18nKey: "landing_about_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_28__["T"], {
    i18nKey: "landing_about_text"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-game__text text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3", {
    className: "h3 p-game__text-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_28__["T"], {
    i18nKey: "landing_rules_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_28__["T"], {
    i18nKey: "landing_rules_text"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-game__text text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3", {
    className: "h3 p-game__text-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_28__["T"], {
    i18nKey: "landing_more_title"
  }), " "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_28__["T"], {
    i18nKey: "landing_more_text",
    components: {
      mailto: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
        href: 'mailto:' + t('support_email')
      })
    }
  }))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_partials_Footer__WEBPACK_IMPORTED_MODULE_12__["Footer"], {
    wrapperClassName: "l-home-wrapper"
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Game/NotFound.tsx":
/*!************************************************!*\
  !*** ./app/javascript/pages/Game/NotFound.tsx ***!
  \************************************************/
/*! exports provided: NotFound */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotFound", function() { return NotFound; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");
/* harmony import */ var _NotFound__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../NotFound */ "./app/javascript/pages/NotFound.tsx");
/* harmony import */ var _layouts_Inner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layouts/Inner */ "./app/javascript/layouts/Inner.tsx");




function NotFound() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_Inner__WEBPACK_IMPORTED_MODULE_3__["Inner"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_1__["GameWrapper"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NotFound__WEBPACK_IMPORTED_MODULE_2__["NotFound"], null)));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Purchase/Cloudpayments.tsx":
/*!**************************************************************!*\
  !*** ./app/javascript/pages/Game/Purchase/Cloudpayments.tsx ***!
  \**************************************************************/
/*! exports provided: Cloudpayments */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Cloudpayments", function() { return Cloudpayments; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../helpers/ky */ "./app/javascript/helpers/ky.ts");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");










function Cloudpayments(_ref) {
  var activate = _ref.activate,
    tariff = _ref.tariff,
    onError = _ref.onError,
    onSuccess = _ref.onSuccess,
    onBeforeSuccess = _ref.onBeforeSuccess,
    onFinish = _ref.onFinish;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_9__["useTranslation"])(),
    t = _useTranslation.t;
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["getGame"]);
  var user = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__["getAuthUser"]);
  var _useSuggestedCurrency = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_7__["useSuggestedCurrency"])(),
    suggestedCurrency = _useSuggestedCurrency.currency;
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_1__["importExternal"])('https://widget.cloudpayments.ru/bundles/cloudpayments');
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (activate) {
      _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].post('payments', {
        json: {
          price_id: tariff.id,
          game_id: game.id
        }
      }).json().then(function (payment) {
        //@ts-ignore
        var widget = new cp.CloudPayments();
        widget.charge({
          publicId: _helpers_initialState__WEBPACK_IMPORTED_MODULE_3__["initialState"].payment_shop_id,
          //id   
          description: payment.description,
          //
          amount: tariff.price,
          //
          currency: tariff.currency.toUpperCase(),
          //
          invoiceId: payment.id,
          //   ()
          accountId: user.id,
          //  ()
          skin: "classic",
          data: {
            "CloudPayments": {
              "CustomerReceipt": {
                "Items": [{
                  "label": "   PRO ",
                  "price": tariff.price,
                  "quantity": 1,
                  "amount": tariff.price,
                  "vat": 0,
                  "method": 4,
                  "object": 4,
                  "measurementUnit": ""
                }],
                "calculationPlace": "www.mysanta.ru",
                "email": Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_1__["isLocalEmail"])(user.email) ? '' : user.email,
                "isBso": false,
                "amounts": {
                  "electronic": tariff.price
                },
                "data": {
                  game_id: game.id
                }
              }
            }
          }
        }, function (options) {
          onFinish && onFinish();
          if (onBeforeSuccess) onBeforeSuccess().then(function () {
            return onSuccess(payment.id, tariff);
          });else onSuccess(payment.id, tariff);
        }, function (reason, options) {
          // Check out stripe fallback url
          _helpers_ky__WEBPACK_IMPORTED_MODULE_2__["default"].post("payments/".concat(payment.id, "/get_fallback_link"), {
            json: {
              game_id: game.id
            }
          }).json().then(function (response) {
            if (response.url) {
              Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_8__["confirmAlert"])(t('game_purchase_card_error_try_another_provider_confirm_text'), {
                buttonText: t('game_purchase_card_error_try_another_provider_confirm_button'),
                title: t('game_purchase_card_error_try_another_provider_confirm_title')
              }).then(function () {
                window.location.href = response.url;
              });
            } else {
              onFinish && onFinish();
              onError(reason);
            }
          });
        });
      });
    }
  }, [activate, tariff, game]);
  return null;
}

/***/ }),

/***/ "./app/javascript/pages/Game/Purchase/Stripe.tsx":
/*!*******************************************************!*\
  !*** ./app/javascript/pages/Game/Purchase/Stripe.tsx ***!
  \*******************************************************/
/*! exports provided: Stripe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Stripe", function() { return Stripe; });
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _stripe_stripe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stripe/stripe-js */ "./node_modules/@stripe/stripe-js/dist/stripe.esm.js");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @stripe/react-stripe-js */ "./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js");
/* harmony import */ var _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _modals_BaseModal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../modals/BaseModal */ "./app/javascript/modals/BaseModal.tsx");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _components_Price__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../components/Price */ "./app/javascript/components/Price.tsx");
/* harmony import */ var _helpers_ky__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../helpers/ky */ "./app/javascript/helpers/ky.ts");















function CheckoutForm(_ref) {
  var tariff = _ref.tariff,
    onSuccess = _ref.onSuccess,
    onError = _ref.onError,
    onFinish = _ref.onFinish,
    onBeforeSuccess = _ref.onBeforeSuccess;
  var navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_8__["useNavigate"])();
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useDispatch"])();
  var stripe = Object(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_6__["useStripe"])();
  var elements = Object(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_6__["useElements"])();
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(new URLSearchParams(window.location.search).get("payment_intent_client_secret")),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 1),
    queryPaymentIntentSecret = _useState2[0];
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_10__["getGame"]);
  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(''),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    errorMessage = _useState4[0],
    setErrorMessage = _useState4[1];
  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    isLoading = _useState6[0],
    setIsLoading = _useState6[1];
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (stripe && queryPaymentIntentSecret) stripe.retrievePaymentIntent(queryPaymentIntentSecret).then(function (_ref2) {
      var paymentIntent = _ref2.paymentIntent;
      switch (paymentIntent.status) {
        case "succeeded":
          if (game.isPro()) {
            onSuccess && onSuccess(paymentIntent.id, tariff);
            navigate(game.getUrl('purchase'), {
              replace: true
            });
          } else dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_10__["updateGame"])());
          break;
        case "processing":
          //
          break;
        case "requires_payment_method":
          onError("Your payment was not successful, please try again.");
          break;
        default:
          onError("Something went wrong.");
          break;
      }
      onFinish && onFinish();
    });
  }, [stripe, game.paid_status]);
  var handleSubmit = /*#__PURE__*/function () {
    var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(e) {
      var _yield$stripe$confirm, error;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              e.preventDefault();
              if (!(!stripe || !elements)) {
                _context.next = 3;
                break;
              }
              return _context.abrupt("return");
            case 3:
              setIsLoading(true);
              _context.next = 6;
              return stripe.confirmPayment({
                elements: elements,
                confirmParams: {
                  // Make sure to change this to your payment completion page
                  return_url: document.URL
                }
              });
            case 6:
              _yield$stripe$confirm = _context.sent;
              error = _yield$stripe$confirm.error;
              // This point will only be reached if there is an immediate error when
              // confirming the payment. Otherwise, your customer will be redirected to
              // your `return_url`. For some payment methods like iDEAL, your customer will
              // be redirected to an intermediate site first to authorize the payment, then
              // redirected to the `return_url`.
              if (error.type === "card_error") {
                setErrorMessage(error.message);
              } else {
                setErrorMessage("An unexpected error occurred.");
              }
              setIsLoading(false);
            case 10:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return function handleSubmit(_x) {
      return _ref3.apply(this, arguments);
    };
  }();
  return !queryPaymentIntentSecret ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_modals_BaseModal__WEBPACK_IMPORTED_MODULE_11__["BaseModal"], {
    name: "StripePay",
    autoOpen: true,
    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_7__["TransProxy"], {
      i18nKey: "stripe_modal_title",
      components: {
        tariff: tariff.title
      }
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("form", {
    onSubmit: handleSubmit
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], {
    mod: ['sm']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_6__["PaymentElement"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], null, errorMessage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "alert alert--danger"
  }, errorMessage)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_12__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_12__["FormSubmit"], {
    isLoading: isLoading,
    disabled: isLoading || !stripe || !elements,
    label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_7__["TransProxy"], {
      i18nKey: "stripe_modal_pay_button",
      components: {
        price: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Price__WEBPACK_IMPORTED_MODULE_13__["Price"], {
          currency: tariff.currency,
          amount: tariff.price
        })
      }
    })
  })))) : null;
}
function Stripe(_ref4) {
  var activate = _ref4.activate,
    tariff = _ref4.tariff,
    onError = _ref4.onError,
    onSuccess = _ref4.onSuccess,
    onBeforeSuccess = _ref4.onBeforeSuccess;
  var stripePromiseRef = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(null),
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(new URLSearchParams(window.location.search).get("payment_intent_client_secret")),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7, 2),
    clientSecret = _useState8[0],
    setClientSecret = _useState8[1],
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_10__["getGame"]);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    stripePromiseRef.current = Object(_stripe_stripe_js__WEBPACK_IMPORTED_MODULE_4__["loadStripe"])(_helpers_initialState__WEBPACK_IMPORTED_MODULE_5__["initialState"].stripe_public_key);
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (activate) {
      _helpers_ky__WEBPACK_IMPORTED_MODULE_14__["default"].post('stripe', {
        json: {
          price_id: tariff.id,
          game_id: game.id
        }
      }).json().then(function (intent) {
        setClientSecret(intent.client_secret);
      });
    }
  }, [activate, tariff, game]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, clientSecret && tariff.id && game.id && stripePromiseRef.current ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_6__["Elements"], {
    stripe: stripePromiseRef.current,
    options: {
      clientSecret: clientSecret,
      appearance: {
        theme: 'flat'
      }
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(CheckoutForm, {
    activate: activate,
    tariff: tariff,
    onError: onError,
    onSuccess: onSuccess,
    onBeforeSuccess: onBeforeSuccess
  })) : null);
}

/***/ }),

/***/ "./app/javascript/pages/Game/Purchase/index.tsx":
/*!******************************************************!*\
  !*** ./app/javascript/pages/Game/Purchase/index.tsx ***!
  \******************************************************/
/*! exports provided: Purchase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Purchase", function() { return Purchase; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var swiper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! swiper */ "./node_modules/swiper/swiper.esm.js");
/* harmony import */ var swiper_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! swiper/react */ "./node_modules/swiper/react/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_Tariff__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../components/Tariff */ "./app/javascript/components/Tariff.tsx");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _modals_SuccessModal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../modals/SuccessModal */ "./app/javascript/modals/SuccessModal.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _Cloudpayments__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Cloudpayments */ "./app/javascript/pages/Game/Purchase/Cloudpayments.tsx");
/* harmony import */ var _Stripe__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Stripe */ "./app/javascript/pages/Game/Purchase/Stripe.tsx");
/* harmony import */ var swiper_swiper_scss__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! swiper/swiper.scss */ "./node_modules/swiper/swiper.scss");
/* harmony import */ var swiper_swiper_scss__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(swiper_swiper_scss__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../components/Button */ "./app/javascript/components/Button.tsx");


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }




















// Import Swiper styles


function Purchase() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_8__["useTranslation"])(),
    t = _useTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getGame"]),
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useDispatch"])(),
    _useSuggestedCurrency = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_13__["useSuggestedCurrency"])(),
    suggestedCurrency = _useSuggestedCurrency.currency,
    isCurrencyLoading = _useSuggestedCurrency.isCurrencyLoading,
    formattedCurrency = _useSuggestedCurrency.formattedCurrency,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    isPrePaymentLoading = _useState2[0],
    setIsPrePaymentLoading = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(game.getTariff()),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    selectedTariff = _useState4[0],
    setSelectedTariff = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(''),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    clickedTariff = _useState6[0],
    setClickedTariff = _useState6[1],
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7, 2),
    isPriceLoading = _useState8[0],
    setIsPriceLoading = _useState8[1],
    _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
    _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState9, 2),
    activatePayProvider = _useState10[0],
    setActivatePayProvider = _useState10[1],
    _useTariffs = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_13__["useTariffs"])(),
    tariffs = _useTariffs.tariffs,
    isTariffsLoading = _useTariffs.isTariffsLoading;
  var selectedTariffIndex = Object.keys(_core_constants__WEBPACK_IMPORTED_MODULE_16__["TARIFFS"]).indexOf(selectedTariff);
  var PayComponent = Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_15__["isRuEnv"])() ? _Cloudpayments__WEBPACK_IMPORTED_MODULE_19__["Cloudpayments"] : _Stripe__WEBPACK_IMPORTED_MODULE_20__["Stripe"];
  var processedTariffs = Object(react__WEBPACK_IMPORTED_MODULE_2__["useMemo"])(function () {
    var obj = _objectSpread({}, _core_constants__WEBPACK_IMPORTED_MODULE_16__["TARIFFS"]);
    Object.entries(_core_constants__WEBPACK_IMPORTED_MODULE_16__["TARIFFS"]).forEach(function (_ref) {
      var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref, 2),
        tariffKey = _ref2[0],
        defaultTariffInfo = _ref2[1];
      var tariffInfoFromApi = tariffs[tariffKey] ? tariffs[tariffKey].full : null;
      var extendedInfo = {};
      if (tariffInfoFromApi) {
        extendedInfo = {
          id: tariffInfoFromApi.id,
          max_players: tariffInfoFromApi.max_players,
          price: tariffInfoFromApi.amount,
          currency: tariffInfoFromApi.currency
        };
      }
      obj[tariffKey] = _objectSpread(_objectSpread(_objectSpread({}, defaultTariffInfo), extendedInfo), {}, {
        name: tariffKey,
        title: defaultTariffInfo.title.i18n ? t(defaultTariffInfo.title.i18n) : defaultTariffInfo.title
      });
    });
    return obj;
  }, [tariffs]);
  var onSelect = function onSelect(tariffName) {
    if (tariffName == 'mega_pro') return Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["openSupport"])();
    setClickedTariff(tariffName);
    if (tariffName == 'free') return setSelectedTariff(tariffName);
    setIsPrePaymentLoading(true);
    setActivatePayProvider(true);
  };
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    setClickedTariff('');
    setSelectedTariff(game.getTariff());
  }, [game.paid_status]);
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    return setIsPriceLoading(isTariffsLoading || isCurrencyLoading);
  }, [isTariffsLoading, isCurrencyLoading]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_12__["GameWrapper"], {
    title: t('game_purchase_meta_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_10__["TransProxy"], {
    i18nKey: "game_purchase_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(PayComponent, {
    activate: activatePayProvider,
    tariff: processedTariffs[clickedTariff || selectedTariff] || {},
    onFinish: function onFinish() {
      return setActivatePayProvider(false);
    },
    onBeforeSuccess: function onBeforeSuccess() {
      return dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["updateGame"])());
    },
    onSuccess: function onSuccess(transactionId, tariff) {
      Object(_modals_SuccessModal__WEBPACK_IMPORTED_MODULE_14__["openSuccessAlert"])(t('game_purchase_success_modal_title'), function () {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_10__["TransProxy"], {
          i18nKey: "game_purchase_success_modal_desc",
          values: {
            tariff: tariff.title
          }
        });
      });
      setSelectedTariff(tariff.name);
      setIsPrePaymentLoading(false);
      Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_7__["plainGtm"])({
        ecommerce: null
      }); // Clear the previous ecommerce object.

      Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_7__["plainGtm"])({
        event: 'purchase',
        ecommerce: {
          transaction_id: transactionId,
          affiliation: 'MySanta',
          value: tariff.amount,
          tax: '',
          shipping: '',
          currency: suggestedCurrency.toUpperCase(),
          coupon: '',
          items: [{
            item_name: tariff.name.toUpperCase(),
            item_id: '1',
            price: tariff.amount,
            item_brand: 'MySanta',
            item_category: 'MySanta',
            item_variant: '',
            quantity: 1
          }]
        }
      });
    },
    onError: function onError(reason) {
      Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_17__["confirmAlert"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_10__["TransProxy"], {
        i18nKey: "tariffs_pay_error",
        values: {
          reason: reason
        },
        components: {
          support_link: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
            href: "#",
            className: "link",
            onClick: function onClick(e) {
              Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_17__["closeConfirm"])();
              Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["openSupport"])(e);
            }
          })
        }
      }), {
        title: t('error'),
        buttonText: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_18__["PngIcon"], {
          name: "heart"
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, t('contact_support')))
      }).then(_helpers_utils__WEBPACK_IMPORTED_MODULE_11__["openSupport"]);
      Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_7__["gtm"])('Payment Error', {
        description: reason
      });
      setClickedTariff('');
      setIsPrePaymentLoading(false);
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-purchase"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-purchase__screen"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-purchase__labels"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Tariff__WEBPACK_IMPORTED_MODULE_9__["TariffLabels"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-purchase__tariffs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(swiper_react__WEBPACK_IMPORTED_MODULE_4__["Swiper"]
  // install Swiper modules
  , {
    modules: [swiper__WEBPACK_IMPORTED_MODULE_3__["Pagination"], swiper__WEBPACK_IMPORTED_MODULE_3__["A11y"]],
    spaceBetween: 20,
    slidesPerView: 'auto',
    pagination: {
      clickable: true
    },
    onInit: function onInit(swiper) {
      swiper.slideTo(selectedTariffIndex, 0);
    }
  }, Object.entries(processedTariffs).map(function (_ref3, index) {
    var _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref3, 2),
      tariffName = _ref4[0],
      tariffInfo = _ref4[1];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(swiper_react__WEBPACK_IMPORTED_MODULE_4__["SwiperSlide"], {
      style: {
        width: 'auto',
        height: 'auto'
      },
      key: tariffName
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Tariff__WEBPACK_IMPORTED_MODULE_9__["Tariff"], {
      name: tariffName,
      info: tariffInfo,
      isPriceLoading: isPriceLoading,
      isSelected: tariffName == selectedTariff,
      isLoading: isPrePaymentLoading && tariffName == clickedTariff,
      onSelect: onSelect,
      hideButton: selectedTariff && index < selectedTariffIndex
    }));
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-purchase__free"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-purchase__free-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h4", {
    className: "p-purchase__free-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_10__["TransProxy"], {
    i18nKey: "tariffs_free_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul", {
    className: "p-purchase__free-features"
  }, t('tariffs_free_features', {
    returnObjects: true
  }).map(function (i, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li", {
      key: index
    }, i);
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-purchase__free-right"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "p-purchase__free-button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_22__["Button"], {
    onClick: _helpers_utils__WEBPACK_IMPORTED_MODULE_11__["openSupport"],
    label: t('tariffs_free_button')
  }))))));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Recommendations.tsx":
/*!*******************************************************!*\
  !*** ./app/javascript/pages/Game/Recommendations.tsx ***!
  \*******************************************************/
/*! exports provided: Recommendations */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Recommendations", function() { return Recommendations; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_PresentsShop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/PresentsShop */ "./app/javascript/components/PresentsShop/index.ts");
/* harmony import */ var _Components_CheckAccess__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Components/CheckAccess */ "./app/javascript/pages/Game/Components/CheckAccess.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");






function Recommendations() {
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["getGame"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_5__["GameWrapper"], {
    title: "\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u0438 \u0434\u043B\u044F \u043F\u043E\u0434\u0430\u0440\u043A\u0430"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_CheckAccess__WEBPACK_IMPORTED_MODULE_2__["CheckAccess"], null, game.isPresentGetToMe() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, "\u041F\u043E\u0434\u0430\u0440\u043E\u043A \u0432\u044B\u0431\u0440\u0430\u043D"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "\u0414\u043B\u044F \u0432\u0430\u0441 \u0443\u0436\u0435 \u0431\u044B\u043B \u043A\u0443\u043F\u043B\u0435\u043D \u043F\u043E\u0434\u0430\u0440\u043E\u043A, \u043F\u043E\u044D\u0442\u043E\u043C\u0443 \u0432\u044B\u0431\u0438\u0440\u0430\u0442\u044C \u0441\u0435\u0431\u0435 \u043F\u043E\u0434\u0430\u0440\u043E\u043A \u0443\u0436\u0435 \u043F\u043E\u0437\u0434\u043D\u043E."))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PresentsShop__WEBPACK_IMPORTED_MODULE_1__["PresentsShop"], {
    useFor: "like"
  }))));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Settings.tsx":
/*!************************************************!*\
  !*** ./app/javascript/pages/Game/Settings.tsx ***!
  \************************************************/
/*! exports provided: Settings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Settings", function() { return Settings; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");
/* harmony import */ var _Components_Settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Components/Settings */ "./app/javascript/pages/Game/Components/Settings.tsx");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index */ "./app/javascript/pages/Game/index.tsx");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }










function Settings() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_4__["useTranslation"])(),
    t = _useTranslation.t,
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useDispatch"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_3__["getGame"]);
  var handleSubmit = function handleSubmit(values) {
    return _core_api__WEBPACK_IMPORTED_MODULE_8__["Api"].games.edit(game.id, values)().then(function (response) {
      if (response.id) {
        dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_3__["setGame"])(_objectSpread(_objectSpread({}, game), response)));
        _helpers_toastify__WEBPACK_IMPORTED_MODULE_5__["toastify"].success(t('save_success'));
      } else _helpers_toastify__WEBPACK_IMPORTED_MODULE_5__["toastify"].error(t('save_error'));
    });
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_9__["AdminRequired"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_6__["GameWrapper"], {
    maxWidth: 1400,
    title: t('game_settings_meta_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Components_Settings__WEBPACK_IMPORTED_MODULE_7__["Settings"], {
    title: t('settings'),
    formData: game,
    buttonText: t('save'),
    onSubmit: handleSubmit,
    copiable: true
  })));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/BoughtForm.tsx":
/*!*******************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/BoughtForm.tsx ***!
  \*******************************************************************/
/*! exports provided: BoughtForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BoughtForm", function() { return BoughtForm; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");


var _excluded = ["isLoading", "onClickCancel"],
  _excluded2 = ["values"];








function BoughtForm(_ref) {
  var isLoading = _ref.isLoading,
    onClickCancel = _ref.onClickCancel,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_9__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_8__["getGame"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_5__["Form"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    initialValues: {
      tracking_description: game.getSendPresentTo().tracking_description || ''
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_3__["object"]().shape({
      tracking_description: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_4__["requiredValidation"]
    })
  }, props), function (_ref2) {
    var values = _ref2.values,
      formikProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref2, _excluded2);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h4", {
      className: "h4"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_9__["T"], {
      i18nKey: "player_tossed_get_form_title"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_5__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "text"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_9__["T"], {
      i18nKey: "player_tossed_get_form_text_one_place"
    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_5__["FormRow"], {
      label: t('player_tossed_get_form_description')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_6__["Input"], {
      id: "bought_form_description",
      isTextarea: true,
      name: "tracking_description",
      placeholder: t('player_tossed_get_form_description_placeholder')
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_5__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "row align-items-center"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_5__["FormSubmit"], {
      id: "bought_form_save",
      isLoading: isLoading,
      label: t('save')
    })), game.hasPresentSendInfo() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      onClick: onClickCancel,
      type: "reset",
      className: "form__reset"
    }, t('cancel'))))));
  });
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/DeliveryForm.tsx":
/*!*********************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/DeliveryForm.tsx ***!
  \*********************************************************************/
/*! exports provided: DeliveryForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeliveryForm", function() { return DeliveryForm; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _components_CourierLogo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../components/CourierLogo */ "./app/javascript/components/CourierLogo.tsx");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _components_Channel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../components/Channel */ "./app/javascript/components/Channel.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");



var _excluded = ["isLoading", "onClickCancel", "isJustClicked", "justClickedSetter", "onSubmit", "refInstance"],
  _excluded2 = ["values"];












function DeliveryForm(_ref) {
  var isLoading = _ref.isLoading,
    onClickCancel = _ref.onClickCancel,
    inputJustClicked = _ref.isJustClicked,
    justClickedSetter = _ref.justClickedSetter,
    onSubmit = _ref.onSubmit,
    refInstance = _ref.refInstance,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_14__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_10__["getGame"]),
    parcel = game.getParticipating('parsel') || {},
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])('idle'),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    courierDetectState = _useState2[0],
    setCourierDetectState = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(inputJustClicked),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    isJustClicked = _useState4[0],
    setIsJustClicked = _useState4[1],
    requestTimeoutRef = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])(0),
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    isShowSetCustomCourier = _useState6[0],
    setIsShowCustomCourier = _useState6[1],
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])([]),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7, 2),
    suggestedCouriers = _useState8[0],
    setSuggestedCouriers = _useState8[1],
    isParseTrackAvailable = isJustClicked && !['detected', 'not_detected'].includes(courierDetectState),
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_12__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_13__["Api"].usersInGame.detectCourierByTrackCode),
    detectCourierRequest = _useApi.request;
  var setNotDetected = function setNotDetected() {
    setSuggestedCouriers([]);
    setCourierDetectState('not_detected');
    setIsShowCustomCourier(true);
  };
  var handleSubmit = function handleSubmit(values) {
    if (isParseTrackAvailable || courierDetectState == 'idle' && values.tracking_code != game.getSendPresentTo().tracking_code) {
      setCourierDetectState('loading');
      detectCourierRequest(game.getParticipating('id'), values.tracking_code).then(function () {
        requestTimeoutRef.current = setTimeout(function () {
          setNotDetected();
        }, _core_constants__WEBPACK_IMPORTED_MODULE_7__["PARSE_COURIER_REQUEST_TIMEOUT_S"] * 1000);
      });
    } else {
      onSubmit && onSubmit(values);
      setIsJustClicked(false);
      justClickedSetter(false);
    }
  };
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    return function () {
      clearTimeout(requestTimeoutRef.current);
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["Form"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    refInstance: refInstance,
    initialValues: {
      tracking_code: game.getSendPresentTo().tracking_code || '',
      tracking_courier: parcel.service_slug || '',
      tracking_comment: parcel.comment || ''
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_5__["object"]().shape({
      tracking_code: yup__WEBPACK_IMPORTED_MODULE_5__["string"]().min(4, t('form_symbols_min', {
        min: 4
      })),
      tracking_comment: yup__WEBPACK_IMPORTED_MODULE_5__["string"]().min(4, t('form_symbols_min', {
        min: 4
      }))
    }),
    onSubmit: handleSubmit
  }, props), function (_ref2) {
    var values = _ref2.values,
      formikProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref2, _excluded2);
    var isInputNewTrack = values.tracking_code != game.getSendPresentTo().tracking_code;
    var handleSocketReceive = function handleSocketReceive(_ref3) {
      var event = _ref3.event,
        inputData = _ref3.data;
      if (event != 'courier_parsing_ready') return;
      clearTimeout(requestTimeoutRef.current);
      var isManyCouriers = inputData.data && inputData.data.length > 1,
        courier = inputData.data && inputData.data[0] && inputData.data[0].courier ? inputData.data[0].courier : null;
      if (isManyCouriers) {
        setSuggestedCouriers(inputData.data);
        setCourierDetectState('require_select');
      } else if (courier) {
        setCourierDetectState('detected');
        formikProps.setFieldValue('tracking_courier', courier.slug);
        formikProps.setFieldValue('tracking_comment', courier.name);
      } else setNotDetected();
    };
    var handleTrackInput = function handleTrackInput() {
      formikProps.setFieldValue('tracking_comment', '');
      formikProps.setFieldValue('tracking_courier', '');
      setCourierDetectState('idle');
      setIsShowCustomCourier(false);
      setSuggestedCouriers([]);
    };
    var onSelectCourier = function onSelectCourier(courier) {
      setCourierDetectState('detected');
      formikProps.setFieldValue('tracking_courier', courier.slug);
      formikProps.setFieldValue('tracking_comment', courier.name);
      setSuggestedCouriers([]);
    };
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Channel__WEBPACK_IMPORTED_MODULE_11__["Channel"], {
      name: "RoomNotifications",
      onReceive: handleSocketReceive
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h4", {
      className: "h4"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_14__["T"], {
      i18nKey: "player_tossed_get_form_title"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], {
      className: "text"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_14__["T"], {
      i18nKey: "player_tossed_get_form_text"
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_8__["Input"], {
      id: "get_form_tracking_code",
      onInput: handleTrackInput,
      name: "tracking_code",
      placeholder: t('player_tossed_get_form_tracking_code_placeholder')
    }), suggestedCouriers.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "m-b-t-10 hint"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_14__["T"], {
      i18nKey: "player_tossed_get_form_tracking_courier_require_select"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "suggested-couriers row"
    }, suggestedCouriers.map(function (item) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "col-tiny-6 col-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "suggested-couriers__item"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "suggested-couriers__item-logo"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_CourierLogo__WEBPACK_IMPORTED_MODULE_6__["CourierLogo"], {
        courier: item.courier.slug,
        width: 50
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "suggested-couriers__item-info"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        onClick: function onClick() {
          return onSelectCourier(item.courier);
        },
        className: "suggested-couriers__item-track"
      }, item.tracking_number), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "suggested-couriers__item-name"
      }, item.courier.name))));
    }))), !isShowSetCustomCourier && values.tracking_courier && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "m-t-10 hint"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_14__["T"], {
      i18nKey: "player_tossed_get_form_tracking_courier_detect",
      values: {
        courier: values.tracking_comment
      },
      components: {
        courierlogo: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_CourierLogo__WEBPACK_IMPORTED_MODULE_6__["CourierLogo"], {
          courier: values.tracking_courier,
          width: 20
        }),
        customcourier: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
          className: "link",
          onClick: function onClick(e) {
            e.preventDefault();
            setIsShowCustomCourier(true);
          },
          href: "app/javascript/pages/Game/Toss/TossCompletedForGive/DeliveryForm#"
        })
      }
    }))), (!values.tracking_courier && values.tracking_comment || isShowSetCustomCourier) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], {
      label: t('player_tossed_get_form_tracking_comment')
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_8__["Input"], {
      id: "get_form_tracking_comment",
      name: "tracking_comment",
      placeholder: t('player_tossed_get_form_tracking_comment_placeholder')
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "row align-items-center"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["FormSubmit"], {
      id: "get_form_save",
      isLoading: isLoading || courierDetectState == 'loading',
      disabled: !values.tracking_code && !values.tracking_comment || courierDetectState == 'loading',
      label: t(courierDetectState == 'idle' && (isParseTrackAvailable || isInputNewTrack) ? 'next' : 'save')
    })), game.hasPresentSendInfo() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-auto"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      onClick: onClickCancel,
      type: "reset",
      className: "form__reset"
    }, t('cancel'))))));
  });
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/Panels/BoughtInfo.tsx":
/*!**************************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/Panels/BoughtInfo.tsx ***!
  \**************************************************************************/
/*! exports provided: BoughtInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BoughtInfo", function() { return BoughtInfo; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _components_InfoPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../components/InfoPanel */ "./app/javascript/components/InfoPanel.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");






function BoughtInfo() {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_5__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["getGame"]),
    sendTo = game.getSendPresentTo();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_2__["InfoPanel"], {
    label: t('player_tossed_imsanta_bought'),
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, sendTo.boughted_present_url && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: sendTo.boughted_present_url,
      target: "_blank",
      className: "link"
    }, sendTo.boughted_present_url.replace(/(^\w+:|^)\/\//, '').replace('www.', '')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null)), sendTo.tracking_description),
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_1__["PngIcon"], {
      name: "present"
    }),
    additional: sendTo.boughted_present_image && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      alt: "Present image",
      src: sendTo.boughted_present_image
    })
  });
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/Panels/DeliveryInfo.tsx":
/*!****************************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/Panels/DeliveryInfo.tsx ***!
  \****************************************************************************/
/*! exports provided: DeliveryInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeliveryInfo", function() { return DeliveryInfo; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _components_InfoPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../components/InfoPanel */ "./app/javascript/components/InfoPanel.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");







function DeliveryInfo(props) {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_6__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]),
    sendTo = game.getSendPresentTo();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_3__["InfoPanel"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_2__["PngIcon"], {
      name: "box"
    }),
    label: t('player_tossed_imsanta_where'),
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, (sendTo.zip_code || '') + ' ' + sendTo.address, !!sendTo.floor && ", ".concat(t('floor_short'), " ").concat(sendTo.floor), !!sendTo.flat && ", ".concat(t('flat_short'), " ").concat(sendTo.flat), !!sendTo.entrance ? ", ".concat(t('entrance_short'), " ").concat(sendTo.entrance) + (sendTo.entrance_code ? " (".concat(t('entrance_code_short'), " ").concat(sendTo.entrance_code, ")") : '') : '', !!sendTo.delivery_comemnt && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), " ", t('courier_comment'), ": ", sendTo.delivery_comemnt), sendTo.phone && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      style: {
        fontSize: '0.85em'
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_2__["PngIcon"], {
      style: {
        transform: 'scale(0.8)'
      },
      name: "phone"
    }), " +", sendTo.phone)))
  }, props));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/Panels/Receiver.tsx":
/*!************************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/Panels/Receiver.tsx ***!
  \************************************************************************/
/*! exports provided: Receiver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Receiver", function() { return Receiver; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _components_InfoPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../components/InfoPanel */ "./app/javascript/components/InfoPanel.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");








function Receiver(props) {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_7__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_6__["getGame"]),
    sendTo = game.getSendPresentTo();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_4__["InfoPanel"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    icon: sendTo.avatar ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("figure", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
      alt: sendTo.name,
      src: sendTo.avatar
    })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_2__["PngIcon"], {
      name: "eyes"
    }),
    label: t('player_tossed_imsanta_whom'),
    value: (sendTo.name || '').trim() || sendTo.email,
    more: {
      link: _routes__WEBPACK_IMPORTED_MODULE_3__["URLS"].Game('chat/recipient'),
      label: t('player_tossed_imsanta_chat_with_recipient')
    }
  }, props));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/Panels/TrackDelivery.tsx":
/*!*****************************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/Panels/TrackDelivery.tsx ***!
  \*****************************************************************************/
/*! exports provided: TrackDelivery */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrackDelivery", function() { return TrackDelivery; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _components_InfoPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../components/InfoPanel */ "./app/javascript/components/InfoPanel.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _components_CourierLogo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../components/CourierLogo */ "./app/javascript/components/CourierLogo.tsx");
/* harmony import */ var _components_TrackSteps__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../components/TrackSteps */ "./app/javascript/components/TrackSteps.tsx");
/* harmony import */ var _components_Channel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../components/Channel */ "./app/javascript/components/Channel.tsx");
/* harmony import */ var use_deep_compare_effect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! use-deep-compare-effect */ "./node_modules/use-deep-compare-effect/dist/use-deep-compare-effect.esm.js");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");











function TrackDelivery(_ref) {
  var onParcel = _ref.onParcel;
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_10__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]),
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])({}),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    parcel = _useState2[0],
    setParcel = _useState2[1],
    gameUpdateStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGameUpdateStatus"]),
    gameStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGameStatus"]);
  var onSocketListen = function onSocketListen(_ref2) {
    var event = _ref2.event,
      inputData = _ref2.data;
    if (event != 'parsel_tracking_ready') return;
    setParcel(inputData);
  };
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    if (![gameStatus, gameUpdateStatus].includes('succeeded')) return;
    setParcel(game.getParticipating('parsel') || {});
  }, [gameStatus, gameUpdateStatus]);
  Object(use_deep_compare_effect__WEBPACK_IMPORTED_MODULE_9__["default"])(function () {
    onParcel && onParcel(parcel);
  }, [parcel]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Channel__WEBPACK_IMPORTED_MODULE_8__["Channel"], {
    name: "RoomNotifications",
    onReceive: onSocketListen
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_3__["InfoPanel"], {
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_2__["PngIcon"], {
      name: "info"
    }),
    label: t('player_tossed_imsanta_delivery_info'),
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, parcel.code, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_CourierLogo__WEBPACK_IMPORTED_MODULE_6__["CourierLogo"], {
      courier: parcel.service_slug,
      width: 30
    }), " ", parcel.comment),
    additional: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TrackSteps__WEBPACK_IMPORTED_MODULE_7__["TrackSteps"], {
      parcel: parcel
    })
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/Panels/Unwish.tsx":
/*!**********************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/Panels/Unwish.tsx ***!
  \**********************************************************************/
/*! exports provided: Unwish */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Unwish", function() { return Unwish; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _components_InfoPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../components/InfoPanel */ "./app/javascript/components/InfoPanel.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");







function Unwish(props) {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_6__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]),
    sendTo = game.getSendPresentTo();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_3__["InfoPanel"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    label: t('player_tossed_imsanta_unwish'),
    value: sendTo.unwish_message,
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_2__["PngIcon"], {
      name: "broken-heart"
    }),
    mods: ['red', 'flex']
  }, props));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/Panels/Wish.tsx":
/*!********************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/Panels/Wish.tsx ***!
  \********************************************************************/
/*! exports provided: Wish */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Wish", function() { return Wish; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _components_InfoPanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../components/InfoPanel */ "./app/javascript/components/InfoPanel.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _components_PresentsShop_ItemsGrid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../components/PresentsShop/ItemsGrid */ "./app/javascript/components/PresentsShop/ItemsGrid.tsx");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _components_GridAction__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../components/GridAction */ "./app/javascript/components/GridAction.tsx");
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _components_PresentsShop_ItemPlaceholder__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../components/PresentsShop/ItemPlaceholder */ "./app/javascript/components/PresentsShop/ItemPlaceholder.tsx");
/* harmony import */ var _components_PresentsShop_Shop__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../components/PresentsShop/Shop */ "./app/javascript/components/PresentsShop/Shop.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }














function Wish(props) {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_16__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_8__["getGame"]),
    sendTo = game.getSendPresentTo(),
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    isUserWishlistLoading = _useState2[0],
    setIsUserWishlistLoading = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])([]),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
    usersWishlist = _useState4[0],
    setUsersWishlist = _useState4[1];
  var UserWishlistGridAction = function UserWishlistGridAction(_ref) {
    var className = _ref.className;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_GridAction__WEBPACK_IMPORTED_MODULE_11__["GridAction"], {
      wrapperClassName: className,
      to: _routes__WEBPACK_IMPORTED_MODULE_5__["URLS"].UserWishlist(sendTo.id),
      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_12__["SvgIcon"], {
        name: "gift"
      }),
      label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_16__["T"], {
        i18nKey: "player_tossed_imsanta_users_wishlist"
      })
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_PresentsShop_ItemPlaceholder__WEBPACK_IMPORTED_MODULE_13__["ItemPlaceholder"], {
      withoutBottom: true,
      className: "present--mini",
      style: {
        opacity: 0,
        pointerEvents: 'none',
        zIndex: -1
      }
    }));
  };
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    if (sendTo.wishlist_liked_counter > 0) {
      setIsUserWishlistLoading(true);
      Object(_components_PresentsShop_Shop__WEBPACK_IMPORTED_MODULE_14__["getRequest"])('user_wishlist', {
        user_id: sendTo.id
      }).then(function (response) {
        setUsersWishlist(response.presents);
      })["finally"](function () {
        return setIsUserWishlistLoading(false);
      });
    }
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_6__["InfoPanel"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    label: t('player_tossed_imsanta_wish'),
    value: sendTo.wish_message,
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_4__["PngIcon"], {
      name: "green-heart"
    }),
    mods: ['green', 'flex'],
    additional: (isUserWishlistLoading || !!usersWishlist.length) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "row"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_PresentsShop_ItemsGrid__WEBPACK_IMPORTED_MODULE_9__["ItemsGrid"], {
      mode: "user_wishlist",
      list: isUserWishlistLoading ? Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_15__["fillArray"])(_core_constants__WEBPACK_IMPORTED_MODULE_10__["WISHLIST_USERS_PREVIEW_GIFTS"], {
        placeholder: true
      }) : usersWishlist.slice(0, _core_constants__WEBPACK_IMPORTED_MODULE_10__["WISHLIST_USERS_PREVIEW_GIFTS"]).map(function (item) {
        return _objectSpread(_objectSpread({}, item), {}, {
          withoutBottom: true,
          mod: ['mini']
        });
      }),
      className: "user-mini-wishlist-wrapper",
      columnGrid: "col-3 user-wishlist-item",
      append: sendTo.wishlist_liked_counter > _core_constants__WEBPACK_IMPORTED_MODULE_10__["WISHLIST_USERS_PREVIEW_GIFTS"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(UserWishlistGridAction, {
        className: "col-3 d-none d-xs-block"
      })
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "col-12 d-xs-none"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(UserWishlistGridAction, null))))
  }, props));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/Panels/index.ts":
/*!********************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/Panels/index.ts ***!
  \********************************************************************/
/*! exports provided: Receiver, DeliveryInfo, Wish, Unwish, TrackDelivery, BoughtInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Receiver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Receiver */ "./app/javascript/pages/Game/Toss/TossForGive/Panels/Receiver.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Receiver", function() { return _Receiver__WEBPACK_IMPORTED_MODULE_0__["Receiver"]; });

/* harmony import */ var _DeliveryInfo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DeliveryInfo */ "./app/javascript/pages/Game/Toss/TossForGive/Panels/DeliveryInfo.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DeliveryInfo", function() { return _DeliveryInfo__WEBPACK_IMPORTED_MODULE_1__["DeliveryInfo"]; });

/* harmony import */ var _Wish__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Wish */ "./app/javascript/pages/Game/Toss/TossForGive/Panels/Wish.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Wish", function() { return _Wish__WEBPACK_IMPORTED_MODULE_2__["Wish"]; });

/* harmony import */ var _Unwish__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Unwish */ "./app/javascript/pages/Game/Toss/TossForGive/Panels/Unwish.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Unwish", function() { return _Unwish__WEBPACK_IMPORTED_MODULE_3__["Unwish"]; });

/* harmony import */ var _TrackDelivery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TrackDelivery */ "./app/javascript/pages/Game/Toss/TossForGive/Panels/TrackDelivery.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TrackDelivery", function() { return _TrackDelivery__WEBPACK_IMPORTED_MODULE_4__["TrackDelivery"]; });

/* harmony import */ var _BoughtInfo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BoughtInfo */ "./app/javascript/pages/Game/Toss/TossForGive/Panels/BoughtInfo.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BoughtInfo", function() { return _BoughtInfo__WEBPACK_IMPORTED_MODULE_5__["BoughtInfo"]; });









/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/TossCompleted.tsx":
/*!**********************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/TossCompleted.tsx ***!
  \**********************************************************************/
/*! exports provided: TossCompleted */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TossCompleted", function() { return TossCompleted; });
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");
/* harmony import */ var _Components_Title__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../Components/Title */ "./app/javascript/pages/Game/Components/Title.tsx");
/* harmony import */ var _Panels__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Panels */ "./app/javascript/pages/Game/Toss/TossForGive/Panels/index.ts");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../components/Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _DeliveryForm__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./DeliveryForm */ "./app/javascript/pages/Game/Toss/TossForGive/DeliveryForm.tsx");
/* harmony import */ var _BoughtForm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./BoughtForm */ "./app/javascript/pages/Game/Toss/TossForGive/BoughtForm.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _components_PresentsShop__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../components/PresentsShop */ "./app/javascript/components/PresentsShop/index.ts");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");





















function TossCompleted() {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_20__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useDispatch"])(),
    isMobile = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useIsMobile"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]),
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
    isShowGetForm = _useState2[0],
    setIsShowGetForm = _useState2[1],
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
    isGetFormLoading = _useState4[0],
    setIsGetFormLoading = _useState4[1],
    _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])(false),
    _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
    isJustGetClicked = _useState6[0],
    setIsJustGetClicked = _useState6[1],
    myClientEl = Object(react__WEBPACK_IMPORTED_MODULE_6__["useRef"])(0),
    getFormRef = Object(react__WEBPACK_IMPORTED_MODULE_6__["useRef"])(0),
    deliveryFormRef = Object(react__WEBPACK_IMPORTED_MODULE_6__["useRef"])(0),
    _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])(false),
    _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7, 2),
    isGameUpdated = _useState8[0],
    setIsGameUpdated = _useState8[1],
    _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_6__["useState"])({}),
    _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState9, 2),
    parcel = _useState10[0],
    setParcel = _useState10[1],
    sendTo = game.getSendPresentTo(),
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_7__["Api"].usersInGame.editSentGift),
    editSentGiftRequest = _useApi.request,
    _useApi2 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_7__["Api"].usersInGame.editBoughtGift),
    editBoughtGiftRequest = _useApi2.request,
    _useApi3 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_7__["Api"].usersInGame.addParcel),
    addParcelRequest = _useApi3.request,
    _useApi4 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_7__["Api"].usersInGame.editParcel),
    editParcelRequest = _useApi4.request,
    _useApi5 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_7__["Api"].usersInGame.edit),
    editUserInGmeRequest = _useApi5.request;
  var handleGetResponse = function handleGetResponse(response) {
    if (!response.id) return;
    dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["updateGame"])()).then(function () {
      _helpers_toastify__WEBPACK_IMPORTED_MODULE_8__["toastify"].success(t('save_success'));
      setIsGetFormLoading(false);
      setIsJustGetClicked(false);

      // Scroll to delivery form
      isJustGetClicked && setTimeout(function () {
        return Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_9__["scrollToEl"])(deliveryFormRef.current);
      });
    });
  };

  // Handle send form
  var handleSendSubmit = /*#__PURE__*/function () {
    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(values) {
      var parcelInfo;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              if (!isGetFormLoading) {
                _context.next = 2;
                break;
              }
              return _context.abrupt("return");
            case 2:
              setIsGetFormLoading(true);
              parcelInfo = {
                code: values.tracking_code,
                service: 0,
                service_slug: values.tracking_courier,
                comment: values.tracking_comment
              };
              Promise.all([parcel.id ? editParcelRequest(game.getParticipating('id'), parcel.id, parcelInfo) : addParcelRequest(game.getParticipating('id'), parcelInfo), editSentGiftRequest(game.getParticipating('id'), {
                tracking_code: values.tracking_code,
                tracking_description: values.tracking_courier || values.tracking_comment
              })]).then(function (_ref2) {
                var _ref3 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref2, 2),
                  parcelResponse = _ref3[0],
                  updateResponse = _ref3[1];
                Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_10__["gtm"])('Bought gift - Update sent info');
                setIsShowGetForm(false);
                return updateResponse;
              }).then(handleGetResponse);
            case 5:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return function handleSendSubmit(_x) {
      return _ref.apply(this, arguments);
    };
  }();
  var handleBoughtSubmit = function handleBoughtSubmit(values) {
    if (isGetFormLoading) return;
    setIsGetFormLoading(true);
    setIsShowGetForm(false);
    Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_10__["gtm"])('Bought gift - Update bought info');
    editBoughtGiftRequest(game.participating.id, Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_9__["removeEmpty"])(values)).then(handleGetResponse);
  };
  var handleConfirmGetPresent = function handleConfirmGetPresent() {
    if (!game.isPresentGetForGive()) Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_11__["confirmAlert"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_20__["T"], {
      i18nKey: "player_tossed_get_confirm_text"
    }), {
      title: t('player_tossed_get_confirm_title'),
      buttonText: t('player_tossed_get_confirm_yes'),
      cancelButtonText: t('player_tossed_get_confirm_no')
    }).then(function () {
      setIsGetFormLoading(true);
      Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_10__["gtm"])('Bought gift - Confirmed');
      (game.isDeliveryGetType() ? editSentGiftRequest : editBoughtGiftRequest)(game.participating.id).then(function (response) {
        handleGetResponse(response);
        setIsJustGetClicked(true);
        setIsShowGetForm(true);
      });
    });else {
      setIsShowGetForm(true);
      isMobile && setTimeout(function () {
        return Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_9__["scrollToEl"])(getFormRef.current);
      });
    }
  };

  // Catch viewed block
  Object(react__WEBPACK_IMPORTED_MODULE_6__["useEffect"])(function () {
    var handleScroll = function handleScroll() {
      if (isGameUpdated) return;
      window.requestAnimationFrame(function () {
        if (window.outerHeight >= myClientEl.current.getBoundingClientRect().top + myClientEl.current.scrollHeight - 30) {
          setIsGameUpdated(true);
          editUserInGmeRequest(game.participating.id, {
            congratulator_seen_congratulated: true
          });
          window.removeEventListener('scroll', handleScroll);
        }
      });
    };
    if (!game.participating.congratulator_seen_congratulated) {
      window.addEventListener('scroll', handleScroll);
      handleScroll();
    }
    return function () {
      window.removeEventListener('scroll', handleScroll);
    };
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_6__["useEffect"])(function () {
    // Show form if game has no any delivery or buy info
    if (game.id && game.isPresentGetForGive() && !isJustGetClicked && (game.isComplexDeliveryGetType() && !game.getSendPresentTo().tracking_code && !parcel.comment || game.isOnePlaceGetType() && !game.getSendPresentTo().tracking_description)) setIsShowGetForm(true);
  }, [game.id, isJustGetClicked]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Components_Title__WEBPACK_IMPORTED_MODULE_12__["Title"], {
    title: t(game.isPresentGetForGive() ? 'player_tossed_imsanta_got_meta_title' : 'player_tossed_imsanta_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_20__["T"], {
    i18nKey: game.isPresentGetForGive() ? 'player_tossed_imsanta_got_title' : 'player_tossed_imsanta_title'
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    ref: myClientEl,
    className: "col-sm-4 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Panels__WEBPACK_IMPORTED_MODULE_13__["Receiver"], null)), game.isComplexDeliveryGetType() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "col-sm-8 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Panels__WEBPACK_IMPORTED_MODULE_13__["DeliveryInfo"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Panels__WEBPACK_IMPORTED_MODULE_13__["Wish"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Panels__WEBPACK_IMPORTED_MODULE_13__["Unwish"], null)), game.hasPresentSendDeliveryInfo() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Panels__WEBPACK_IMPORTED_MODULE_13__["TrackDelivery"], {
    onParcel: function onParcel(p) {
      return setParcel(p);
    }
  })), game.hasPresentSendBoughtInfo() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Panels__WEBPACK_IMPORTED_MODULE_13__["BoughtInfo"], null)), !isShowGetForm && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "row row--xs align-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_14__["Button"], {
    id: "get_gift_for_my_receiver",
    isLoading: isGetFormLoading,
    onClick: handleConfirmGetPresent,
    mod: ['block', 'green'],
    icon: !game.isPresentGetForGive() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_15__["SvgIcon"], {
      name: "check-circle"
    }) : null,
    label: t(game.isPresentGetForGive() ? 'player_tossed_get_change' : 'player_tossed_get')
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "col-auto hint"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_20__["T"], {
    i18nKey: !game.isPresentGetForGive() ? 'player_tossed_get_hint' : 'player_tossed_get_change_hint',
    components: {
      recipient: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, "sendTo.name")
    }
  })))))), isShowGetForm && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    ref: getFormRef,
    className: "p-inner__button"
  }, game.isComplexDeliveryGetType() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_DeliveryForm__WEBPACK_IMPORTED_MODULE_16__["DeliveryForm"], {
    refInstance: deliveryFormRef,
    isLoading: isGetFormLoading,
    onSubmit: handleSendSubmit,
    onClickCancel: function onClickCancel() {
      setIsShowGetForm(false);
      setIsJustGetClicked(false);
    },
    isJustClicked: isJustGetClicked,
    justClickedSetter: setIsJustGetClicked
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_BoughtForm__WEBPACK_IMPORTED_MODULE_17__["BoughtForm"], {
    isLoading: isGetFormLoading,
    onSubmit: handleBoughtSubmit,
    onClickCancel: function onClickCancel() {
      return setIsShowGetForm(false);
    }
  })), !game.isPresentGetForGive() && !Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_18__["isForeignEnv"])() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_PresentsShop__WEBPACK_IMPORTED_MODULE_19__["PresentsShop"], {
    useFor: "give"
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/WaitToss.tsx":
/*!*****************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/WaitToss.tsx ***!
  \*****************************************************************/
/*! exports provided: WaitToss */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WaitToss", function() { return WaitToss; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _Components_Title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Components/Title */ "./app/javascript/pages/Game/Components/Title.tsx");
/* harmony import */ var _Panels__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Panels */ "./app/javascript/pages/Game/Toss/TossForGive/Panels/index.ts");
/* harmony import */ var _components_UnknownText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../components/UnknownText */ "./app/javascript/components/UnknownText.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../components/Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _components_User__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../components/User */ "./app/javascript/components/User.tsx");
/* harmony import */ var _components_PresentsShop_Filters__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../components/PresentsShop/Filters */ "./app/javascript/components/PresentsShop/Filters.tsx");
/* harmony import */ var _components_PresentsShop_ItemsGrid__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../components/PresentsShop/ItemsGrid */ "./app/javascript/components/PresentsShop/ItemsGrid.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var images_empty_avatar_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! images/empty-avatar.png */ "./app/assets/images/empty-avatar.png");
/* harmony import */ var images_empty_avatar_png__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(images_empty_avatar_png__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");
















function WaitToss() {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_15__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_2__["getGame"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "inactive-area"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_Title__WEBPACK_IMPORTED_MODULE_3__["Title"], {
    title: t('player_tossed_imsanta_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, t('player_tossed_imsanta_title'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    style: {
      fontSize: '0.5em'
    }
  }, " (", t('player_tossed_imsanta_after_toss_available'), ")")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-sm-4 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Panels__WEBPACK_IMPORTED_MODULE_4__["Receiver"], {
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("figure", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      src: images_empty_avatar_png__WEBPACK_IMPORTED_MODULE_14___default.a
    })),
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UnknownText__WEBPACK_IMPORTED_MODULE_5__["UnknownText"], {
      label: "Your recipient"
    }),
    more: {
      link: _routes__WEBPACK_IMPORTED_MODULE_6__["URLS"].Game('chat/recipient'),
      label: t('player_tossed_imsanta_chat_with_recipient')
    }
  })), game.isComplexDeliveryGetType() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-sm-8 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Panels__WEBPACK_IMPORTED_MODULE_4__["DeliveryInfo"], {
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UnknownText__WEBPACK_IMPORTED_MODULE_5__["UnknownText"], {
      label: "Address of your recipient"
    })
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Panels__WEBPACK_IMPORTED_MODULE_4__["Wish"], {
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UnknownText__WEBPACK_IMPORTED_MODULE_5__["UnknownText"], {
      label: "Items the recipient wants to receive"
    })
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Panels__WEBPACK_IMPORTED_MODULE_4__["Unwish"], {
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UnknownText__WEBPACK_IMPORTED_MODULE_5__["UnknownText"], {
      label: "Things that you would not like to receive as a gift"
    })
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "row row--xs align-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_7__["Button"], {
    mod: ['block', 'green'],
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_8__["SvgIcon"], {
      name: "check-circle"
    }),
    label: t('player_tossed_get')
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-auto hint"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_15__["T"], {
    i18nKey: 'player_tossed_get_hint',
    components: {
      recipient: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UnknownText__WEBPACK_IMPORTED_MODULE_5__["UnknownText"], {
        label: "Your recipient"
      })
    }
  })))))), !Object(_helpers_initialState__WEBPACK_IMPORTED_MODULE_9__["isForeignEnv"])() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "shop"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "shop__head"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", {
    className: "h4"
  }, t('shop_recommend_to_give')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "shop__desc text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_15__["T"], {
    i18nKey: "shop_give_description",
    components: {
      user: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_User__WEBPACK_IMPORTED_MODULE_10__["User"], {
        avatar: images_empty_avatar_png__WEBPACK_IMPORTED_MODULE_14___default.a,
        name: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UnknownText__WEBPACK_IMPORTED_MODULE_5__["UnknownText"], {
          label: "Your recipient"
        }),
        mod: ['sm']
      })
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PresentsShop_Filters__WEBPACK_IMPORTED_MODULE_11__["Filters"], {
    onSubmit: function onSubmit() {}
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "shop__list"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PresentsShop_ItemsGrid__WEBPACK_IMPORTED_MODULE_12__["ItemsGrid"], {
    mode: "give",
    list: Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_13__["fillArray"])(3, {
      placeholder_no_animation: true
    })
  }))));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForGive/index.tsx":
/*!**************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForGive/index.tsx ***!
  \**************************************************************/
/*! exports provided: TossForGive */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TossForGive", function() { return TossForGive; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _TossCompleted__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TossCompleted */ "./app/javascript/pages/Game/Toss/TossForGive/TossCompleted.tsx");
/* harmony import */ var _WaitToss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./WaitToss */ "./app/javascript/pages/Game/Toss/TossForGive/WaitToss.tsx");





function TossForGive() {
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_2__["getGame"]);
  return game.isTossCompleted() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TossCompleted__WEBPACK_IMPORTED_MODULE_3__["TossCompleted"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WaitToss__WEBPACK_IMPORTED_MODULE_4__["WaitToss"], null);
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForReceive/TossCompleted.tsx":
/*!*************************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForReceive/TossCompleted.tsx ***!
  \*************************************************************************/
/*! exports provided: TossCompleted */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TossCompleted", function() { return TossCompleted; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _components_AttachImage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../components/AttachImage */ "./app/javascript/components/AttachImage.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _helpers_toastify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../helpers/toastify */ "./app/javascript/helpers/toastify.tsx");
/* harmony import */ var _components_PresentForMeStatus__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../components/PresentForMeStatus */ "./app/javascript/components/PresentForMeStatus.tsx");
/* harmony import */ var _Components_Title__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Components/Title */ "./app/javascript/pages/Game/Components/Title.tsx");
/* harmony import */ var _components_InfoPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../components/InfoPanel */ "./app/javascript/components/InfoPanel.tsx");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../components/Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _components_CourierLogo__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../components/CourierLogo */ "./app/javascript/components/CourierLogo.tsx");
/* harmony import */ var _components_TrackSteps__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../components/TrackSteps */ "./app/javascript/components/TrackSteps.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");
/* harmony import */ var _components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../components/ConfirmAlert */ "./app/javascript/components/ConfirmAlert.tsx");



















function TossCompleted() {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_17__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useDispatch"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_2__["getGame"]),
    parcel = game.present_to_me ? game.present_to_me.parsel : {},
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_15__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_16__["Api"].usersInGame.editReceivedGift),
    editReceivedGiftRequest = _useApi.request,
    isReceivedLoading = _useApi.isLoading;
  var handleResponse = function handleResponse() {
    dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_2__["updateGame"])()).then(function () {
      _helpers_toastify__WEBPACK_IMPORTED_MODULE_7__["toastify"].success(t('save_success'));
    });
  };
  var handleConfirmReceived = function handleConfirmReceived() {
    Object(_components_ConfirmAlert__WEBPACK_IMPORTED_MODULE_18__["confirmAlert"])(t('player_tossed_received_confirm_text'), {
      title: t('player_tossed_received_confirm_title'),
      buttonText: t('player_tossed_received_confirm_yes')
    }).then(function () {
      editReceivedGiftRequest(game.participating.id, {}).then(function (response) {
        Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_6__["gtm"])('Receive gift - Confirmed');
        handleResponse();
      });
    });
  };

  // Handle received form
  var handleReceivedSubmit = function handleReceivedSubmit(values) {
    editReceivedGiftRequest(game.participating.id, values).then(function (response) {
      Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_6__["gtm"])('Receive gift - Update');
      handleResponse();
    });
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_Title__WEBPACK_IMPORTED_MODULE_9__["Title"], {
    title: t(game.isPresentReceivedForMe() ? 'player_tossed_received_meta_title' : 'player_tossed_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_17__["T"], {
    i18nKey: game.isPresentReceivedForMe() ? 'player_tossed_received_title' : 'player_tossed_title'
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-sm-4 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_10__["InfoPanel"], {
    label: t('dashboard_info_my_gift_status'),
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PresentForMeStatus__WEBPACK_IMPORTED_MODULE_8__["PresentForMeStatusLabel"], null),
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PresentForMeStatus__WEBPACK_IMPORTED_MODULE_8__["PresentForMeStatusIcon"], null),
    more: {
      link: game.getUrl('chat/santa'),
      label: t('player_tossed_santa_chat_button')
    }
  })), parcel && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-sm-8 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_10__["InfoPanel"], {
    label: t('track_code'),
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, parcel.code, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CourierLogo__WEBPACK_IMPORTED_MODULE_13__["CourierLogo"], {
      parcel: parcel,
      width: 30
    }), " ", parcel.comment),
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_3__["PngIcon"], {
      name: "info"
    }),
    additional: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TrackSteps__WEBPACK_IMPORTED_MODULE_14__["TrackSteps"], {
      parcel: parcel
    })
  })))), !game.isPresentReceivedForMe() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", {
    className: "h4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_17__["T"], {
    i18nKey: "player_tossed_received_form_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "m-b-30 text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_17__["T"], {
    i18nKey: "player_tossed_received_form_text"
  }))), !game.isPresentReceivedForMe() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_11__["Button"], {
    onClick: handleConfirmReceived,
    mod: ['green'],
    isLoading: isReceivedLoading,
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_12__["SvgIcon"], {
      name: "check-circle"
    }),
    label: t('player_tossed_received_button')
  })), game.isPresentReceivedForMe() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["Form"], {
    initialValues: {},
    onSubmit: handleReceivedSubmit,
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_AttachImage__WEBPACK_IMPORTED_MODULE_5__["AttachImage"], {
    id: "received_form_image",
    name: "received_present_image",
    inputPreview: game.send_present_to ? game.send_present_to.received_present_image : '',
    appendButton: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "col-xxs-auto col-12"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_4__["FormSubmit"], {
      id: "received_form_save",
      isLoading: isReceivedLoading,
      label: t('save')
    }))
  })))));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForReceive/WaitToss.tsx":
/*!********************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForReceive/WaitToss.tsx ***!
  \********************************************************************/
/*! exports provided: WaitToss */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WaitToss", function() { return WaitToss; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _Components_Title__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Components/Title */ "./app/javascript/pages/Game/Components/Title.tsx");
/* harmony import */ var _components_InfoPanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../components/InfoPanel */ "./app/javascript/components/InfoPanel.tsx");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../components/Button */ "./app/javascript/components/Button.tsx");
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _components_UnknownText__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../components/UnknownText */ "./app/javascript/components/UnknownText.tsx");
/* harmony import */ var _Components_i18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Components/i18n */ "./app/javascript/pages/Game/Components/i18n.tsx");










function WaitToss() {
  var _useGameTranslation = Object(_Components_i18n__WEBPACK_IMPORTED_MODULE_9__["useGameTranslation"])(),
    t = _useGameTranslation.t,
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_2__["getGame"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "inactive-area"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_Title__WEBPACK_IMPORTED_MODULE_4__["Title"], {
    title: t('player_tossed_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_9__["T"], {
    i18nKey: 'player_tossed_title'
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-sm-4 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_5__["InfoPanel"], {
    label: t('dashboard_info_my_gift_status'),
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UnknownText__WEBPACK_IMPORTED_MODULE_8__["UnknownText"], {
      label: "Status of your gift"
    }),
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_3__["PngIcon"], {
      name: "gift"
    }),
    more: {
      link: game.getUrl('chat/santa'),
      label: t('player_tossed_santa_chat_button')
    }
  })), (game.isDeliveryGetType() || game.getParticipating('toss_group_type') == 'remote') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "col-sm-8 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_5__["InfoPanel"], {
    label: t('track_code'),
    value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UnknownText__WEBPACK_IMPORTED_MODULE_8__["UnknownText"], {
      label: "Parcel code"
    }),
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_3__["PngIcon"], {
      name: "info"
    })
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", {
    className: "h4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_9__["T"], {
    i18nKey: "player_tossed_received_form_title"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "m-b-30 text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_i18n__WEBPACK_IMPORTED_MODULE_9__["T"], {
    i18nKey: "player_tossed_received_form_text"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_6__["Button"], {
    mod: ['green'],
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_7__["SvgIcon"], {
      name: "check-circle"
    }),
    label: t('player_tossed_received_button')
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/TossForReceive/index.tsx":
/*!*****************************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/TossForReceive/index.tsx ***!
  \*****************************************************************/
/*! exports provided: TossForReceive */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TossForReceive", function() { return TossForReceive; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _TossCompleted__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TossCompleted */ "./app/javascript/pages/Game/Toss/TossForReceive/TossCompleted.tsx");
/* harmony import */ var _WaitToss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./WaitToss */ "./app/javascript/pages/Game/Toss/TossForReceive/WaitToss.tsx");





function TossForReceive() {
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_2__["getGame"]);
  return game.isTossCompleted() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TossCompleted__WEBPACK_IMPORTED_MODULE_3__["TossCompleted"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WaitToss__WEBPACK_IMPORTED_MODULE_4__["WaitToss"], null);
}

/***/ }),

/***/ "./app/javascript/pages/Game/Toss/index.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/pages/Game/Toss/index.tsx ***!
  \**************************************************/
/*! exports provided: Toss */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Toss", function() { return Toss; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _Components_CheckAccess__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Components/CheckAccess */ "./app/javascript/pages/Game/Components/CheckAccess.tsx");
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _Archived__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Archived */ "./app/javascript/pages/Game/Archived.tsx");








function Toss() {
  var isStoredGameSameWithRoute = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_6__["useIsStoredGameSameWithRoute"])(),
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useDispatch"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_2__["getGame"]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    isStoredGameSameWithRoute && dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_2__["updateGame"])());
  }, []);
  if (game.isArchived()) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Archived__WEBPACK_IMPORTED_MODULE_7__["ArchivedAsPlayer"], null);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_4__["GameWrapper"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Components_CheckAccess__WEBPACK_IMPORTED_MODULE_3__["CheckAccess"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["Outlet"], null)));
}

/***/ }),

/***/ "./app/javascript/pages/Game/WhoIsSanta.tsx":
/*!**************************************************!*\
  !*** ./app/javascript/pages/Game/WhoIsSanta.tsx ***!
  \**************************************************/
/*! exports provided: WhoIsSanta */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WhoIsSanta", function() { return WhoIsSanta; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _Components_Players__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Components/Players */ "./app/javascript/pages/Game/Components/Players.tsx");
/* harmony import */ var _components_PremiumFunctionality__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/PremiumFunctionality */ "./app/javascript/components/PremiumFunctionality.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layouts/GameWrapper */ "./app/javascript/layouts/GameWrapper.tsx");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./index */ "./app/javascript/pages/Game/index.tsx");











function WhoIsSanta() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_7__["useTranslation"])(),
    t = _useTranslation.t;
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_4__["getGame"]);
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
    isShowAllSendTo = _useState2[0],
    setIsShowAllSendTo = _useState2[1];
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_10__["AdminRequired"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_layouts_GameWrapper__WEBPACK_IMPORTED_MODULE_9__["GameWrapper"], {
    title: t('santa_meta_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "inner-title m-b-40"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row row--sm align-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
    className: "h2"
  }, t('santa_title'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "pro pro--lg"
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "text p-inner__text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "santa_description"
  }))), game.isTossCompleted() && game.getPlayersCount() > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "p-inner__button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_PremiumFunctionality__WEBPACK_IMPORTED_MODULE_6__["PremiumFunctionality"], {
    tag: "button",
    onClick: function onClick() {
      return setIsShowAllSendTo(true);
    },
    className: "btn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, t('show_all')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "pro"
  }))), !game.isTossCompleted() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "santa_no_toss",
    components: {
      l: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        className: "link",
        to: game.getUrl()
      })
    }
  })) : game.getPlayersCount() > 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Components_Players__WEBPACK_IMPORTED_MODULE_5__["Players"], {
    title: t('santa_players_title'),
    showAllSendTo: isShowAllSendTo,
    mode: "who_is_santa"
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    style: {
      marginTop: '-20px'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_8__["TransProxy"], {
    i18nKey: "santa_no_players",
    components: {
      l: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: game.getUrl('invite'),
        className: "btn"
      })
    }
  }))));
}

/***/ }),

/***/ "./app/javascript/pages/Game/index.tsx":
/*!*********************************************!*\
  !*** ./app/javascript/pages/Game/index.tsx ***!
  \*********************************************/
/*! exports provided: AdminRequired, GameLink, SelectTossGroups, Players, useGameMaxPlayers, Game */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useGameMaxPlayers", function() { return useGameMaxPlayers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Game", function() { return Game; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _layouts_GameLayout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layouts/GameLayout */ "./app/javascript/layouts/GameLayout.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var use_debounced_effect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! use-debounced-effect */ "./node_modules/use-debounced-effect/lib/index.js");
/* harmony import */ var use_debounced_effect__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(use_debounced_effect__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _channels_PageProgressBar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../channels/PageProgressBar */ "./app/javascript/channels/PageProgressBar.tsx");
/* harmony import */ var _NotFound__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./NotFound */ "./app/javascript/pages/Game/NotFound.tsx");
/* harmony import */ var _Components_AdminRequired__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Components/AdminRequired */ "./app/javascript/pages/Game/Components/AdminRequired.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AdminRequired", function() { return _Components_AdminRequired__WEBPACK_IMPORTED_MODULE_9__["AdminRequired"]; });

/* harmony import */ var _Components_Link__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Components/Link */ "./app/javascript/pages/Game/Components/Link.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GameLink", function() { return _Components_Link__WEBPACK_IMPORTED_MODULE_10__["Link"]; });

/* harmony import */ var _Components_SelectTossGroups__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Components/SelectTossGroups */ "./app/javascript/pages/Game/Components/SelectTossGroups.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SelectTossGroups", function() { return _Components_SelectTossGroups__WEBPACK_IMPORTED_MODULE_11__["SelectTossGroups"]; });

/* harmony import */ var _Components_Players__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Components/Players */ "./app/javascript/pages/Game/Components/Players.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Players", function() { return _Components_Players__WEBPACK_IMPORTED_MODULE_12__["Players"]; });















function useGameMaxPlayers() {
  var game = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]);
  var _useTariffs = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useTariffs"])(),
    tariffs = _useTariffs.tariffs;
  var gameTariff = tariffs[game.getTariff()];
  return game.max_players || (gameTariff && gameTariff.full ? gameTariff.full.max_players : 999);
}
function Game() {
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useDispatch"])(),
    requestGameId = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useParseGameId"])(),
    isStoredGameSameWithRoute = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useIsStoredGameSameWithRoute"])(),
    game = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGame"]),
    gameStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["getGameStatus"]);
  use_debounced_effect__WEBPACK_IMPORTED_MODULE_6___default()(function () {
    if (!isStoredGameSameWithRoute) dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_5__["fetchGame"])(requestGameId));
  }, {
    timeout: 15,
    ignoreInitialCall: false
  }, [requestGameId, isStoredGameSameWithRoute]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (gameStatus == 'loading') Object(_channels_PageProgressBar__WEBPACK_IMPORTED_MODULE_7__["startLoading"])();else Object(_channels_PageProgressBar__WEBPACK_IMPORTED_MODULE_7__["endLoading"])();
  }, [gameStatus]);
  if (gameStatus == 'not_found') return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NotFound__WEBPACK_IMPORTED_MODULE_8__["NotFound"], null);
  return game.id ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_GameLayout__WEBPACK_IMPORTED_MODULE_1__["GameLayout"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Outlet"], null)) : null;
}

/***/ }),

/***/ "./app/javascript/pages/GameCreate.tsx":
/*!*********************************************!*\
  !*** ./app/javascript/pages/GameCreate.tsx ***!
  \*********************************************/
/*! exports provided: GameCreate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameCreate", function() { return GameCreate; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _layouts_Inner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layouts/Inner */ "./app/javascript/layouts/Inner.tsx");
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _components_Aside__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Aside */ "./app/javascript/components/Aside/index.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../redux/slices/games */ "./app/javascript/redux/slices/games.ts");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _Game_Components_Settings__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Game/Components/Settings */ "./app/javascript/pages/Game/Components/Settings.tsx");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");














function GameCreate() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_10__["useTranslation"])(),
    t = _useTranslation.t,
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useDispatch"])(),
    navigate = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["useNavigate"])(),
    tempGame = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_7__["getTempGame"]),
    copyGameRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_12__["getCopyGame"]));

  // Clear current game when we're trying to create new
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    dispatch(Object(_redux_slices_game__WEBPACK_IMPORTED_MODULE_7__["clearGame"])());
    return function () {
      dispatch(Object(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_12__["setCopyGame"])(null));
    };
  }, []);
  var handleSubmit = function handleSubmit(values) {
    values.toss_groups = values.toss_groups.map(function (i) {
      return {
        name: i.value,
        involvment_type: i.type
      };
    });
    return _core_api__WEBPACK_IMPORTED_MODULE_13__["Api"].games.create(values)().then(function (response) {
      dispatch(Object(_redux_slices_games__WEBPACK_IMPORTED_MODULE_8__["addOrganizerGame"])(response));
      Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_9__["gtm"])('Game created', response);
      navigate(_routes__WEBPACK_IMPORTED_MODULE_4__["URLS"].Game('', response.id));
      return response;
    });
  };
  var Aside = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Aside__WEBPACK_IMPORTED_MODULE_3__["GeneratedAsideTree"], {
    data: [{
      key: 'creation_new_game',
      label: tempGame.name || t('new_game'),
      truncate: true,
      className: 'font-black font-bold',
      icon: tempGame.avatar ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "round-sm-image"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        alt: tempGame.name,
        style: {
          maxWidth: '10px'
        },
        src: tempGame.avatar
      })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_2__["PngIcon"], {
        name: "ball"
      })
    }]
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_Inner__WEBPACK_IMPORTED_MODULE_1__["Inner"], {
    title: t('game_create_meta_title'),
    aside: Aside
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "l-inner-wrapper l-inner-wrapper--v"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Game_Components_Settings__WEBPACK_IMPORTED_MODULE_11__["Settings"], {
    title: t('game_creation'),
    formData: copyGameRef.current || {},
    onSubmit: handleSubmit
  })));
}

/***/ }),

/***/ "./app/javascript/pages/Home.tsx":
/*!***************************************!*\
  !*** ./app/javascript/pages/Home.tsx ***!
  \***************************************/
/*! exports provided: Home */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Home", function() { return Home; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/slices/games */ "./app/javascript/redux/slices/games.ts");






function Home() {
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useDispatch"])(),
    user = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_4__["getAuthUser"]),
    isAuth = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_4__["isLogged"]),
    mergedGamesStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_5__["getMergedGamesStatus"]),
    mergedGames = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_5__["getMergedGames"]),
    nonArchivedGames = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
      return mergedGames.filter(function (game) {
        return !game.isArchived();
      });
    }, [mergedGames]),
    tempGameId = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_4__["getTempGameId"]);
  var redirect = '';
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (mergedGamesStatus == 'idle' && isAuth) dispatch(Object(_redux_slices_games__WEBPACK_IMPORTED_MODULE_5__["fetchMergedGames"])());
  }, []);
  if (!isAuth) redirect = _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].AuthLogin;else if (user.info_was_given === false) redirect = _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].UserEditInfo;else if (tempGameId) redirect = _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('questionary', tempGameId);else if (mergedGamesStatus == 'succeeded') {
    redirect = nonArchivedGames.length ? _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('', nonArchivedGames[0].id) : _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].GameCreate;
  }
  return redirect ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Navigate"], {
    to: redirect
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "preloader"
  });
}

/***/ }),

/***/ "./app/javascript/pages/NewPassword.tsx":
/*!**********************************************!*\
  !*** ./app/javascript/pages/NewPassword.tsx ***!
  \**********************************************/
/*! exports provided: NewPassword */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewPassword", function() { return NewPassword; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! yup */ "./node_modules/yup/es/index.js");
/* harmony import */ var _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../helpers/yupDefaultValidations */ "./app/javascript/helpers/yupDefaultValidations.ts");
/* harmony import */ var _NotFound__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./NotFound */ "./app/javascript/pages/NotFound.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var _components_MakeLogin__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/MakeLogin */ "./app/javascript/components/MakeLogin.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _components_RequestEmailConfirm__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../components/RequestEmailConfirm */ "./app/javascript/components/RequestEmailConfirm.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/api */ "./app/javascript/core/api/index.ts");



var _excluded = ["values"];















function ExpiredToken() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_10__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_11__["PageTitle"], {
    title: t('new_password_expired_token_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t('new_password_expired_token_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "page__desc text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_14__["TransProxy"], {
    i18nKey: "new_password_expired_token_text"
  })));
}
function NewPassword() {
  var _useTranslation2 = Object(react_i18next__WEBPACK_IMPORTED_MODULE_10__["useTranslation"])(),
    t = _useTranslation2.t,
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_16__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_17__["Api"].users.setPassword),
    request = _useApi.request,
    isLoading = _useApi.isLoading,
    _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(''),
    _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
    error = _useState2[0],
    setError = _useState2[1],
    _useRequestEmailConfi = Object(_components_RequestEmailConfirm__WEBPACK_IMPORTED_MODULE_15__["useRequestEmailConfirm"])(),
    require = _useRequestEmailConfi.require,
    _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false),
    _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
    activateLogin = _useState4[0],
    setActivateLogin = _useState4[1];
  var resetToken = new URLSearchParams(window.location.search).get('reset_password_token');
  var formProps = {
    initialValues: {
      password: '',
      passwordConfirmation: ''
    },
    validationSchema: yup__WEBPACK_IMPORTED_MODULE_7__["object"]().shape({
      password: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_8__["passwordValidation"],
      passwordConfirmation: _helpers_yupDefaultValidations__WEBPACK_IMPORTED_MODULE_8__["passwordConfirmValidation"]
    }),
    onSubmit: function onSubmit(_ref, actions) {
      var password = _ref.password;
      request(password, resetToken).then( /*#__PURE__*/function () {
        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(response) {
          var youHaveToConfirmEmail;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  if (response.errors) setError(Object.values(response.errors).join('<br>'));else if (response.error) {
                    youHaveToConfirmEmail = /you have to confirm your email/i.test(response.error);
                    if (youHaveToConfirmEmail) require(_helpers_initialState__WEBPACK_IMPORTED_MODULE_13__["initialState"].email_new_password).then(function () {
                      return setError( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_14__["TransProxy"], {
                        i18nKey: "new_password_confirm_email_require"
                      }));
                    });else setError(response.error);
                  } else setActivateLogin(true);
                case 1:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }));
        return function (_x) {
          return _ref2.apply(this, arguments);
        };
      }());
    }
  };
  if (!resetToken) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_NotFound__WEBPACK_IMPORTED_MODULE_9__["NotFound"], null);
  if (_helpers_initialState__WEBPACK_IMPORTED_MODULE_13__["initialState"].valid_token === false) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ExpiredToken, null);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_11__["PageTitle"], {
    title: t('new_password_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t('new_password_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["Form"], formProps, function (_ref3) {
    var values = _ref3.values,
      formikBag = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref3, _excluded);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_MakeLogin__WEBPACK_IMPORTED_MODULE_12__["MakeLogin"], {
      activateLogin: activateLogin,
      values: values,
      formikBag: formikBag
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_5__["Input"], {
      id: "new_password_first",
      type: "password",
      placeholder: t('new_password_password'),
      name: "password"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_5__["Input"], {
      id: "new_password_second",
      type: "password",
      placeholder: t('new_password_repeat'),
      name: "passwordConfirmation"
    })), error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], {
      mod: ['sm']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "alert alert--danger"
    }, error)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormRow"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_6__["FormSubmit"], {
      id: "new_password_submit",
      isLoading: isLoading,
      label: t('next')
    })));
  }));
}

/***/ }),

/***/ "./app/javascript/pages/NotFound.tsx":
/*!*******************************************!*\
  !*** ./app/javascript/pages/NotFound.tsx ***!
  \*******************************************/
/*! exports provided: NotFound */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotFound", function() { return NotFound; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");






function NotFound() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_3__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_5__["PageTitle"], {
    title: t('not_found_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t('not_found_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "page__desc text"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_4__["TransProxy"], {
    i18nKey: "not_found_text"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
    to: _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].GameCreate,
    className: "btn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, t('create_game')))));
}

/***/ }),

/***/ "./app/javascript/pages/Partners/Chart.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/pages/Partners/Chart.tsx ***!
  \*************************************************/
/*! exports provided: Chart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return Chart; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! chart.js */ "./node_modules/chart.js/dist/chart.js");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");



chart_js__WEBPACK_IMPORTED_MODULE_1__["Chart"].register(chart_js__WEBPACK_IMPORTED_MODULE_1__["CategoryScale"], chart_js__WEBPACK_IMPORTED_MODULE_1__["LinearScale"], chart_js__WEBPACK_IMPORTED_MODULE_1__["PointElement"], chart_js__WEBPACK_IMPORTED_MODULE_1__["LineElement"], chart_js__WEBPACK_IMPORTED_MODULE_1__["LineController"], chart_js__WEBPACK_IMPORTED_MODULE_1__["Tooltip"], chart_js__WEBPACK_IMPORTED_MODULE_1__["Filler"]);
function Chart(_ref) {
  var parent = _ref.parent,
    height = _ref.height,
    labels = _ref.labels,
    inputData = _ref.data,
    inputOptions = _ref.options,
    gradientStartOpacity = _ref.gradientStartOpacity,
    gradientFinishOpacity = _ref.gradientFinishOpacity;
  var ref = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  var options = {
    responsive: !height,
    datasetStrokeWidth: 3,
    pointDotStrokeWidth: 4,
    scaleLabel: "<%= Number(value).toFixed(0).replace('.', ',') %>",
    interaction: {
      intersect: false
    },
    animation: false,
    scales: {
      y: {
        beginAtZero: true
      }
    },
    plugins: {
      legend: {
        labels: {
          // This more specific font property overrides the global property
          font: {
            family: 'Inter'
          }
        }
      }
    }
  };
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    // @ts-ignore
    ref.current && new chart_js__WEBPACK_IMPORTED_MODULE_1__["Chart"](ref.current, {
      type: 'line',
      data: {
        labels: labels,
        datasets: [{
          cubicInterpolationMode: 'monotone',
          tension: 0.4,
          fill: true,
          backgroundColor: function backgroundColor(context) {
            var chart = context.chart;
            var ctx = chart.ctx,
              chartArea = chart.chartArea;
            var gradient = ctx.createLinearGradient(0, 0, 0, chartArea ? chartArea.height : 100);
            gradient.addColorStop(0, 'rgba(247,79,79, ' + (gradientStartOpacity || 1) + ')');
            gradient.addColorStop(1, 'rgba(247,79,79, ' + (gradientFinishOpacity || 0) + ')');
            return gradient;
          },
          borderColor: "rgba(247,79,79," + Math.min(parseFloat(gradientStartOpacity) + 0.3, 1) + ")",
          borderWidth: 2,
          // @ts-ignore
          pointColor: "#F74F4F",
          pointBackgroundColor: "#F74F4F",
          pointStrokeColor: "#F74F4F",
          pointHighlightFill: "#F74F4F",
          pointHighlightStroke: "#F74F4F",
          data: inputData
        }]
      },
      options: Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_2__["mergeDeep"])(options, inputOptions)
    });
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", parent, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("canvas", {
    style: {
      width: '100%',
      height: height
    },
    ref: ref
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Partners/List.tsx":
/*!************************************************!*\
  !*** ./app/javascript/pages/Partners/List.tsx ***!
  \************************************************/
/*! exports provided: List */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "List", function() { return List; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _layouts_Inner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../layouts/Inner */ "./app/javascript/layouts/Inner.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _Chart__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Chart */ "./app/javascript/pages/Partners/Chart.tsx");
/* harmony import */ var _Panel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Panel */ "./app/javascript/pages/Partners/Panel.tsx");












function Item(props) {
  var _Object$entries;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_5__["useTranslation"])(),
    t = _useTranslation.t,
    _useSuggestedCurrency = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_7__["useSuggestedCurrency"])(),
    formattedCurrency = _useSuggestedCurrency.formattedCurrency;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__["Link"], {
    to: '/ref/' + props.code,
    className: "ref-item"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "ref-item__code"
  }, props.code), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "ref-item__stats"
  }, Object.entries((_Object$entries = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_Object$entries, t('partners_link_percent'), props.percentage + '%'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_Object$entries, t('partners_link_regs'), props.regs.total), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(_Object$entries, t('partners_link_payments'), Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_8__["formatMoney"])(props.payments.total) + ' ' + formattedCurrency), _Object$entries)).map(function (_ref, index) {
    var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref, 2),
      label = _ref2[0],
      value = _ref2[1];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("dl", {
      key: index
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("dt", null, label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("dd", null, value));
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "ref-item__chart"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Chart__WEBPACK_IMPORTED_MODULE_10__["Chart"], {
    parent: {
      className: 'm-t-5'
    },
    height: 100,
    labels: Object.keys(props.regs.data),
    data: Object.values(props.regs.data),
    gradientStartOpacity: 0.1,
    gradientFinishOpacity: 0.05,
    options: {
      elements: {
        point: {
          hoverRadius: 0,
          radius: 0
        }
      },
      layout: {
        autoPadding: false
      },
      scales: {
        x: {
          display: false
        },
        y: {
          display: false
        }
      },
      plugins: {
        tooltip: {
          enabled: false
        }
      }
    }
  })));
}
function List() {
  var _useTranslation2 = Object(react_i18next__WEBPACK_IMPORTED_MODULE_5__["useTranslation"])(),
    t = _useTranslation2.t,
    _useOutletContext = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_9__["useOutletContext"])(),
    data = _useOutletContext.data,
    _useSuggestedCurrency2 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_7__["useSuggestedCurrency"])(),
    formattedCurrency = _useSuggestedCurrency2.formattedCurrency;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layouts_Inner__WEBPACK_IMPORTED_MODULE_4__["InnerGroup"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-sm-6 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Panel__WEBPACK_IMPORTED_MODULE_11__["Panel"], {
    label: t('partners_total_payments'),
    mods: ['num'],
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "font-red",
      children: formattedCurrency
    }),
    value: Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_8__["formatMoney"])(data.total_payments) + ' ' + formattedCurrency
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "col-sm-6 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Panel__WEBPACK_IMPORTED_MODULE_11__["Panel"], {
    label: t('partners_total_regs'),
    mods: ['num'],
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_6__["SvgIcon"], {
      color: "#F74F4F",
      name: "players"
    }),
    value: data.total_regs
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layouts_Inner__WEBPACK_IMPORTED_MODULE_4__["InnerGroup"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h4", {
    className: "h4"
  }, t('partners_your_links_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "row"
  }, Object.entries(data.refs).map(function (_ref3, index) {
    var _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref3, 2),
      refCode = _ref4[0],
      refInfo = _ref4[1];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      key: index,
      className: "col-6"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Item, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      code: refCode
    }, refInfo)));
  }))));
}

/***/ }),

/***/ "./app/javascript/pages/Partners/Panel.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/pages/Partners/Panel.tsx ***!
  \*************************************************/
/*! exports provided: Panel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Panel", function() { return Panel; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_InfoPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/InfoPanel */ "./app/javascript/components/InfoPanel.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");


var _excluded = ["value"];



function Panel(_ref) {
  var value = _ref.value,
    props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);
  var _useOutletContext = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["useOutletContext"])(),
    isLoading = _useOutletContext.isLoading;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_InfoPanel__WEBPACK_IMPORTED_MODULE_3__["InfoPanel"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
    mods: ['num'],
    value: isLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "ph-text"
    }, "99 999") : value
  }));
}

/***/ }),

/***/ "./app/javascript/pages/Partners/Show.tsx":
/*!************************************************!*\
  !*** ./app/javascript/pages/Partners/Show.tsx ***!
  \************************************************/
/*! exports provided: Show */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Show", function() { return Show; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _layouts_Inner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../layouts/Inner */ "./app/javascript/layouts/Inner.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _Chart__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Chart */ "./app/javascript/pages/Partners/Chart.tsx");
/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/Input */ "./app/javascript/components/Input.tsx");
/* harmony import */ var _helpers_gtm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../helpers/gtm */ "./app/javascript/helpers/gtm.ts");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../components/Form */ "./app/javascript/components/Form.tsx");
/* harmony import */ var _Panel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Panel */ "./app/javascript/pages/Partners/Panel.tsx");













function ShowChart(_ref) {
  var labels = _ref.labels,
    data = _ref.data;
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_2__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Chart__WEBPACK_IMPORTED_MODULE_8__["Chart"], {
    labels: labels.map(function (label) {
      return Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["formatDateCustomFormat"])(label, t('date_format'));
    }),
    data: data,
    parent: {
      className: 'm-b-30'
    },
    gradientStartOpacity: 0.6,
    gradientFinishOpacity: 0.1,
    options: {
      layout: {
        autoPadding: false
      },
      scales: {}
    }
  });
}
function Show() {
  var _useTranslation2 = Object(react_i18next__WEBPACK_IMPORTED_MODULE_2__["useTranslation"])(),
    t = _useTranslation2.t,
    _useParams = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useParams"])(),
    id = _useParams.id,
    _useSuggestedCurrency = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_4__["useSuggestedCurrency"])(),
    currency = _useSuggestedCurrency.currency,
    formattedCurrency = _useSuggestedCurrency.formattedCurrency,
    _useOutletContext = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useOutletContext"])(),
    data = _useOutletContext.data,
    refData = id && data.refs[id] ? data.refs[id] : {};
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_layouts_Inner__WEBPACK_IMPORTED_MODULE_5__["InnerGroup"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_11__["FormRow"], {
    label: t('partners_show_you_link')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_9__["InputBoilerplate"], {
    wrapperClassName: "m-b-10",
    value: Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["url"])('?ref=' + id),
    readOnly: true,
    isCopiable: true,
    onCopied: function onCopied(v) {
      return Object(_helpers_gtm__WEBPACK_IMPORTED_MODULE_10__["gtm"])("Refs - copy link", {
        link: v
      });
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-sm-4 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Panel__WEBPACK_IMPORTED_MODULE_12__["Panel"], {
    label: t('partners_show_percent'),
    mods: ['num'],
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "font-red",
      children: "%"
    }),
    value: refData.percentage + '%'
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-sm-4 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Panel__WEBPACK_IMPORTED_MODULE_12__["Panel"], {
    label: t('partners_show_regs'),
    mods: ['num'],
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_7__["SvgIcon"], {
      color: "#F74F4F",
      name: "players"
    }),
    value: refData.regs ? refData.regs.total : 0
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-sm-4 col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Panel__WEBPACK_IMPORTED_MODULE_12__["Panel"], {
    label: t('partners_show_payments'),
    mods: ['num'],
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "font-red",
      children: formattedCurrency
    }),
    value: Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["formatMoney"])(refData.payments ? refData.payments.total : 0)
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_layouts_Inner__WEBPACK_IMPORTED_MODULE_5__["InnerGroup"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row"
  }, !!(refData.regs ? refData.regs.total : 0) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4", {
    className: "h4"
  }, t('partners_show_regs_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ShowChart, {
    labels: Object.keys(refData.regs.data),
    data: Object.values(refData.regs.data)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "table table--stripped"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("th", null, t('partners_show_regs_table_date')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("th", null, t('partners_show_regs_table_amount')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tbody", null, Object.entries(refData.regs.data).map(function (_ref2, index) {
    var _ref3 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref2, 2),
      date = _ref3[0],
      sum = _ref3[1];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tr", {
      key: index
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", null, Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["formatDateCustomFormat"])(date, t('date_format'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", null, sum));
  }))))), !!(refData.payments ? refData.payments.total : 0) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4", {
    className: "h4"
  }, t('partners_show_payments_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ShowChart, {
    labels: Object.keys(refData.payments.data),
    data: Object.values(refData.payments.data).map(function (i) {
      return i[Object.keys(i)[0]];
    })
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "table table--stripped"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("th", null, t('partners_show_payments_table_date')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("th", null, t('partners_show_payments_table_sum')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tbody", null, Object.entries(refData.payments.data).map(function (_ref4, index) {
    var _ref5 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref4, 2),
      date = _ref5[0],
      sum = _ref5[1];
    var curr = Object.keys(sum)[0];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tr", {
      key: index
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", null, Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["formatDateCustomFormat"])(date, t('date_format'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", null, Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["formatMoney"])(sum[curr]), " ", Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["formatCurrency"])(curr)));
  }))))))));
}

/***/ }),

/***/ "./app/javascript/pages/Partners/index.tsx":
/*!*************************************************!*\
  !*** ./app/javascript/pages/Partners/index.tsx ***!
  \*************************************************/
/*! exports provided: List, Show, Partners */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Partners", function() { return Partners; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./List */ "./app/javascript/pages/Partners/List.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "List", function() { return _List__WEBPACK_IMPORTED_MODULE_2__["List"]; });

/* harmony import */ var _Show__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Show */ "./app/javascript/pages/Partners/Show.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Show", function() { return _Show__WEBPACK_IMPORTED_MODULE_3__["Show"]; });

/* harmony import */ var _layouts_Inner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../layouts/Inner */ "./app/javascript/layouts/Inner.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _components_SvgIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/SvgIcon */ "./app/javascript/components/SvgIcon.tsx");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");












function Partners() {
  var _useParams = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["useParams"])(),
    id = _useParams.id,
    _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_8__["useTranslation"])(),
    t = _useTranslation.t,
    _useApi = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_9__["useApi"])(_core_api__WEBPACK_IMPORTED_MODULE_10__["Api"].users.refs),
    refsRequest = _useApi.request,
    isLoading = _useApi.isLoading,
    data = _useApi.data;

  /*const data = {
      "registrations": {
          "babi4": { "2022-11-19": 1, "2022-11-23": 9, "2022-11-25": 3 },
          "drakon": { "2022-11-19": 5 , "2022-11-23": 15, "2022-11-25": 34}
      },
      "payments": {
          "drakon": {
              "Wed, 25 Aug 2021": {"rub":16930},
              "Wed, 29 Dec 2021": {"rub":28920},
              "Mon, 27 Sep 2021": {"rub":33980},
              "Sat, 02 Jan 2021": {"rub":11980},
              "Fri, 07 Jan 2022": {"rub":21980}
          },
          "babi4": {
              "Wed, 25 Aug 2021": {"rub":6930},
              "Wed, 29 Dec 2021": {"rub":8920},
              "Mon, 27 Sep 2021": {"rub":3980},
              "Sat, 02 Jan 2021": {"rub":1980},
              "Fri, 07 Jan 2022": {"rub":1980}
          }
      },
      "current_percenrage": 10
  }*/

  var handledData = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var output = {
      total_payments: 0,
      total_regs: 0,
      refs: {}
    };
    Object.entries(data.payments || {}).forEach(function (_ref) {
      var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref, 2),
        ref = _ref2[0],
        paymentsInfo = _ref2[1];
      var linkTotalPayments = Object.entries(paymentsInfo).reduce(function (accumulator, _ref3) {
        var _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref3, 2),
          date = _ref4[0],
          sum = _ref4[1];
        return accumulator + sum[Object.keys(sum)[0]];
      }, 0);
      if (!output.refs[ref]) output.refs[ref] = {};
      output.refs[ref].payments = {
        total: linkTotalPayments,
        data: paymentsInfo
      };
      output.refs[ref].percentage = data.current_percenrage;
      output.total_payments += linkTotalPayments;
    });
    Object.entries(data.registrations || {}).forEach(function (_ref5) {
      var _ref6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref5, 2),
        ref = _ref6[0],
        regInfo = _ref6[1];
      var linkTotalRegs = Object.entries(regInfo).reduce(function (accumulator, _ref7) {
        var _ref8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref7, 2),
          date = _ref8[0],
          amount = _ref8[1];
        return accumulator + amount;
      }, 0);
      if (!output.refs[ref]) output.refs[ref] = {};
      output.refs[ref].regs = {
        total: linkTotalRegs,
        data: regInfo
      };
      output.refs[ref].percentage = data.current_percenrage;
      output.total_regs += linkTotalRegs;
    });
    return output;
  }, [data]);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    refsRequest();
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_layouts_Inner__WEBPACK_IMPORTED_MODULE_4__["Inner"], {
    title: t('partners_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "l-inner-wrapper l-inner-wrapper--v"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, id ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "row align-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["Link"], {
    to: _routes__WEBPACK_IMPORTED_MODULE_7__["URLS"].Ref,
    className: "round-back-button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_SvgIcon__WEBPACK_IMPORTED_MODULE_6__["SvgIcon"], {
    name: "chevron-right"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "col-auto"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "font-red"
  }, id))) : t('partners_title')), data.code == 'forbidden' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "alert alert--danger"
  }, data.message) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["Outlet"], {
    context: {
      isLoading: isLoading,
      data: handledData
    }
  })));
}

/***/ }),

/***/ "./app/javascript/pages/ShopFrame.tsx":
/*!********************************************!*\
  !*** ./app/javascript/pages/ShopFrame.tsx ***!
  \********************************************/
/*! exports provided: ShopFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShopFrame", function() { return ShopFrame; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_PresentsShop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/PresentsShop */ "./app/javascript/components/PresentsShop/index.ts");


function ShopFrame() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PresentsShop__WEBPACK_IMPORTED_MODULE_1__["PresentsShop"], {
    style: {
      padding: '0 20px'
    },
    useFor: "shop_frame"
  });
}

/***/ }),

/***/ "./app/javascript/pages/UserEdit.tsx":
/*!*******************************************!*\
  !*** ./app/javascript/pages/UserEdit.tsx ***!
  \*******************************************/
/*! exports provided: UserEdit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserEdit", function() { return UserEdit; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _layouts_Inner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layouts/Inner */ "./app/javascript/layouts/Inner.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_UserEditForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/UserEditForm */ "./app/javascript/components/UserEditForm.tsx");

var _excluded = ["avatar"];






function UserEdit() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_5__["useTranslation"])(),
    t = _useTranslation.t,
    user = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_4__["getAuthUser"]),
    avatar = user.avatar,
    authUser = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(user, _excluded);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_layouts_Inner__WEBPACK_IMPORTED_MODULE_2__["Inner"], {
    title: t('user_edit_meta_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "l-inner-wrapper l-inner-wrapper--v"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, t('user_edit_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UserEditForm__WEBPACK_IMPORTED_MODULE_6__["UserEditForm"], null)));
}

/***/ }),

/***/ "./app/javascript/pages/Wishlist.tsx":
/*!*******************************************!*\
  !*** ./app/javascript/pages/Wishlist.tsx ***!
  \*******************************************/
/*! exports provided: Wishlist */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Wishlist", function() { return Wishlist; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_PresentsShop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/PresentsShop */ "./app/javascript/components/PresentsShop/index.ts");
/* harmony import */ var _layouts_Inner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layouts/Inner */ "./app/javascript/layouts/Inner.tsx");
/* harmony import */ var _components_PageTitle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/PageTitle */ "./app/javascript/components/PageTitle.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _layouts_SimplePage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layouts/SimplePage */ "./app/javascript/layouts/SimplePage.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../redux/slices/games */ "./app/javascript/redux/slices/games.ts");











function Wishlist() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["useTranslation"])(),
    t = _useTranslation.t,
    _useParams = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["useParams"])(),
    userId = _useParams.userId,
    mode = _useParams.mode,
    isAuth = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_8__["isLogged"]),
    authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_8__["getAuthUser"]),
    mergedGames = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_10__["getMergedGames"]);
  if (!userId) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Navigate"], {
    to: isAuth ? "".concat(_routes__WEBPACK_IMPORTED_MODULE_9__["URLS"].Wishlist, "/").concat(authUser.id) : _routes__WEBPACK_IMPORTED_MODULE_9__["URLS"].AuthLogin
  });
  var UserWishlist = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_Inner__WEBPACK_IMPORTED_MODULE_2__["Inner"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_3__["PageTitle"], {
    title: t('shop_presents_wishlist_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "l-inner-wrapper l-inner-wrapper--v"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PresentsShop__WEBPACK_IMPORTED_MODULE_1__["PresentsShop"], {
    useFor: mode || 'like'
  })));
  var SharedWishlist = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_SimplePage__WEBPACK_IMPORTED_MODULE_5__["SimplePage"], {
    title: t('shop_user_wishlist_meta_title')
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 page__title"
  }, t('shop_user_wishlist_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PresentsShop__WEBPACK_IMPORTED_MODULE_1__["PresentsShop"], {
    userId: userId,
    useFor: "share"
  }));

  // OZON
  if (mergedGames.filter(function (i) {
    return i.id == '94b80fc9-cd35-4529-aeac-c81473049a59';
  }).length) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_Inner__WEBPACK_IMPORTED_MODULE_2__["Inner"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PageTitle__WEBPACK_IMPORTED_MODULE_3__["PageTitle"], {
    title: t('shop_presents_wishlist_meta_title')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "l-inner-wrapper l-inner-wrapper--v"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: "h2 inner-title"
  }, t('shop_title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "d-none d-md-block"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "https://ozon.ru",
    target: "_blank"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    src: "https://static.mysanta.ru/ozon-wishlist.png"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "d-md-none"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "https://ozon.ru",
    target: "_blank"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    src: "https://static.mysanta.ru/ozon-wishlist-mobile.png"
  })))));
  return authUser.id != userId ? SharedWishlist : UserWishlist;
}

/***/ }),

/***/ "./app/javascript/partials/Footer.tsx":
/*!********************************************!*\
  !*** ./app/javascript/partials/Footer.tsx ***!
  \********************************************/
/*! exports provided: Footer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Footer", function() { return Footer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _components_LangSwitcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/LangSwitcher */ "./app/javascript/components/LangSwitcher.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");






function Footer(props) {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_2__["useTranslation"])(),
    t = _useTranslation.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
    className: "footer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: props.wrapperClassName || 'l-inner-wrapper'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "footer__inn"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "footer__left"
  }, t('footer_copyright'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    className: "footer__email",
    href: 'mailto:' + t('support_email')
  }, t('support_email')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    onClick: _helpers_utils__WEBPACK_IMPORTED_MODULE_5__["openSupport"],
    className: "footer__support link",
    href: "#"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_1__["PngIcon"], {
    name: "heart"
  }), " ", t('footer_support'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "footer__right"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LangSwitcher__WEBPACK_IMPORTED_MODULE_4__["LangSwitcher"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    target: "_blank",
    className: "footer__terms",
    href: "/terms"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_3__["TransProxy"], {
    i18nKey: "footer_terms"
  }), " "))))));
}

/***/ }),

/***/ "./app/javascript/partials/GamesMenu.tsx":
/*!***********************************************!*\
  !*** ./app/javascript/partials/GamesMenu.tsx ***!
  \***********************************************/
/*! exports provided: GamesMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GamesMenu", function() { return GamesMenu; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _redux_slices_games__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/slices/games */ "./app/javascript/redux/slices/games.ts");
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var _components_Aside__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/Aside */ "./app/javascript/components/Aside/index.tsx");
/* harmony import */ var _redux_slices_game__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../redux/slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");
/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../helpers/hooks */ "./app/javascript/helpers/hooks.ts");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _pages_Game__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../pages/Game */ "./app/javascript/pages/Game/index.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }














function MenuGameAvatar(_ref) {
  var game = _ref.game;
  return game.avatar ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "round-sm-image"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("img", {
    alt: game.name,
    style: {
      maxWidth: '10px'
    },
    src: game.avatar
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
    name: "ball"
  });
}
function GamesMenu() {
  var _useTranslation = Object(react_i18next__WEBPACK_IMPORTED_MODULE_9__["useTranslation"])(),
    t = _useTranslation.t,
    i18n = _useTranslation.i18n,
    _useLocation = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_13__["useLocation"])(),
    path = _useLocation.pathname,
    _useLocalesLoaded = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_11__["useLocalesLoaded"])(),
    localesLoaded = _useLocalesLoaded.localesLoaded,
    requestGameId = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_11__["useParseGameId"])(),
    dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useDispatch"])(),
    authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_12__["getAuthUser"]),
    gameStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_8__["getGameStatus"]),
    mergedGamesStatus = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_5__["getMergedGamesStatus"]),
    mergedGames = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_games__WEBPACK_IMPORTED_MODULE_5__["getMergedGames"]),
    currentGame = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(_redux_slices_game__WEBPACK_IMPORTED_MODULE_8__["getGame"]),
    generateGameMenu = function generateGameMenu(game) {
      var isHide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var archivedItem = {
          label: t('menu_toss'),
          url: game.getUrl(),
          icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
            name: "cooker"
          })
        },
        whoIsSantaItem = {
          "if": game.is_admin && game.isTossCompleted(),
          label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_10__["TransProxy"], {
            i18nKey: "menu_who_santa"
          }),
          url: game.getUrl('who_is_santa'),
          icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
            name: "santa"
          })
        };
      var joinItems = [
      // Edit player form
      {
        "if": game.isJoinedGame(),
        label: t('menu_form'),
        url: game.getUrl('questionary'),
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
          name: "form"
        })
      },
      // Join to the gamae
      {
        "if": !game.isJoinedGame() && !game.isTossCompleted(),
        label: t('menu_join_game'),
        url: game.getUrl('questionary'),
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
          name: "plus"
        }),
        className: 'font-green'
      }];
      var playMenu = [{
        label: t('menu_play'),
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
          name: "dice"
        }),
        url: game.getUrl()
      }].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(game.isJoinedGame() ? [{
        label: t('menu_play_with_man'),
        url: game.getUrl('toss/for_receiver'),
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
          name: "santa"
        })
      }, {
        label: t('menu_play_with_me'),
        url: game.getUrl('toss/for_me'),
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
          name: "man"
        })
      }] : []));
      var chatMenu = {
        label: t('menu_chats'),
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
          name: "chat"
        }),
        name: 'game_chat_menu',
        child: [{
          label: t('menu_chats_all'),
          url: game.getUrl('chat')
        }].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(game.isTossCompleted() && game.isJoinedGame() ? [{
          label: t('menu_chats_santa'),
          url: game.getUrl('chat/santa'),
          notification: game.unread_messages_counts && !!game.unread_messages_counts.to_sender_messages
        },
        // <PngIcon name="santa" />
        {
          label: t('menu_chats_recipient'),
          url: game.getUrl('chat/recipient'),
          notification: game.unread_messages_counts && !!game.unread_messages_counts.as_sender_messages
        } // <PngIcon name="man" />
        ] : []))
      };
      var settingsMenu = {
        label: t('menu_dashboard'),
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
          name: "cooker"
        }),
        name: 'game_settings',
        child: [{
          label: t('menu_settings'),
          icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
            name: "gear"
          }),
          name: 'game_settings',
          url: game.getUrl('settings')
        }, {
          label: t('menu_invite'),
          url: game.getUrl('invite'),
          icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
            name: "love-letter"
          })
        }, {
          label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_10__["TransProxy"], {
            i18nKey: game.isPro() ? 'menu_purchased' : 'menu_purchase'
          }),
          icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
            name: "cart"
          }),
          name: 'game_purchase',
          url: game.getUrl('purchase')
        }]
      };
      var generated =
      // Player's joining
      !game.is_admin && !game.participating ? [{
        label: t('join'),
        url: game.getUrl('questionary'),
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
          name: "clock"
        })
      }] : game.isArchived() ? [archivedItem] : [whoIsSantaItem].concat(joinItems, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(playMenu), [chatMenu, game.is_admin ? settingsMenu : null]);
      var process = function process(payload) {
        return payload.map(function (i) {
          if (i && i.child) return _objectSpread(_objectSpread({}, i), {}, {
            child: process(i.child)
          });
          return i ? _objectSpread(_objectSpread({}, i), {}, {
            customComponent: _pages_Game__WEBPACK_IMPORTED_MODULE_14__["GameLink"]
          }) : i;
        });
      };
      return {
        key: game.id,
        dataKey: game.id,
        label: game.name,
        truncate: true,
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, game.is_admin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
          style: {
            position: 'absolute',
            left: 0,
            right: 0,
            margin: '-8px auto 0',
            zIndex: 1
          },
          name: "crown"
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(MenuGameAvatar, {
          game: game
        })),
        isHide: isHide,
        child: generated
      };
    };
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(function () {
    mergedGamesStatus == 'idle' && dispatch(Object(_redux_slices_games__WEBPACK_IMPORTED_MODULE_5__["fetchMergedGames"])());
  }, []);
  var gamesMenu = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    if ((!mergedGames.length || !currentGame.id) && (gameStatus == 'loading' || mergedGamesStatus == 'loading')) return Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_15__["fillArray"])(3, {
      placeholder: true
    });

    // show games list
    if (mergedGamesStatus == 'succeeded' && mergedGames.length) return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(!mergedGames.filter(function (gm) {
      return gm.id == currentGame.id;
    }).length && currentGame.id ? [generateGameMenu(currentGame)] : []), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(mergedGames.filter(function (gm) {
      return gm.state != 'archived';
    }).map(function (gm) {
      return [gm.id, gm.slug].includes(requestGameId) ? generateGameMenu(gm.id == currentGame.id && gameStatus == 'succeeded' ? currentGame : gm, false) : generateGameMenu(gm, true);
    })));
    // if only one game exists
    else if (gameStatus == 'succeeded' && currentGame.id) {
      return [generateGameMenu(currentGame, false)];
    } else if (authUser.info_was_given === false) return [{
      label: t('new_game'),
      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
        name: "ball"
      }),
      child: [{
        label: t('create'),
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
          name: "clock"
        })
      }]
    }];else return [];
  }, [mergedGamesStatus, mergedGames, requestGameId, gameStatus, currentGame, i18n.language, localesLoaded]);
  var archivedGames = Object(react__WEBPACK_IMPORTED_MODULE_4__["useMemo"])(function () {
    return mergedGames.filter(function (gm) {
      return gm.state == 'archived';
    });
  }, [mergedGames, i18n.language]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_Aside__WEBPACK_IMPORTED_MODULE_7__["GeneratedAsideTree"], {
    currentUrl: [path, path.replace(currentGame.id, currentGame.slug), path.replace(currentGame.slug, currentGame.id)],
    data: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(gamesMenu), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(archivedGames.length > 0 ? [{
      divider: true
    }, {
      label: t('menu_archive'),
      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_6__["PngIcon"], {
        name: "archive"
      }),
      isHide: true,
      name: 'games_archive',
      child: archivedGames.map(function (i) {
        return {
          key: 'archived_games_' + i.id,
          label: i.name,
          truncate: true,
          url: _routes__WEBPACK_IMPORTED_MODULE_2__["URLS"].Game('', i),
          icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(MenuGameAvatar, {
            game: i
          })
        };
      })
    }] : []))
  });
}

/***/ }),

/***/ "./app/javascript/partials/Logo.tsx":
/*!******************************************!*\
  !*** ./app/javascript/partials/Logo.tsx ***!
  \******************************************/
/*! exports provided: Logo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Logo", function() { return Logo; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _components_PngIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/PngIcon */ "./app/javascript/components/PngIcon.tsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var _components_TransProxy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/TransProxy */ "./app/javascript/components/TransProxy.tsx");





function Logo() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
    to: _routes__WEBPACK_IMPORTED_MODULE_1__["URLS"].Home,
    className: "logo"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TransProxy__WEBPACK_IMPORTED_MODULE_4__["TransProxy"], {
    i18nKey: "logo",
    components: {
      santa: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PngIcon__WEBPACK_IMPORTED_MODULE_2__["PngIcon"], {
        name: "santa"
      })
    }
  }));
}

/***/ }),

/***/ "./app/javascript/redux/slices/auth.ts":
/*!*********************************************!*\
  !*** ./app/javascript/redux/slices/auth.ts ***!
  \*********************************************/
/*! exports provided: updateUser, tempGameIdCookieName, setUser, setUserInfo, setTempEmail, setTempGameId, setTempPassword, setJustLogged, setCopyGame, default, isLogged, isJustLogged, getAuthUser, getTempEmail, getTempPassword, getTempGameId, getCopyGame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateUser", function() { return updateUser; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tempGameIdCookieName", function() { return tempGameIdCookieName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setUser", function() { return setUser; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setUserInfo", function() { return setUserInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setTempEmail", function() { return setTempEmail; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setTempGameId", function() { return setTempGameId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setTempPassword", function() { return setTempPassword; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setJustLogged", function() { return setJustLogged; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setCopyGame", function() { return setCopyGame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isLogged", function() { return isLogged; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isJustLogged", function() { return isJustLogged; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAuthUser", function() { return getAuthUser; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTempEmail", function() { return getTempEmail; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTempPassword", function() { return getTempPassword; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTempGameId", function() { return getTempGameId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCopyGame", function() { return getCopyGame; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reduxjs/toolkit */ "./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/src/js.cookie.js");
/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");


var _extraReducers;
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }




var updateUser = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__["createAsyncThunk"])('auth/updateUser', /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(payload) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return _core_api__WEBPACK_IMPORTED_MODULE_5__["Api"].users.update()();
          case 2:
            return _context.abrupt("return", _context.sent);
          case 3:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return function (_x) {
    return _ref.apply(this, arguments);
  };
}());
var tempGameIdCookieName = 'temp_game_id';
var authSlice = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__["createSlice"])({
  name: 'auth',
  initialState: {
    updateStatus: 'idle',
    user: {},
    tempEmail: '',
    tempPassword: '',
    tempGameId: '',
    justLogged: false,
    copyGame: null
  },
  reducers: {
    setTempGameId: function setTempGameId(state, action) {
      state.tempGameId = action.payload;
      action.payload ? js_cookie__WEBPACK_IMPORTED_MODULE_4___default.a.set(tempGameIdCookieName, action.payload, {
        expires: 3
      }) : js_cookie__WEBPACK_IMPORTED_MODULE_4___default.a.remove(tempGameIdCookieName); // live for 30 minutes
    },

    setTempEmail: function setTempEmail(state, action) {
      state.tempEmail = action.payload;
    },
    setTempPassword: function setTempPassword(state, action) {
      state.tempPassword = action.payload;
    },
    setUser: function setUser(state, action) {
      //plainGtm({event: 'user_init', user_info: action.payload});
      state.user = action.payload;
    },
    setUserInfo: function setUserInfo(state, action) {
      state.user = _objectSpread(_objectSpread({}, state.user), action.payload);
    },
    setJustLogged: function setJustLogged(state) {
      state.justLogged = true;
    },
    setCopyGame: function setCopyGame(state, action) {
      state.copyGame = action.payload;
    }
  },
  extraReducers: (_extraReducers = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_extraReducers, updateUser.pending, function (state, action) {
    state.updateStatus = 'loading';
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_extraReducers, updateUser.fulfilled, function (state, action) {
    state.updateStatus = 'succeeded';
    action.payload.id && (state.user = action.payload);
  }), _extraReducers)
});
var _authSlice$actions = authSlice.actions,
  setUser = _authSlice$actions.setUser,
  setUserInfo = _authSlice$actions.setUserInfo,
  setTempEmail = _authSlice$actions.setTempEmail,
  setTempGameId = _authSlice$actions.setTempGameId,
  setTempPassword = _authSlice$actions.setTempPassword,
  setJustLogged = _authSlice$actions.setJustLogged,
  setCopyGame = _authSlice$actions.setCopyGame;

/* harmony default export */ __webpack_exports__["default"] = (authSlice.reducer);
var isLogged = function isLogged(state) {
  return state.auth.user && state.auth.user.id;
};
var isJustLogged = function isJustLogged(state) {
  return state.auth.justLogged;
};
var getAuthUser = function getAuthUser(state) {
  return _objectSpread(_objectSpread({}, state.auth.user), {}, {
    getDisplayName: function getDisplayName() {
      var name = [this.first_name ? this.first_name.trim() : '', this.last_name ? this.last_name.trim() : ''].filter(function (n) {
        return n;
      });
      return name.length ? name.join(' ') : this.email;
    }
  });
};
var getTempEmail = function getTempEmail(state) {
  return state.auth.tempEmail;
};
var getTempPassword = function getTempPassword(state) {
  return state.auth.tempPassword;
};
var getTempGameId = function getTempGameId(state) {
  return state.auth.tempGameId || js_cookie__WEBPACK_IMPORTED_MODULE_4___default.a.get(tempGameIdCookieName);
};
var getCopyGame = function getCopyGame(state) {
  return state.auth.copyGame;
};

/***/ }),

/***/ "./app/javascript/redux/slices/game.ts":
/*!*********************************************!*\
  !*** ./app/javascript/redux/slices/game.ts ***!
  \*********************************************/
/*! exports provided: fetchGame, updateGame, fetchPlayers, updatePlayers, gameInterface, setGame, clearGame, setGameInfo, setJustTossed, setPlayerInfo, setPlayers, setPlayersQuery, getGame, getGameUpdateStatus, getGameStatus, getTempGame, getJustTossedState, getPlayers, getPlayersQuery, getPlayersTotalCount, getPlayersStatus, getPlayersUpdated, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchGame", function() { return fetchGame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateGame", function() { return updateGame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchPlayers", function() { return fetchPlayers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updatePlayers", function() { return updatePlayers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gameInterface", function() { return gameInterface; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setGame", function() { return setGame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clearGame", function() { return clearGame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setGameInfo", function() { return setGameInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setJustTossed", function() { return setJustTossed; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPlayerInfo", function() { return setPlayerInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPlayers", function() { return setPlayers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPlayersQuery", function() { return setPlayersQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGame", function() { return getGame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGameUpdateStatus", function() { return getGameUpdateStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGameStatus", function() { return getGameStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTempGame", function() { return getTempGame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getJustTossedState", function() { return getJustTossedState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPlayers", function() { return getPlayers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPlayersQuery", function() { return getPlayersQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPlayersTotalCount", function() { return getPlayersTotalCount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPlayersStatus", function() { return getPlayersStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPlayersUpdated", function() { return getPlayersUpdated; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reduxjs/toolkit */ "./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../helpers/utils */ "./app/javascript/helpers/utils.tsx");
/* harmony import */ var _helpers_initialState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../helpers/initialState */ "./app/javascript/helpers/initialState.ts");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../routes */ "./app/javascript/routes/index.tsx");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/constants */ "./app/javascript/core/constants.ts");



var _extraReducers;
var _excluded = ["user_in_game_id"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }







// Requests
var requestFetchGame = /*#__PURE__*/function () {
    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(gameId) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return _core_api__WEBPACK_IMPORTED_MODULE_5__["Api"].games[Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["isValidUUID"])(gameId) ? 'getById' : 'getBySlug'](gameId)();
            case 2:
              return _context.abrupt("return", _context.sent);
            case 3:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return function requestFetchGame(_x) {
      return _ref.apply(this, arguments);
    };
  }(),
  requestFetchPlayers = /*#__PURE__*/function () {
    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(gameId, query) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.next = 2;
              return _core_api__WEBPACK_IMPORTED_MODULE_5__["Api"].games.getPlayers(gameId, _objectSpread({
                offset: 0,
                limit: _core_constants__WEBPACK_IMPORTED_MODULE_9__["PLAYERS_LOAD_ITEMS"]
              }, query))();
            case 2:
              return _context2.abrupt("return", _context2.sent);
            case 3:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));
    return function requestFetchPlayers(_x2, _x3) {
      return _ref2.apply(this, arguments);
    };
  }();

// Thunks
var fetchGame = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__["createAsyncThunk"])('game/fetchGame', requestFetchGame),
  updateGame = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__["createAsyncThunk"])('game/updateGame', function (payload, thunkAPI) {
    return requestFetchGame(getGame(thunkAPI.getState()).id);
  }),
  fetchPlayers = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__["createAsyncThunk"])('game/fetchPlayers', function (payload, thunkAPI) {
    thunkAPI.dispatch(setPlayersQuery(payload));
    return requestFetchPlayers(getGame(thunkAPI.getState()).id, payload);
  }),
  updatePlayers = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__["createAsyncThunk"])('game/updatePlayers', function (payload, thunkAPI) {
    var state = thunkAPI.getState();
    return requestFetchPlayers(getGame(state).id, _objectSpread(_objectSpread({}, getPlayersQuery(state)), {}, {
      offset: 0,
      limit: 99
    }));
  });
var baseState = {
  status: 'idle',
  updateStatus: 'idle',
  info: {},
  players: {
    status: 'idle',
    updateStatus: 'idle',
    data: [],
    updatedData: null,
    state: {
      isEnd: false
    },
    query: {},
    totalCount: 0
  },
  tempGame: {
    name: '',
    avatar: ''
  },
  justTossed: false
};
var gameSlice = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__["createSlice"])({
  name: 'game',
  initialState: baseState,
  reducers: {
    setJustTossed: function setJustTossed(state, action) {
      state.justTossed = action.payload;
    },
    setGameInfo: function setGameInfo(state, action) {
      if (state.info.id) state.info = _objectSpread(_objectSpread({}, state.info), action.payload);else state.tempGame = _objectSpread(_objectSpread({}, state.tempGame), action.payload);
    },
    setPlayers: function setPlayers(state, action) {
      state.players.data = action.payload;
    },
    setPlayersQuery: function setPlayersQuery(state, action) {
      state.players.query = action.payload;
    },
    setPlayerInfo: function setPlayerInfo(state, action) {
      var _action$payload = action.payload,
        id = _action$payload.user_in_game_id,
        updateState = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_action$payload, _excluded);
      var playerIndex = state.players.data.findIndex(function (i) {
        return i.user_in_game_id == id;
      });
      var player = state.players.data[playerIndex];
      player && (state.players.data[playerIndex] = _objectSpread(_objectSpread({}, player), updateState));
    },
    setGame: function setGame(state, action) {
      return state = _objectSpread(_objectSpread({}, state), {}, {
        info: action.payload
      });
    },
    clearGame: function clearGame(state) {
      return state = _objectSpread({}, baseState);
    }
  },
  extraReducers: (_extraReducers = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, updatePlayers.fulfilled, function (state, action) {
    var _action$payload2 = action.payload,
      players = _action$payload2.players,
      total_count = _action$payload2.total_count;
    state.players = _objectSpread(_objectSpread({}, state.players), {}, {
      data: players,
      updatedData: players,
      totalCount: total_count,
      updateStatus: 'succeeded'
    });
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, updatePlayers.pending, function (state, action) {
    state.players.updateStatus = 'loading';
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchPlayers.pending, function (state, action) {
    state.players.status = 'loading';
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchPlayers.fulfilled, function (state, action) {
    var _action$payload3 = action.payload,
      players = _action$payload3.players,
      total_count = _action$payload3.total_count;

    // If we are in list mode and response is empty then set flag that list is reached end
    if (state.players.data.length + players.length == total_count) state.players.state.isEnd = true;
    state.players = _objectSpread(_objectSpread({}, state.players), {}, {
      data: players,
      totalCount: total_count,
      status: 'succeeded'
    });
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchPlayers.pending, function (state, action) {
    state.players.status = 'loading';
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchGame.pending, function (state, action) {
    state.status = 'loading';
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchGame.fulfilled, function (state, action) {
    if (action.payload.code == 'not_found') state.status = 'not_found';else {
      state.status = 'succeeded';
      state.info = action.payload;
    }
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, updateGame.pending, function (state, action) {
    state.updateStatus = 'loading';
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, updateGame.fulfilled, function (state, action) {
    state.updateStatus = 'succeeded';
    state.info = action.payload;
  }), _extraReducers)
});
var gameInterface = {
  getPlayersCount: function getPlayersCount() {
    return this.players_count && this.players_count.total;
  },
  getApprovedPlayersCount: function getApprovedPlayersCount() {
    return this.players_count && this.players_count.approved;
  },
  getParticipating: function getParticipating() {
    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    return this.participating ? key ? this.participating[key] : this.participating : false;
  },
  getTariff: function getTariff() {
    return this.paid_status;
  },
  isTossCompleted: function isTossCompleted() {
    return ['players_assigned', 'presents_shoud_be_sent', 'finished', 'inactive'].includes(this.state);
  },
  isTossing: function isTossing() {
    return this.state == 'tossing';
  },
  isDeliveryGetType: function isDeliveryGetType() {
    return this.where_to_get_presents == 'delivery';
  },
  isComplexDeliveryGetType: function isComplexDeliveryGetType() {
    return this.isDeliveryGetType() || this.isOfficesAndRemoteGetType() && this.getSendPresentTo().address;
  },
  isOnePlaceGetType: function isOnePlaceGetType() {
    return this.where_to_get_presents == 'one_place';
  },
  isOfficesAndRemoteGetType: function isOfficesAndRemoteGetType() {
    return this.where_to_get_presents == 'offices_n_remote';
  },
  isJoinedGame: function isJoinedGame() {
    return this.getParticipating('status') == 'approved';
  },
  isParticipatingRejectedGame: function isParticipatingRejectedGame() {
    return this.getParticipating('status') == 'rejected';
  },
  isParticipatingPending: function isParticipatingPending() {
    return this.getParticipating('status') == 'pending';
  },
  isParticipatingUnknown: function isParticipatingUnknown() {
    return !this.participating && this.id;
  },
  isPro: function isPro() {
    return !!this.payment || ['pro', 'super_pro'].includes(this.paid_status);
  },
  isSuperPro: function isSuperPro() {
    return this.paid_status == 'super_pro';
  },
  isPrivate: function isPrivate() {
    return this.game_type == 'closed';
  },
  isArchived: function isArchived() {
    return this.state == 'archived';
  },
  isPresentBoughtToMe: function isPresentBoughtToMe() {
    return this.present_to_me && this.present_to_me.present_bought;
  },
  isPresentDeliveredToMe: function isPresentDeliveredToMe() {
    return this.present_to_me && this.present_to_me.present_sended;
  },
  isPresentGetToMe: function isPresentGetToMe() {
    return this.isPresentBoughtToMe() || this.isPresentDeliveredToMe();
  },
  isPresentReceivedForMe: function isPresentReceivedForMe() {
    return this.getParticipating('present_received');
  },
  isPresentUnknownStatus: function isPresentUnknownStatus() {
    return !this.isPresentReceivedForMe() && !this.isPresentDeliveredToMe() && !this.isPresentBoughtToMe();
  },
  isPresentGetForGive: function isPresentGetForGive() {
    return this.isPresentBoughtForGive() || this.isPresentDeliveredForGive();
  },
  isPresentBoughtForGive: function isPresentBoughtForGive() {
    return this.getParticipating('present_bought');
    //return this.send_present_to.boughted_present_url;
  },
  isPresentDeliveredForGive: function isPresentDeliveredForGive() {
    return this.getParticipating('present_sended');
    //return !!this.send_present_to.tracking_code;
  },
  hasPresentSendInfo: function hasPresentSendInfo() {
    return this.hasPresentSendDeliveryInfo() || this.hasPresentSendBoughtInfo();
  },
  hasPresentSendDeliveryInfo: function hasPresentSendDeliveryInfo() {
    var sendTo = this.getSendPresentTo();
    return this.isComplexDeliveryGetType() && !!(sendTo.tracking_code || sendTo.tracking_description);
  },
  hasPresentSendBoughtInfo: function hasPresentSendBoughtInfo() {
    var sendTo = this.getSendPresentTo();
    return !!sendTo.tracking_description;
  },
  getSendPresentTo: function getSendPresentTo() {
    return this.send_present_to || {};
  },
  getUrl: function getUrl() {
    var sub = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    if (!this.id && !this.slug) return '';
    return _routes__WEBPACK_IMPORTED_MODULE_8__["URLS"].Game(sub, this);
  },
  getFullUrl: function getFullUrl() {
    var sub = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    return Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_6__["removeTrailingSlash"])(_helpers_initialState__WEBPACK_IMPORTED_MODULE_7__["initialState"].host) + this.getUrl(sub);
  }
};

// Setters
var _gameSlice$actions = gameSlice.actions,
  setGame = _gameSlice$actions.setGame,
  clearGame = _gameSlice$actions.clearGame,
  setGameInfo = _gameSlice$actions.setGameInfo,
  setJustTossed = _gameSlice$actions.setJustTossed,
  setPlayerInfo = _gameSlice$actions.setPlayerInfo,
  setPlayers = _gameSlice$actions.setPlayers,
  setPlayersQuery = _gameSlice$actions.setPlayersQuery;

// Getters

var getGame = function getGame(state) {
    return _objectSpread(_objectSpread({}, state.game.info), gameInterface);
  },
  getGameUpdateStatus = function getGameUpdateStatus(state) {
    return state.game.updateStatus;
  },
  getGameStatus = function getGameStatus(state) {
    return state.game.status;
  },
  getTempGame = function getTempGame(state) {
    return state.game.tempGame;
  },
  getJustTossedState = function getJustTossedState(state) {
    return state.game.justTossed;
  },
  getPlayers = function getPlayers(state) {
    return state.game.players.data;
  },
  getPlayersQuery = function getPlayersQuery(state) {
    return state.game.players.query;
  },
  getPlayersTotalCount = function getPlayersTotalCount(state) {
    return state.game.players.totalCount;
  },
  getPlayersStatus = function getPlayersStatus(state) {
    return state.game.players.status;
  },
  getPlayersUpdated = function getPlayersUpdated(state) {
    return state.game.players.updatedData;
  };
/* harmony default export */ __webpack_exports__["default"] = (gameSlice.reducer);

/***/ }),

/***/ "./app/javascript/redux/slices/games.ts":
/*!**********************************************!*\
  !*** ./app/javascript/redux/slices/games.ts ***!
  \**********************************************/
/*! exports provided: fetchGames, fetchPlayableGames, fetchMergedGames, default, addOrganizerGame, addPlayableGame, removeOrganizerGame, updateListGameInfo, getGamesStatus, getPlayableGamesStatus, getGames, getPlayableGames, getMergedGames, getMergedGamesStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchGames", function() { return fetchGames; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchPlayableGames", function() { return fetchPlayableGames; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchMergedGames", function() { return fetchMergedGames; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addOrganizerGame", function() { return addOrganizerGame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addPlayableGame", function() { return addPlayableGame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeOrganizerGame", function() { return removeOrganizerGame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateListGameInfo", function() { return updateListGameInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGamesStatus", function() { return getGamesStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPlayableGamesStatus", function() { return getPlayableGamesStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGames", function() { return getGames; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPlayableGames", function() { return getPlayableGames; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMergedGames", function() { return getMergedGames; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMergedGamesStatus", function() { return getMergedGamesStatus; });
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reduxjs/toolkit */ "./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");
/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _core_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/api */ "./app/javascript/core/api/index.ts");



var _extraReducers;
var _excluded = ["id"];
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }




var fetchGames = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__["createAsyncThunk"])('games/fetchGames', /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee() {
  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return _core_api__WEBPACK_IMPORTED_MODULE_6__["Api"].games.getGames()();
        case 2:
          return _context.abrupt("return", _context.sent);
        case 3:
        case "end":
          return _context.stop();
      }
    }
  }, _callee);
})));
var fetchPlayableGames = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__["createAsyncThunk"])('games/fetchPlayableGames', /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2() {
  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {
    while (1) {
      switch (_context2.prev = _context2.next) {
        case 0:
          _context2.next = 2;
          return _core_api__WEBPACK_IMPORTED_MODULE_6__["Api"].games.getPlayableGames()();
        case 2:
          return _context2.abrupt("return", _context2.sent);
        case 3:
        case "end":
          return _context2.stop();
      }
    }
  }, _callee2);
})));
var fetchMergedGames = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__["createAsyncThunk"])('games/fetchMergedGames', /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee3() {
  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee3$(_context3) {
    while (1) {
      switch (_context3.prev = _context3.next) {
        case 0:
          return _context3.abrupt("return", _core_api__WEBPACK_IMPORTED_MODULE_6__["Api"].games.getAllGames()());
        case 1:
        case "end":
          return _context3.stop();
      }
    }
  }, _callee3);
})));
var prependToMergedGames = function prependToMergedGames(state, action) {
  var addedGame = processGame(action.payload);
  var added = false;
  state.mergedGames.data.map(function (game, index) {
    if (game.id == addedGame.id) {
      added = true;
      state.mergedGames.data[index] = _objectSpread(_objectSpread({}, game), addedGame);
    }
  });
  if (!added) state.mergedGames.data.unshift(addedGame);
};
var baseState = {
  organizableGames: {
    status: 'idle',
    data: []
  },
  playableGames: {
    status: 'idle',
    data: []
  },
  mergedGames: {
    status: 'idle',
    data: []
  }
};
var processGame = function processGame(item) {
  return _objectSpread(_objectSpread({}, item), _game__WEBPACK_IMPORTED_MODULE_5__["gameInterface"]);
};
var gamesSlice = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_4__["createSlice"])({
  name: 'games',
  initialState: baseState,
  reducers: {
    updateListGameInfo: function updateListGameInfo(state, action) {
      var _action$payload = action.payload,
        id = _action$payload.id,
        updateState = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_action$payload, _excluded);
      var organizableGamesIndex = state.organizableGames.data.findIndex(function (i) {
        return i.id == id;
      });
      var mergedGamesIndex = state.mergedGames.data.findIndex(function (i) {
        return i.id == id;
      });
      var organizableUpdatingGame = state.organizableGames.data[organizableGamesIndex];
      var mergedUpdatingGame = state.mergedGames.data[mergedGamesIndex];
      organizableUpdatingGame && (state.organizableGames.data[organizableGamesIndex] = _objectSpread(_objectSpread({}, organizableUpdatingGame), updateState));
      mergedUpdatingGame && (state.mergedGames.data[mergedGamesIndex] = _objectSpread(_objectSpread({}, mergedUpdatingGame), updateState));
    },
    removeOrganizerGame: function removeOrganizerGame(state, action) {
      state.organizableGames.data = state.organizableGames.data.filter(function (i) {
        return i.id != action.payload;
      });
      state.mergedGames.data = state.mergedGames.data.filter(function (i) {
        return i.id != action.payload;
      });
    },
    addOrganizerGame: function addOrganizerGame(state, action) {
      state.organizableGames.data.push(action.payload);
      prependToMergedGames(state, action);
    },
    addPlayableGame: function addPlayableGame(state, action) {
      state.playableGames.data.push(action.payload);
      prependToMergedGames(state, action);
    }
  },
  extraReducers: (_extraReducers = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchGames.pending, function (state, action) {
    state.organizableGames.status = 'loading';
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchGames.fulfilled, function (state, action) {
    state.organizableGames.status = 'succeeded';
    state.organizableGames.data = action.payload;
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchPlayableGames.pending, function (state, action) {
    state.playableGames.status = 'loading';
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchPlayableGames.fulfilled, function (state, action) {
    state.playableGames.status = 'succeeded';
    state.playableGames.data = action.payload;
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchMergedGames.pending, function (state, action) {
    state.mergedGames.status = 'loading';
  }), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_extraReducers, fetchMergedGames.fulfilled, function (state, action) {
    state.mergedGames.status = 'succeeded';
    state.mergedGames.data = action.payload.map(function (item) {
      return processGame(item);
    });
  }), _extraReducers)
});
/* harmony default export */ __webpack_exports__["default"] = (gamesSlice.reducer);
var _gamesSlice$actions = gamesSlice.actions,
  addOrganizerGame = _gamesSlice$actions.addOrganizerGame,
  addPlayableGame = _gamesSlice$actions.addPlayableGame,
  removeOrganizerGame = _gamesSlice$actions.removeOrganizerGame,
  updateListGameInfo = _gamesSlice$actions.updateListGameInfo;

var getGamesStatus = function getGamesStatus(state) {
  return state.games.organizableGames.status;
};
var getPlayableGamesStatus = function getPlayableGamesStatus(state) {
  return state.games.playableGames.status;
};
var getGames = function getGames(state) {
  return state.games.organizableGames.data;
};
var getPlayableGames = function getPlayableGames(state) {
  return state.games.playableGames.data;
};
var getMergedGames = function getMergedGames(state) {
  return state.games.mergedGames.data;
};
var getMergedGamesStatus = function getMergedGamesStatus(state) {
  return state.games.mergedGames.status;
};

/***/ }),

/***/ "./app/javascript/redux/store.ts":
/*!***************************************!*\
  !*** ./app/javascript/redux/store.ts ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ "./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");
/* harmony import */ var _slices_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _slices_game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./slices/game */ "./app/javascript/redux/slices/game.ts");
/* harmony import */ var _slices_games__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./slices/games */ "./app/javascript/redux/slices/games.ts");




/* harmony default export */ __webpack_exports__["default"] = (Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__["configureStore"])({
  reducer: {
    auth: _slices_auth__WEBPACK_IMPORTED_MODULE_1__["default"],
    game: _slices_game__WEBPACK_IMPORTED_MODULE_2__["default"],
    games: _slices_games__WEBPACK_IMPORTED_MODULE_3__["default"]
  },
  middleware: Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__["getDefaultMiddleware"])({
    serializableCheck: false
  })
}));

/***/ }),

/***/ "./app/javascript/routes/OnlyPublicRoute.tsx":
/*!***************************************************!*\
  !*** ./app/javascript/routes/OnlyPublicRoute.tsx ***!
  \***************************************************/
/*! exports provided: OnlyPublicRoute */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnlyPublicRoute", function() { return OnlyPublicRoute; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index */ "./app/javascript/routes/index.tsx");





function OnlyPublicRoute(_ref) {
  var children = _ref.children;
  var isAuth = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["isLogged"]);
  var isJustLogin = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["isJustLogged"]);
  return !isAuth || isJustLogin ? children : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Navigate"], {
    to: _index__WEBPACK_IMPORTED_MODULE_4__["URLS"].Home
  });
}

/***/ }),

/***/ "./app/javascript/routes/PrivateRoute.tsx":
/*!************************************************!*\
  !*** ./app/javascript/routes/PrivateRoute.tsx ***!
  \************************************************/
/*! exports provided: PrivateRoute */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrivateRoute", function() { return PrivateRoute; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index */ "./app/javascript/routes/index.tsx");





function PrivateRoute(_ref) {
  var children = _ref.children;
  var isAuth = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_3__["isLogged"]),
    location = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["useLocation"])();
  return isAuth ? children : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Navigate"], {
    state: {
      from: location.pathname
    },
    to: _index__WEBPACK_IMPORTED_MODULE_4__["URLS"].AuthLogin
  });
}

/***/ }),

/***/ "./app/javascript/routes/index.tsx":
/*!*****************************************!*\
  !*** ./app/javascript/routes/index.tsx ***!
  \*****************************************/
/*! exports provided: URLS, AppRoutes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "URLS", function() { return URLS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutes", function() { return AppRoutes; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../redux/slices/auth */ "./app/javascript/redux/slices/auth.ts");
/* harmony import */ var _core_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/constants */ "./app/javascript/core/constants.ts");
/* harmony import */ var _PrivateRoute__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./PrivateRoute */ "./app/javascript/routes/PrivateRoute.tsx");
/* harmony import */ var _OnlyPublicRoute__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./OnlyPublicRoute */ "./app/javascript/routes/OnlyPublicRoute.tsx");
/* harmony import */ var _layouts_SimplePage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../layouts/SimplePage */ "./app/javascript/layouts/SimplePage.tsx");
/* harmony import */ var _pages_Home__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../pages/Home */ "./app/javascript/pages/Home.tsx");
/* harmony import */ var _pages_AuthEmailLink__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../pages/AuthEmailLink */ "./app/javascript/pages/AuthEmailLink.tsx");
/* harmony import */ var _pages_AuthSetPassword__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../pages/AuthSetPassword */ "./app/javascript/pages/AuthSetPassword.tsx");
/* harmony import */ var _pages_AuthLoginPassword__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../pages/AuthLoginPassword */ "./app/javascript/pages/AuthLoginPassword.tsx");
/* harmony import */ var _pages_AuthEmailSent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../pages/AuthEmailSent */ "./app/javascript/pages/AuthEmailSent.tsx");
/* harmony import */ var _pages_ForgotPassword__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../pages/ForgotPassword */ "./app/javascript/pages/ForgotPassword.tsx");
/* harmony import */ var _pages_UserEdit__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../pages/UserEdit */ "./app/javascript/pages/UserEdit.tsx");
/* harmony import */ var _pages_NotFound__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../pages/NotFound */ "./app/javascript/pages/NotFound.tsx");
/* harmony import */ var _pages_GameCreate__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../pages/GameCreate */ "./app/javascript/pages/GameCreate.tsx");
/* harmony import */ var _pages_Game__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../pages/Game */ "./app/javascript/pages/Game/index.tsx");
/* harmony import */ var _pages_Game_Dashboard__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../pages/Game/Dashboard */ "./app/javascript/pages/Game/Dashboard.tsx");
/* harmony import */ var _pages_Game_Invite__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../pages/Game/Invite */ "./app/javascript/pages/Game/Invite.tsx");
/* harmony import */ var _pages_Game_Settings__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../pages/Game/Settings */ "./app/javascript/pages/Game/Settings.tsx");
/* harmony import */ var _pages_Game_Landing__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../pages/Game/Landing */ "./app/javascript/pages/Game/Landing.tsx");
/* harmony import */ var _pages_Game_Join__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../pages/Game/Join */ "./app/javascript/pages/Game/Join.tsx");
/* harmony import */ var _pages_Game_WhoIsSanta__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../pages/Game/WhoIsSanta */ "./app/javascript/pages/Game/WhoIsSanta.tsx");
/* harmony import */ var _pages_Game_Recommendations__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../pages/Game/Recommendations */ "./app/javascript/pages/Game/Recommendations.tsx");
/* harmony import */ var _pages_Game_Purchase__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../pages/Game/Purchase */ "./app/javascript/pages/Game/Purchase/index.tsx");
/* harmony import */ var _pages_Wishlist__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../pages/Wishlist */ "./app/javascript/pages/Wishlist.tsx");
/* harmony import */ var _pages_ShopFrame__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../pages/ShopFrame */ "./app/javascript/pages/ShopFrame.tsx");
/* harmony import */ var _pages_AuthRegister__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../pages/AuthRegister */ "./app/javascript/pages/AuthRegister.tsx");
/* harmony import */ var _pages_NewPassword__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../pages/NewPassword */ "./app/javascript/pages/NewPassword.tsx");
/* harmony import */ var _pages_Game_Toss__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../pages/Game/Toss */ "./app/javascript/pages/Game/Toss/index.tsx");
/* harmony import */ var _pages_Blocked__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../pages/Blocked */ "./app/javascript/pages/Blocked.tsx");
/* harmony import */ var _pages_FastToss__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../pages/FastToss */ "./app/javascript/pages/FastToss.tsx");
/* harmony import */ var _components_SocialAuth_YandexAuth__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../components/SocialAuth/YandexAuth */ "./app/javascript/components/SocialAuth/YandexAuth.tsx");
/* harmony import */ var _pages_AuthCallback__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../pages/AuthCallback */ "./app/javascript/pages/AuthCallback.tsx");
/* harmony import */ var _pages_Game_Toss_TossForReceive__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../pages/Game/Toss/TossForReceive */ "./app/javascript/pages/Game/Toss/TossForReceive/index.tsx");
/* harmony import */ var _pages_Game_Toss_TossForGive__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../pages/Game/Toss/TossForGive */ "./app/javascript/pages/Game/Toss/TossForGive/index.tsx");
/* harmony import */ var _pages_Partners__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../pages/Partners */ "./app/javascript/pages/Partners/index.tsx");
/* harmony import */ var _pages_Game_Chat__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../pages/Game/Chat */ "./app/javascript/pages/Game/Chat/index.tsx");
/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../helpers/utils */ "./app/javascript/helpers/utils.tsx");



var _excluded = ["element"];








































var URLS = {
  Home: '/dashboard',
  AuthLogin: '/login',
  AuthEmailSent: '/email_links/sent',
  AuthLoginPassword: '/users/sign_in',
  AuthRegister: '/signup',
  AuthSetPassword: '/set_password',
  ForgotPassword: '/forgot_password',
  NewPassword: '/users/password/edit',
  UserEditInfo: '/users/edit',
  UserSignOut: '/users/sign_out',
  GameCreate: '/games/new',
  Shop: '/shop',
  ShopFrame: '/shop_frame',
  Wishlist: '/wishlist',
  PublicWishlist: '/wishlist/:userId',
  Blocked: '/email_confirm',
  FastToss: '/fast-toss',
  Ref: '/ref',
  Game: function Game() {
    var sub = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    var gamePayload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    var customPrefix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
    //@ts-ignore
    var gameId = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(gamePayload) == 'object' ? gamePayload.slug || gamePayload.id : gamePayload || window.game_id;
    return "/".concat(customPrefix || _core_constants__WEBPACK_IMPORTED_MODULE_7__["GAME_URL_PREFIXES"][0], "/").concat(gameId).concat(sub ? '/' + sub : '');
  },
  UserWishlist: function UserWishlist(userId) {
    return "".concat(this.Wishlist, "/").concat(userId, "/liked");
  },
  Privacy: '/privacy_policy',
  Terms: '/terms',
  YandexCatchToken: '/yandex_catch_token'
};

function AppRoutes(_ref) {
  var children = _ref.children;
  var isAuth = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__["isLogged"]),
    tempEmail = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__["getTempEmail"]);
  var authUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(_redux_slices_auth__WEBPACK_IMPORTED_MODULE_6__["getAuthUser"]);
  var Router = !Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_42__["isServerUse"])() || Object(_helpers_utils__WEBPACK_IMPORTED_MODULE_42__["isCordova"])() ? react_router_dom__WEBPACK_IMPORTED_MODULE_4__["HashRouter"] : react_router_dom__WEBPACK_IMPORTED_MODULE_4__["BrowserRouter"];
  var layoutGroups = [{
    Layout: _layouts_SimplePage__WEBPACK_IMPORTED_MODULE_10__["SimplePage"],
    routes: [{
      path: URLS.FastToss,
      element: _pages_FastToss__WEBPACK_IMPORTED_MODULE_35__["FastToss"],
      exact: true
    }, {
      path: URLS.AuthSetPassword,
      element: _pages_AuthSetPassword__WEBPACK_IMPORTED_MODULE_13__["AuthSetPassword"],
      exact: true
    }]
  }, {
    Layout: _layouts_SimplePage__WEBPACK_IMPORTED_MODULE_10__["SimplePage"],
    AccessRoute: _OnlyPublicRoute__WEBPACK_IMPORTED_MODULE_9__["OnlyPublicRoute"],
    routes: [{
      path: URLS.AuthLogin,
      element: _pages_AuthEmailLink__WEBPACK_IMPORTED_MODULE_12__["AuthEmailLink"],
      exact: true
    }, {
      path: URLS.AuthRegister,
      element: _pages_AuthRegister__WEBPACK_IMPORTED_MODULE_31__["AuthRegister"],
      exact: true
    }, {
      path: URLS.AuthLoginPassword,
      element: _pages_AuthLoginPassword__WEBPACK_IMPORTED_MODULE_14__["AuthLoginPassword"],
      exact: true
    }, {
      path: URLS.ForgotPassword,
      element: _pages_ForgotPassword__WEBPACK_IMPORTED_MODULE_16__["ForgotPassword"],
      exact: true
    }, {
      path: URLS.NewPassword,
      element: _pages_NewPassword__WEBPACK_IMPORTED_MODULE_32__["NewPassword"],
      exact: true
    }, {
      path: URLS.AuthEmailSent,
      element: tempEmail ? _pages_AuthEmailSent__WEBPACK_IMPORTED_MODULE_15__["AuthEmailSent"] : _pages_NotFound__WEBPACK_IMPORTED_MODULE_18__["NotFound"],
      exact: true
    }]
  }];
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Router, null, children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Routes"], null, [URLS.Home, '/'].map(function (i, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
      key: index,
      path: i,
      element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Home__WEBPACK_IMPORTED_MODULE_11__["Home"], null)
    });
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: URLS.Home,
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Home__WEBPACK_IMPORTED_MODULE_11__["Home"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: URLS.Blocked,
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_PrivateRoute__WEBPACK_IMPORTED_MODULE_8__["PrivateRoute"], {
      children: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Blocked__WEBPACK_IMPORTED_MODULE_34__["Blocked"], null)
    })
  }), authUser.status == 'blocked' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "*",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Navigate"], {
      to: URLS.Blocked
    })
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "".concat(URLS.Wishlist, "/:userId/:mode"),
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Wishlist__WEBPACK_IMPORTED_MODULE_29__["Wishlist"], null)
  }), [URLS.PublicWishlist, URLS.Wishlist, URLS.Shop].map(function (i, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
      key: index,
      path: i,
      element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Wishlist__WEBPACK_IMPORTED_MODULE_29__["Wishlist"], null)
    });
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: URLS.ShopFrame,
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_ShopFrame__WEBPACK_IMPORTED_MODULE_30__["ShopFrame"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: URLS.UserEditInfo,
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_PrivateRoute__WEBPACK_IMPORTED_MODULE_8__["PrivateRoute"], {
      children: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_UserEdit__WEBPACK_IMPORTED_MODULE_17__["UserEdit"], null)
    })
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: URLS.GameCreate,
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_PrivateRoute__WEBPACK_IMPORTED_MODULE_8__["PrivateRoute"], {
      children: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_GameCreate__WEBPACK_IMPORTED_MODULE_19__["GameCreate"], null)
    })
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: URLS.Ref,
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_PrivateRoute__WEBPACK_IMPORTED_MODULE_8__["PrivateRoute"], {
      children: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Partners__WEBPACK_IMPORTED_MODULE_40__["Partners"], null)
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    index: true,
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Partners__WEBPACK_IMPORTED_MODULE_40__["List"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: ":id",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Partners__WEBPACK_IMPORTED_MODULE_40__["Show"], null)
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: URLS.Game('', ':id'),
    element: isAuth ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game__WEBPACK_IMPORTED_MODULE_20__["Game"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Landing__WEBPACK_IMPORTED_MODULE_24__["Landing"], null)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    index: true,
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Dashboard__WEBPACK_IMPORTED_MODULE_21__["Dashboard"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "invite",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Invite__WEBPACK_IMPORTED_MODULE_22__["Invite"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "questionary",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Join__WEBPACK_IMPORTED_MODULE_25__["Join"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "settings",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Settings__WEBPACK_IMPORTED_MODULE_23__["Settings"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "purchase",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Purchase__WEBPACK_IMPORTED_MODULE_28__["Purchase"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "who_is_santa",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_WhoIsSanta__WEBPACK_IMPORTED_MODULE_26__["WhoIsSanta"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "recommendations",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Recommendations__WEBPACK_IMPORTED_MODULE_27__["Recommendations"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "toss",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Toss__WEBPACK_IMPORTED_MODULE_33__["Toss"], null)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "for_me",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Toss_TossForReceive__WEBPACK_IMPORTED_MODULE_38__["TossForReceive"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "for_receiver",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Toss_TossForGive__WEBPACK_IMPORTED_MODULE_39__["TossForGive"], null)
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "chat/*",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Chat__WEBPACK_IMPORTED_MODULE_41__["Chat"], null)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    index: true,
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Chat__WEBPACK_IMPORTED_MODULE_41__["Common"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "santa",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Chat__WEBPACK_IMPORTED_MODULE_41__["WithSanta"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "recipient",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_Game_Chat__WEBPACK_IMPORTED_MODULE_41__["WithRecipient"], null)
  }))), layoutGroups.map(function (_ref2, i) {
    var Layout = _ref2.Layout,
      AccessRoute = _ref2.AccessRoute,
      routes = _ref2.routes;
    var RouteComponent = AccessRoute || react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment;
    return routes.map(function (_ref3, i) {
      var element = _ref3.element,
        route = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref3, _excluded);
      var Comp = element;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        key: i
      }, route, {
        element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Layout, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(RouteComponent, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Comp, null)))
      }));
    });
  }), _core_constants__WEBPACK_IMPORTED_MODULE_7__["GAME_URL_PREFIXES"].slice(1).map(function (prefix, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
      key: index,
      path: "/".concat(prefix, "/:id/*"),
      element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Navigate"], {
        to: location.pathname.replace("/".concat(prefix, "/"), "/".concat(_core_constants__WEBPACK_IMPORTED_MODULE_7__["GAME_URL_PREFIXES"][0], "/"))
      })
    });
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: URLS.YandexCatchToken,
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_SocialAuth_YandexAuth__WEBPACK_IMPORTED_MODULE_36__["YandexCatchToken"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "/auth_callback/:social",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_AuthCallback__WEBPACK_IMPORTED_MODULE_37__["AuthCallback"], null)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Route"], {
    path: "*",
    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layouts_SimplePage__WEBPACK_IMPORTED_MODULE_10__["SimplePage"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pages_NotFound__WEBPACK_IMPORTED_MODULE_18__["NotFound"], null))
  })));
}

/***/ }),

/***/ "./node_modules/react-phone-input-2/lang lazy recursive ^\\.\\/.*\\.json$":
/*!************************************************************************************!*\
  !*** ./node_modules/react-phone-input-2/lang lazy ^\.\/.*\.json$ namespace object ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./ar.json": [
		"./node_modules/react-phone-input-2/lang/ar.json",
		15
	],
	"./cn.json": [
		"./node_modules/react-phone-input-2/lang/cn.json",
		16
	],
	"./de.json": [
		"./node_modules/react-phone-input-2/lang/de.json",
		17
	],
	"./es.json": [
		"./node_modules/react-phone-input-2/lang/es.json",
		18
	],
	"./fr.json": [
		"./node_modules/react-phone-input-2/lang/fr.json",
		19
	],
	"./hu.json": [
		"./node_modules/react-phone-input-2/lang/hu.json",
		20
	],
	"./id.json": [
		"./node_modules/react-phone-input-2/lang/id.json",
		21
	],
	"./ir.json": [
		"./node_modules/react-phone-input-2/lang/ir.json",
		22
	],
	"./it.json": [
		"./node_modules/react-phone-input-2/lang/it.json",
		23
	],
	"./jp.json": [
		"./node_modules/react-phone-input-2/lang/jp.json",
		24
	],
	"./ko.json": [
		"./node_modules/react-phone-input-2/lang/ko.json",
		25
	],
	"./pl.json": [
		"./node_modules/react-phone-input-2/lang/pl.json",
		26
	],
	"./pt.json": [
		"./node_modules/react-phone-input-2/lang/pt.json",
		27
	],
	"./ru.json": [
		"./node_modules/react-phone-input-2/lang/ru.json",
		28
	],
	"./tr.json": [
		"./node_modules/react-phone-input-2/lang/tr.json",
		29
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return __webpack_require__.e(ids[1]).then(function() {
		return __webpack_require__.t(id, 3);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/react-phone-input-2/lang lazy recursive ^\\.\\/.*\\.json$";
module.exports = webpackAsyncContext;

/***/ })

/******/ });